/*! For license information please see main.029c6ee1.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var u in n)r.call(n,u)&&n[u]&&e.push(u)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,u],l=0;(s=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,a.default)(r)};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var u=i||"<<anonymous>>",s=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+s+"` was not specified in `"+u+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,u,a,s].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case x:return"Portal";case _:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ie=null,Ee=null;function _e(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Se(e){Ie?Ee?Ee.push(e):Ee=[e]:Ie=e}function Te(){if(Ie){var e=Ie,t=Ee;if(Ee=Ie=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==Ie||null!==Ee)&&(Ne(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Re=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,It,Et,_t,St=!1,Tt=[],Ct=null,Nt=null,At=null,Dt=new Map,Ot=new Map,Rt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void _t(e.priority,(function(){It(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){St=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==At&&jt(At)&&(At=null),Dt.forEach(Ut),Ot.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Dt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Kt){var i=Yt(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function _n(){return En}var Sn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Dn),Rn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Pn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Se(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Qn(e){jr(e,0)}function Yn(e){if(G(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,we(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Ir={},Er={};function _r(e){if(Ir[e])return Ir[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Ir[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Sr=_r("animationend"),Tr=_r("animationiteration"),Cr=_r("animationstart"),Nr=_r("transitionend"),Ar=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),s(t,[e])}for(var Rr=0;Rr<Dr.length;Rr++){var Pr=Dr[Rr];Or(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Or(Sr,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}De((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Sr:case Tr:case Cr:s=yn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Kn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Oe(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=Oe(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ii=-1;function Ei(e){return{current:e}}function _i(e){0>Ii||(e.current=xi[Ii],xi[Ii]=null,Ii--)}function Si(e,t){Ii++,xi[Ii]=e.current,e.current=t}var Ti={},Ci=Ei(Ti),Ni=Ei(!1),Ai=Ti;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){_i(Ni),_i(Ci)}function Pi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Si(Ci,t),Si(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Si(Ci,e),Si(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,_i(Ni),_i(Ci),Si(Ci,e)):_i(Ni),Si(Ni,n)}var ji=null,Ui=!1,Vi=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,zi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Ki=0,Wi=null,Hi=0,Gi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){qi[Ki++]=Hi,qi[Ki++]=Wi,Wi=e,Hi=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Ki],qi[Ki]=null,Hi=qi[--Ki],qi[Ki]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ei(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;_i(ya),e._currentValue=t}function Ia(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function _a(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=_a(a):(i=Oi(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=_a(a):(a=Oi(t)?Ai:Ci.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===I?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===I&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===I){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===I?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Pc(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case O:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Ya(!0),Xa=Ya(!1),Ja={},Za=Ei(Ja),eo=Ei(Ja),to=Ei(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Za),Si(Za,t)}function io(){_i(Za),_i(eo),_i(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Si(eo,e),Si(Za,n))}function oo(e){eo.current===e&&(_i(Za),_i(eo))}var uo=Ei(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function Io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function _o(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(){}function Oo(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Po.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function Bo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Io(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ko(e,t){return zo(2048,8,e,t)}function Wo(e,t){return zo(4,2,e,t)}function Ho(e,t){return zo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Go.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:_a,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:_a,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:_a,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:jo,useDebugValue:Yo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Ns.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:_a,useCallback:$o,useContext:_a,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ho,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1},cu={readContext:_a,useCallback:$o,useContext:_a,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ho,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Ws=r),hu(0,t)},n}function vu(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=_o(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Iu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Eu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function _u(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Rs,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Rs,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Rs,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Rs,Os),Os|=r;return wu(e,t,i,n),t.child}function Su(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Oi(n)?Ai:Ci.current;return a=Di(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=_o(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Oi(n)){var a=!0;Mi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=_a(c):c=Di(t,c=Oi(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Aa?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Aa||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=_a(s):s=Di(t,s=Oi(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Aa||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Su(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Du(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ou,Ru,Pu,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),(t=ju(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Rc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Rc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ia(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hu(t),null;case 1:case 17:return Oi(t.type)&&Ri(),Hu(t),null;case 3:return r=t.stateNode,io(),_i(Ni),_i(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Hu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ru(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ou(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hu(t),null;case 6:if(e&&null!=t.stateNode)Pu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Hu(t),null;case 13:if(_i(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ps&&(Ps=3):vc())),null!==t.updateQueue&&(t.flags|=4),Hu(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Hu(t),null;case 10:return xa(t.type._context),Hu(t),null;case 19:if(_i(uo),null===(o=t.memoizedState))return Hu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==Ps||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Hu(t),null}else 2*Xe()-o.renderingStartTime>zs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Si(uo,r?1&n|2:1&n),t):(Hu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Hu(t),6&t.subtreeFlags&&(t.flags|=8192)):Hu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),_i(Ni),_i(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(_i(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ou=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ru=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Pu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,$u=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:$u||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!$u&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!$u&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?($u=(r=$u)||null!==n.memoizedState,hs(e,t,n),$u=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Ec(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($u=(l=$u)||f,vs(t,e),$u=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Ju=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||$u;u=Yu;var c=$u;if(Yu=o,($u=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Ju=s):xs(i);for(;null!==a;)Ju=a,ks(a,t,n),a=a.sibling;Ju=i,Yu=u,$u=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):bs(e)}}function bs(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$u||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$u)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}$u||512&t.flags&&is(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var Is,Es=Math.ceil,_s=b.ReactCurrentDispatcher,Ss=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,Ns=null,As=null,Ds=0,Os=0,Rs=Ei(0),Ps=0,Ls=null,Ms=0,Fs=0,js=0,Us=null,Vs=null,Bs=0,zs=1/0,qs=null,Ks=!1,Ws=null,Hs=null,Gs=!1,Qs=null,Ys=0,$s=0,Xs=null,Js=-1,Zs=0;function ec(){return 0!==(6&Cs)?Xe():-1!==Js?Js:Js=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Ds?Ds&-Ds:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$s)throw $s=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===Ns||(e===Ns&&(0===(2&Cs)&&(Fs|=n),4===Ps&&uc(e,Ds)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(zs=Xe()+500,Ui&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Ds:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(sc.bind(null,e)):Bi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Ds:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(Ns===e&&Ds===t||(qs=null,zs=Xe()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),_s.current=o,Cs=i,null!==As?t=0:(Ns=null,Ds=0,t=Ps)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vs,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),t);break}wc(e,Vs,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),r);break}wc(e,Vs,qs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vs,Vs=n,null!==t&&oc(t)),e}function oc(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function uc(e,t){for(t&=~js,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vs,qs),rc(e,Xe()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(zs=Xe()+500,Ui&&zi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&zi()}}function fc(){Os=Rs.current,_i(Rs)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),_i(Ni),_i(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:_i(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,As=e=Rc(e.current,null),Ds=Os=t,Ps=0,Ls=null,js=Fs=Ms=0,Vs=Us=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function dc(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ss.current=null,null===n||null===n.return){Ps=1,Ls=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ds,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ps&&(Ps=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Hs||!Hs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,As===n&&null!==n&&(As=n=n.return);continue}break}}function pc(){var e=_s.current;return _s.current=ou,null===e?ou:e}function vc(){0!==Ps&&3!==Ps&&2!==Ps||(Ps=4),null===Ns||0===(268435455&Ms)&&0===(268435455&Fs)||uc(Ns,Ds)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(Ns===e&&Ds===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,_s.current=r,null!==As)throw Error(a(261));return Ns=null,Ds=0,Ps}function yc(){for(;null!==As;)kc(As)}function gc(){for(;null!==As&&!Ye();)kc(As)}function kc(e){var t=Is(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?bc(e):As=t,Ss.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Os)))return void(As=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Ps=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Ps&&(Ps=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(As=Ns=null,Ds=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Ss.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),$e(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Gs&&(Gs=!1,Qs=e,Ys=i),0===(o=e.pendingLanes)&&(Hs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Ws,Ws=null,e;0!==(1&Ys)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Xs?$s++:($s=0,Xs=e):$s=0,zi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function xc(){if(null!==Qs){var e=bt(Ys),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,Ys=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var k=e.current;for(Ju=k;null!==Ju;){var b=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ju=b;else e:for(u=k;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Ec(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function Ic(e,t,n){e=Pa(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){t=Pa(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Ds&n)===n&&(4===Ps||3===Ps&&(130023424&Ds)===Ds&&500>Xe()-Bs?hc(e,0):js|=n),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,n)}function Nc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Ac(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Oc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case I:return Lc(n.children,i,o,t);case E:u=8,i|=8;break;case _:return(e=Dc(12,n,t,2|i)).elementType=_,e.lanes=o,e;case N:return(e=Dc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Dc(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case T:u=9;break e;case C:u=11;break e;case D:u=14;break e;case O:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Ra(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Is=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Si(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Si(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,_u(e,t,n)}return Ku(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Di(t,Ci.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=_o();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===D)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Iu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Du(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Du(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Su(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Si(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ia(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ia(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=_a(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Iu(e,t,r,i=ma(r.type,i),n);case 15:return Eu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Ea(t,n),qa(t,r,i),Wa(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return zu(e,t,n);case 22:return _u(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Wc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Cs)&&(zs=Xe()+500,zi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},It=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},Et=function(){return kt},_t=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,I={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:I.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:I};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=I.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,E=!1,_=null,S=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==_){var e=t.unstable_now();C=e;var n=!0;try{n=_(!0,e)}finally{n?I():(E=!1,_=null)}}else E=!1}if("function"===typeof k)I=function(){k(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,O=D.port2;D.port1.onmessage=A,I=function(){O.postMessage(null)}}else I=function(){y(A,0)};function R(e){_=e,E||(E=!0,I())}function P(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(S),S=-1):m=!0,P(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},391:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/gymmarket/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return ss},SDK_VERSION:function(){return gc},_DEFAULT_ENTRY_NAME:function(){return ac},_addComponent:function(){return cc},_addOrOverwriteComponent:function(){return lc},_apps:function(){return uc},_clearComponents:function(){return pc},_components:function(){return sc},_getProvider:function(){return hc},_registerComponent:function(){return fc},_removeServiceInstance:function(){return dc},deleteApp:function(){return xc},getApp:function(){return bc},getApps:function(){return wc},initializeApp:function(){return kc},onLog:function(){return _c},registerVersion:function(){return Ec},setLogLevel:function(){return Sc}});var t=n(791),r=n.t(t,2),i=n(250);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function c(e,t){if(null==e)return{};var n,r,i=s(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=n(694),f=n.n(l),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},d=t.createContext(null);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}n(176);function v(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function m(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function y(e,n,r){var i=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),o=a[0],u=a[1],s=void 0!==e,c=i.current;return i.current=s,!s&&c&&o!==n&&u(n),[s?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),u(e)}),[r])]}function g(e,t){return Object.keys(t).reduce((function(n,r){var i,a=n,o=a[v(r)],u=a[r],c=s(a,[v(r),r].map(m)),l=t[r],f=y(u,o,e[l]),h=f[0],d=f[1];return p({},c,((i={})[r]=h,i[l]=d,i))}),e)}function k(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function b(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function w(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}k.__suppressDeprecationWarning=!0,b.__suppressDeprecationWarning=!0,w.__suppressDeprecationWarning=!0;var x=/-(.)/g;var I=n(184),E=["xxl","xl","lg","md","sm","xs"],_=t.createContext({prefixes:{},breakpoints:E,minBreakpoint:"xs"});_.Consumer,_.Provider;function S(e,n){var r=(0,t.useContext)(_).prefixes;return e||r[n]||n}function T(){return(0,t.useContext)(_).breakpoints}function C(){return(0,t.useContext)(_).minBreakpoint}function N(){return"rtl"===(0,t.useContext)(_).dir}var A=["className","bsPrefix","as"],D=function(e){return e[0].toUpperCase()+(t=e,t.replace(x,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function O(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?D(e):r,a=n.Component,o=n.defaultProps,s=t.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,o=t.as,s=void 0===o?a||"div":o,l=c(t,A),h=S(i,e);return(0,I.jsx)(s,u({ref:n,className:f()(r,h)},l))}));return s.defaultProps=o,s.displayName=i,s}var R=["bsPrefix","className","as"],P=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=c(e,R);n=S(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,I.jsx)(o,u(u({},a),{},{ref:t,className:f()(r,n)}))}));P.displayName="NavbarBrand";var L=P;function M(e){return e&&e.ownerDocument||document}function F(e,t){return function(e){var t=M(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var j=/([A-Z])/g;var U=/^ms-/;function V(e){return function(e){return e.replace(j,"-$1").toLowerCase()}(e).replace(U,"-ms-")}var B=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var z=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(V(t))||F(e).getPropertyValue(V(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!B.test(e))}(i)?n+=V(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(V(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}var K=n(164),W=!1,H=t.createContext(null),G="unmounted",Q="exited",Y="entering",$="entered",X="exiting",J=function(e){var n,r;function i(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=Q,r.appearStatus=Y):i=$:i=t.unmountOnExit||t.mountOnEnter?G:Q,r.state={status:i},r.nextCallback=null,r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,q(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===G?{status:Q}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Y&&n!==$&&(t=Y):n!==Y&&n!==$||(t=X)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Y){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:K.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Q&&this.setState({status:G})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[K.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||W?this.safeSetState({status:$},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:Y},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:$},(function(){t.props.onEntered(a,o)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:K.findDOMNode(this);t&&!W?(this.props.onExit(r),this.safeSetState({status:X},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Q},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Q},(function(){e.props.onExited(r)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:K.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===G)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,s(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(H.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},i}(t.Component);function Z(){}J.contextType=H,J.propTypes={},J.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Z,onEntering:Z,onEntered:Z,onExit:Z,onExiting:Z,onExited:Z},J.UNMOUNTED=G,J.EXITED=Q,J.ENTERING=Y,J.ENTERED=$,J.EXITING=X;var ee=J,te=!("undefined"===typeof window||!window.document||!window.document.createElement),ne=!1,re=!1;try{var ie={get passive(){return ne=!0},get once(){return re=ne=!0}};te&&(window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,!0))}catch(lP){}var ae=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!re){var i=r.once,a=r.capture,o=n;!re&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,ne?r:a)}e.addEventListener(t,n,r)};var oe=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var ue=function(e,t,n,r){return ae(e,t,n,r),function(){oe(e,t,n,r)}};function se(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=ue(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function ce(e,t,n,r){null==n&&(n=function(e){var t=z(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=se(e,n,r),a=ue(e,"transitionend",t);return function(){i(),a()}}function le(e,t){var n=z(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function fe(e,t){var n=le(e,"transitionDuration"),r=le(e,"transitionDelay"),i=ce(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var he=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function de(e){e.offsetHeight}var pe=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var ve=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=pe(e),r=pe(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])};var me,ye=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],ge=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,s=e.onExiting,l=e.onExited,f=e.addEndListener,h=e.children,d=e.childRef,p=c(e,ye),v=(0,t.useRef)(null),m=ve(v,d),y=function(e){var t;m((t=e)&&"setState"in t?K.findDOMNode(t):null!=t?t:null)},g=function(e){return function(t){e&&v.current&&e(v.current,t)}},k=(0,t.useCallback)(g(r),[r]),b=(0,t.useCallback)(g(i),[i]),w=(0,t.useCallback)(g(a),[a]),x=(0,t.useCallback)(g(o),[o]),E=(0,t.useCallback)(g(s),[s]),_=(0,t.useCallback)(g(l),[l]),S=(0,t.useCallback)(g(f),[f]);return(0,I.jsx)(ee,u(u({ref:n},p),{},{onEnter:k,onEntered:w,onEntering:b,onExit:x,onExited:_,onExiting:E,addEndListener:S,nodeRef:v,children:"function"===typeof h?function(e,t){return h(e,u(u({},t),{},{ref:y}))}:t.cloneElement(h,{ref:y})}))})),ke=ge,be=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],we={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function xe(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=we[e];return n+parseInt(z(t,r[0]),10)+parseInt(z(t,r[1]),10)}var Ie=(a(me={},Q,"collapse"),a(me,X,"collapsing"),a(me,Y,"collapsing"),a(me,$,"collapse show"),me),Ee={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:xe},_e=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,s=e.onExiting,l=e.className,h=e.children,d=e.dimension,p=void 0===d?"height":d,v=e.getDimensionValue,m=void 0===v?xe:v,y=c(e,be),g="function"===typeof p?p():p,k=(0,t.useMemo)((function(){return he((function(e){e.style[g]="0"}),r)}),[g,r]),b=(0,t.useMemo)((function(){return he((function(e){var t="scroll".concat(g[0].toUpperCase()).concat(g.slice(1));e.style[g]="".concat(e[t],"px")}),i)}),[g,i]),w=(0,t.useMemo)((function(){return he((function(e){e.style[g]=null}),a)}),[g,a]),x=(0,t.useMemo)((function(){return he((function(e){e.style[g]="".concat(m(g,e),"px"),de(e)}),o)}),[o,m,g]),E=(0,t.useMemo)((function(){return he((function(e){e.style[g]=null}),s)}),[g,s]);return(0,I.jsx)(ke,u(u({ref:n,addEndListener:fe},y),{},{"aria-expanded":y.role?y.in:null,onEnter:k,onEntering:b,onEntered:w,onExit:x,onExiting:E,childRef:h.ref,children:function(e,n){return t.cloneElement(h,u(u({},n),{},{className:f()(l,h.props.className,Ie[e],"width"===g&&"collapse-horizontal")}))}}))}));_e.defaultProps=Ee;var Se=_e,Te=t.createContext(null);Te.displayName="NavbarContext";var Ce=Te,Ne=["children","bsPrefix"],Ae=t.forwardRef((function(e,n){var r=e.children,i=e.bsPrefix,a=c(e,Ne);i=S(i,"navbar-collapse");var o=(0,t.useContext)(Ce);return(0,I.jsx)(Se,u(u({in:!(!o||!o.expanded)},a),{},{children:(0,I.jsx)("div",{ref:n,className:i,children:r})}))}));Ae.displayName="NavbarCollapse";var De=Ae;var Oe=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function Re(e){var n=Oe(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var Pe=["bsPrefix","className","children","label","as","onClick"],Le=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e.label,s=e.as,l=void 0===s?"button":s,h=e.onClick,d=c(e,Pe);r=S(r,"navbar-toggler");var p=(0,t.useContext)(Ce)||{},v=p.onToggle,m=p.expanded,y=Re((function(e){h&&h(e),v&&v()}));return"button"===l&&(d.type="button"),(0,I.jsx)(l,u(u({},d),{},{ref:n,onClick:y,"aria-label":o,className:f()(i,r,!m&&"collapsed"),children:a||(0,I.jsx)("span",{className:"".concat(r,"-icon")})}))}));Le.displayName="NavbarToggle",Le.defaultProps={label:"Toggle navigation"};var Me=Le;function Fe(e){if(Array.isArray(e))return e}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ue(e,t){if(e){if("string"===typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(e,t):void 0}}function Ve(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Be(e,t){return Fe(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||Ue(e,t)||Ve()}var ze="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,qe="undefined"!==typeof document||ze?t.useLayoutEffect:t.useEffect,Ke=new WeakMap,We=function(e,t){if(e&&t){var n=Ke.get(t)||new Map;Ke.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function He(e,n){void 0===n&&(n="undefined"===typeof window?void 0:window);var r=We(e,n),i=(0,t.useState)((function(){return!!r&&r.matches})),a=i[0],o=i[1];return qe((function(){var t=We(e,n);if(!t)return o(!1);var r=Ke.get(n),i=function(){o(t.matches)};return t.refCount++,t.addListener(i),i(),function(){t.removeListener(i),t.refCount--,t.refCount<=0&&(null==r||r.delete(t.media)),t=void 0}}),[e]),a}var Ge=function(e){var n=Object.keys(e);function r(e,t){return e===t?t:e?e+" and "+t:t}function i(t){var r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(t),i=e[r];return"(max-width: "+(i="number"===typeof i?i-.2+"px":"calc("+i+" - 0.2px)")+")"}return function(n,a,o){var u,s;"object"===typeof n?(u=n,o=a,a=!0):((s={})[n]=a=a||!0,u=s);var c=(0,t.useMemo)((function(){return Object.entries(u).reduce((function(t,n){var a=n[0],o=n[1];return"up"!==o&&!0!==o||(t=r(t,function(t){var n=e[t];return"number"===typeof n&&(n+="px"),"(min-width: "+n+")"}(a))),"down"!==o&&!0!==o||(t=r(t,i(a))),t}),"")}),[JSON.stringify(u)]);return He(c,o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function Qe(e){void 0===e&&(e=M());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(lP){return e.body}}function Ye(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function $e(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),n.current}function Xe(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}function Je(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}function Ze(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function et(e){return function(e){if(Array.isArray(e))return je(e)}(e)||Ze(e)||Ue(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t,n){return t&&nt(e.prototype,t),n&&nt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function it(e){return"".concat("data-rr-ui-").concat(e)}var at=it("modal-open"),ot=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;tt(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return rt(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=a({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(z(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(at,""),z(r,t)}},{key:"reset",value:function(){var e=this;et(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(at),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),ut=ot,st=(0,t.createContext)(te?window:void 0);st.Provider;function ct(){return(0,t.useContext)(st)}var lt=function(e,t){return te?null==e?(t||M()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null};var ft,ht=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function dt(e){var n=ct(),r=e||function(e){return ft||(ft=new ut({ownerDocument:null==e?void 0:e.document})),ft}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,t.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((function(e){i.current.backdrop=e}),[])})}var pt=(0,t.forwardRef)((function(e,n){var r=e.show,i=void 0!==r&&r,a=e.role,o=void 0===a?"dialog":a,u=e.className,s=e.style,c=e.children,l=e.backdrop,f=void 0===l||l,h=e.keyboard,d=void 0===h||h,p=e.onBackdropClick,v=e.onEscapeKeyDown,m=e.transition,y=e.backdropTransition,g=e.autoFocus,k=void 0===g||g,b=e.enforceFocus,w=void 0===b||b,x=e.restoreFocus,E=void 0===x||x,_=e.restoreFocusOptions,S=e.renderDialog,T=e.renderBackdrop,C=void 0===T?function(e){return(0,I.jsx)("div",Object.assign({},e))}:T,N=e.manager,A=e.container,D=e.onShow,O=e.onHide,R=void 0===O?function(){}:O,P=e.onExit,L=e.onExited,M=e.onExiting,F=e.onEnter,j=e.onEntering,U=e.onEntered,V=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ht),B=function(e,n){var r=ct(),i=Be((0,t.useState)((function(){return lt(e,null==r?void 0:r.document)})),2),a=i[0],o=i[1];if(!a){var u=lt(e);u&&o(u)}return(0,t.useEffect)((function(){n&&a&&n(a)}),[n,a]),(0,t.useEffect)((function(){var t=lt(e);t!==a&&o(t)}),[e,a]),a}(A),z=dt(N),q=$e(),W=Je(i),H=Be((0,t.useState)(!i),2),G=H[0],Q=H[1],Y=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return z}),[z]),te&&!W&&i&&(Y.current=Qe()),m||i||G?i&&G&&Q(!1):Q(!0);var $=Re((function(){if(z.add(),re.current=ue(document,"keydown",ee),ne.current=ue(document,"focus",(function(){return setTimeout(J)}),!0),D&&D(),k){var e=Qe(document);z.dialog&&e&&!Ye(z.dialog,e)&&(Y.current=e,z.dialog.focus())}})),X=Re((function(){var e;(z.remove(),null==re.current||re.current(),null==ne.current||ne.current(),E)&&(null==(e=Y.current)||null==e.focus||e.focus(_),Y.current=null)}));(0,t.useEffect)((function(){i&&B&&$()}),[i,B,$]),(0,t.useEffect)((function(){G&&X()}),[G,X]),Xe((function(){X()}));var J=Re((function(){if(w&&q()&&z.isTopModal()){var e=Qe();z.dialog&&e&&!Ye(z.dialog,e)&&z.dialog.focus()}})),Z=Re((function(e){e.target===e.currentTarget&&(null==p||p(e),!0===f&&R())})),ee=Re((function(e){d&&27===e.keyCode&&z.isTopModal()&&(null==v||v(e),e.defaultPrevented||R())})),ne=(0,t.useRef)(),re=(0,t.useRef)(),ie=m;if(!B||!(i||ie&&!G))return null;var ae=Object.assign({role:o,ref:z.setDialogRef,"aria-modal":"dialog"===o||void 0},V,{style:s,className:u,tabIndex:-1}),oe=S?S(ae):(0,I.jsx)("div",Object.assign({},ae,{children:t.cloneElement(c,{role:"document"})}));ie&&(oe=(0,I.jsx)(ie,{appear:!0,unmountOnExit:!0,in:!!i,onExit:P,onExiting:M,onExited:function(){Q(!0),null==L||L.apply(void 0,arguments)},onEnter:F,onEntering:j,onEntered:U,children:oe}));var se=null;if(f){var ce=y;se=C({ref:z.setBackdropRef,onClick:Z}),ce&&(se=(0,I.jsx)(ce,{appear:!0,in:!!i,children:se}))}return(0,I.jsx)(I.Fragment,{children:K.createPortal((0,I.jsxs)(I.Fragment,{children:[se,oe]}),B)})}));pt.displayName="Modal";var vt,mt=Object.assign(pt,{Manager:ut}),yt=["className","children","transitionClasses"],gt=(a(vt={},Y,"show"),a(vt,$,"show"),vt),kt=t.forwardRef((function(e,n){var r=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,s=c(e,yt),l=(0,t.useCallback)((function(e,t){de(e),null==s.onEnter||s.onEnter(e,t)}),[s]);return(0,I.jsx)(ke,u(u({ref:n,addEndListener:fe},s),{},{onEnter:l,childRef:i.ref,children:function(e,n){return t.cloneElement(i,u(u({},n),{},{className:f()("fade",r,i.props.className,gt[e],o[e])}))}}))}));kt.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},kt.displayName="Fade";var bt,wt=kt,xt=O("offcanvas-body"),It=["bsPrefix","className","children"],Et=(a(bt={},Y,"show"),a(bt,$,"show"),bt),_t=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=c(e,It);return r=S(r,"offcanvas"),(0,I.jsx)(ke,u(u({ref:n,addEndListener:fe},o),{},{childRef:a.ref,children:function(e,n){return t.cloneElement(a,u(u({},n),{},{className:f()(i,a.props.className,(e===Y||e===X)&&"".concat(r,"-toggling"),Et[e])}))}}))}));_t.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},_t.displayName="OffcanvasToggling";var St=_t,Tt=t.createContext({onHide:function(){}}),Ct=n(7),Nt=n.n(Ct),At=["className","variant"],Dt={"aria-label":Nt().string,onClick:Nt().func,variant:Nt().oneOf(["white"])},Ot=t.forwardRef((function(e,t){var n=e.className,r=e.variant,i=c(e,At);return(0,I.jsx)("button",u({ref:t,type:"button",className:f()("btn-close",r&&"btn-close-".concat(r),n)},i))}));Ot.displayName="CloseButton",Ot.propTypes=Dt,Ot.defaultProps={"aria-label":"Close"};var Rt=Ot,Pt=["closeLabel","closeVariant","closeButton","onHide","children"],Lt=t.forwardRef((function(e,n){var r=e.closeLabel,i=e.closeVariant,a=e.closeButton,o=e.onHide,s=e.children,l=c(e,Pt),f=(0,t.useContext)(Tt),h=Re((function(){null==f||f.onHide(),null==o||o()}));return(0,I.jsxs)("div",u(u({ref:n},l),{},{children:[s,a&&(0,I.jsx)(Rt,{"aria-label":r,variant:i,onClick:h})]}))}));Lt.defaultProps={closeLabel:"Close",closeButton:!1};var Mt=Lt,Ft=["bsPrefix","className"],jt=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=c(e,Ft);return n=S(n,"offcanvas-header"),(0,I.jsx)(Mt,u(u({ref:t},i),{},{className:f()(r,n)}))}));jt.displayName="OffcanvasHeader",jt.defaultProps={closeLabel:"Close",closeButton:!1};var Ut=jt,Vt=function(e){return t.forwardRef((function(t,n){return(0,I.jsx)("div",u(u({},t),{},{ref:n,className:f()(t.className,e)}))}))},Bt=O("offcanvas-title",{Component:Vt("h5")});function zt(e){return zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zt(e)}function qt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zt(e)););return e}function Kt(){return Kt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=qt(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Kt.apply(this,arguments)}function Wt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}function Ht(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lP){return!1}}function Gt(e){return Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gt(e)}function Qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yt(e,t){if(t&&("object"===Gt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qt(e)}function $t(e){var t=Ht();return function(){var n,r=zt(e);if(t){var i=zt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Yt(this,n)}}var Xt=Function.prototype.bind.call(Function.prototype.call,[].slice);function Jt(e,t){return Xt(e.querySelectorAll(t))}function Zt(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var en,tn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",nn=".sticky-top",rn=".navbar-toggler",an=function(e){Wt(n,e);var t=$t(n);function n(){return tt(this,n),t.apply(this,arguments)}return rt(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,z(t,a({},e,"".concat(parseFloat(z(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],z(t,a({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;Kt(zt(n.prototype),"setContainerStyle",this).call(this,e);var r,i,a=this.getElement();if(i="modal-open",(r=a).classList?r.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,i)||("string"===typeof r.className?r.className=r.className+" "+i:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+i)),e.scrollBarWidth){var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";Jt(a,tn).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)})),Jt(a,nn).forEach((function(n){return t.adjustAndStore(u,n,-e.scrollBarWidth)})),Jt(a,rn).forEach((function(n){return t.adjustAndStore(u,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;Kt(zt(n.prototype),"removeContainerStyle",this).call(this,e);var r,i,a=this.getElement();i="modal-open",(r=a).classList?r.classList.remove(i):"string"===typeof r.className?r.className=Zt(r.className,i):r.setAttribute("class",Zt(r.className&&r.className.baseVal||"",i));var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";Jt(a,tn).forEach((function(e){return t.restore(o,e)})),Jt(a,nn).forEach((function(e){return t.restore(u,e)})),Jt(a,rn).forEach((function(e){return t.restore(u,e)}))}}]),n}(ut);var on=an,un=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager","renderStaticNode"];function sn(e){return(0,I.jsx)(St,u({},e))}function cn(e){return(0,I.jsx)(wt,u({},e))}var ln=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e["aria-labelledby"],s=e.placement,l=e.responsive,h=e.show,d=e.backdrop,p=e.keyboard,v=e.scroll,m=e.onEscapeKeyDown,y=e.onShow,g=e.onHide,k=e.container,b=e.autoFocus,w=e.enforceFocus,x=e.restoreFocus,E=e.restoreFocusOptions,_=e.onEntered,T=e.onExit,C=e.onExiting,N=e.onEnter,A=e.onEntering,D=e.onExited,O=e.backdropClassName,R=e.manager,P=e.renderStaticNode,L=c(e,un),M=(0,t.useRef)();r=S(r,"offcanvas");var F=((0,t.useContext)(Ce)||{}).onToggle,j=Be((0,t.useState)(!1),2),U=j[0],V=j[1],B=Ge(l||"xs","up");(0,t.useEffect)((function(){V(l?h&&!B:h)}),[h,l,B]);var z=Re((function(){null==F||F(),null==g||g()})),q=(0,t.useMemo)((function(){return{onHide:z}}),[z]);var K=(0,t.useCallback)((function(e){return(0,I.jsx)("div",u(u({},e),{},{className:f()("".concat(r,"-backdrop"),O)}))}),[O,r]),W=function(e){return(0,I.jsx)("div",u(u(u({},e),L),{},{className:f()(i,l?"".concat(r,"-").concat(l):r,"".concat(r,"-").concat(s)),"aria-labelledby":o,children:a}))};return(0,I.jsxs)(I.Fragment,{children:[!U&&(l||P)&&W({}),(0,I.jsx)(Tt.Provider,{value:q,children:(0,I.jsx)(mt,{show:U,ref:n,backdrop:d,container:k,keyboard:p,autoFocus:b,enforceFocus:w&&!v,restoreFocus:x,restoreFocusOptions:E,onEscapeKeyDown:m,onShow:y,onHide:z,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==N||N.apply(void 0,[e].concat(n))},onEntering:A,onEntered:_,onExit:T,onExiting:C,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==D||D.apply(void 0,n)},manager:R||(v?(M.current||(M.current=new on({handleContainerOverflow:!1})),M.current):function(e){return en||(en=new an(e)),en}()),transition:sn,backdropTransition:cn,renderBackdrop:K,renderDialog:W})})]})}));ln.displayName="Offcanvas",ln.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start",renderStaticNode:!1};var fn=Object.assign(ln,{Body:xt,Header:Ut,Title:Bt}),hn=t.forwardRef((function(e,n){var r=(0,t.useContext)(Ce);return(0,I.jsx)(fn,u(u({ref:n,show:!(null==r||!r.expanded)},e),{},{renderStaticNode:!0}))}));hn.displayName="NavbarOffcanvas";var dn=hn,pn=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],vn=O("navbar-text",{Component:"span"}),mn=t.forwardRef((function(e,n){var r=g(e,{expanded:"onToggle"}),i=r.bsPrefix,a=r.expand,o=r.variant,s=r.bg,l=r.fixed,h=r.sticky,p=r.className,v=r.as,m=void 0===v?"nav":v,y=r.expanded,k=r.onToggle,b=r.onSelect,w=r.collapseOnSelect,x=c(r,pn),E=S(i,"navbar"),_=(0,t.useCallback)((function(){null==b||b.apply(void 0,arguments),w&&y&&(null==k||k(!1))}),[b,w,y,k]);void 0===x.role&&"nav"!==m&&(x.role="navigation");var T="".concat(E,"-expand");"string"===typeof a&&(T="".concat(T,"-").concat(a));var C=(0,t.useMemo)((function(){return{onToggle:function(){return null==k?void 0:k(!y)},bsPrefix:E,expanded:!!y,expand:a}}),[E,y,a,k]);return(0,I.jsx)(Ce.Provider,{value:C,children:(0,I.jsx)(d.Provider,{value:_,children:(0,I.jsx)(m,u(u({ref:n},x),{},{className:f()(p,E,a&&T,o&&"".concat(E,"-").concat(o),s&&"bg-".concat(s),h&&"sticky-".concat(h),l&&"fixed-".concat(l))}))})})}));mn.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},mn.displayName="Navbar";var yn=Object.assign(mn,{Brand:L,Collapse:De,Offcanvas:dn,Text:vn,Toggle:Me});n(573);function gn(){return(0,t.useReducer)((function(e){return!e}),!1)[1]}var kn=t.createContext(null);kn.displayName="NavContext";var bn=kn,wn=t.createContext(null),xn=["as","disabled"];function In(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,u=e.onClick,s=e.tabIndex,c=void 0===s?0:s,l=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var f={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},f];var h=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==u||u(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:h,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),h(e))}},f]}var En=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,xn),a=Be(In(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],u=a[1].tagName;return(0,I.jsx)(u,Object.assign({},i,o,{ref:t}))}));En.displayName="Button";var _n=En,Sn=["as","active","eventKey"];function Tn(e){var n=e.key,r=e.onClick,i=e.active,a=e.id,o=e.role,u=e.disabled,s=(0,t.useContext)(d),c=(0,t.useContext)(bn),l=(0,t.useContext)(wn),f=i,h={role:o};if(c){o||"tablist"!==c.role||(h.role="tab");var p=c.getControllerId(null!=n?n:null),v=c.getControlledId(null!=n?n:null);h[it("event-key")]=n,h.id=p||a,!(f=null==i&&null!=n?c.activeKey===n:i)&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(h["aria-controls"]=v)}return"tab"===h.role&&(h["aria-selected"]=f,f||(h.tabIndex=-1),u&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=Re((function(e){u||(null==r||r(e),null!=n&&s&&!e.isPropagationStopped()&&s(n,e))})),[h,{isActive:f}]}var Cn=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?_n:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Sn),u=Be(Tn(Object.assign({key:h(a,o.href),active:i},o)),2),s=u[0],c=u[1];return s[it("active")]=c.isActive,(0,I.jsx)(r,Object.assign({},o,s,{ref:t}))}));Cn.displayName="NavItem";var Nn=Cn,An=["as","onSelect","activeKey","role","onKeyDown"];var Dn=function(){},On=it("event-key"),Rn=t.forwardRef((function(e,n){var r,i,a=e.as,o=void 0===a?"div":a,u=e.onSelect,s=e.activeKey,c=e.role,l=e.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,An),p=gn(),v=(0,t.useRef)(!1),m=(0,t.useContext)(d),y=(0,t.useContext)(wn);y&&(c=c||"tablist",s=y.activeKey,r=y.getControlledId,i=y.getControllerId);var g=(0,t.useRef)(null),k=function(e){var t=g.current;if(!t)return null;var n=Jt(t,"[".concat(On,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},b=function(e,t){null!=e&&(null==u||u(e,t),null==m||m(e,t))};(0,t.useEffect)((function(){if(g.current&&v.current){var e=g.current.querySelector("[".concat(On,"][aria-selected=true]"));null==e||e.focus()}v.current=!1}));var w=ve(n,g);return(0,I.jsx)(d.Provider,{value:b,children:(0,I.jsx)(bn.Provider,{value:{role:c,activeKey:h(s),getControlledId:r||Dn,getControllerId:i||Dn},children:(0,I.jsx)(o,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),y){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=k(-1);break;case"ArrowRight":case"ArrowDown":t=k(1);break;default:return}if(t)e.preventDefault(),b(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),v.current=!0,p()}},ref:w,role:c}))})})}));Rn.displayName="Nav";var Pn=Object.assign(Rn,{Item:Nn}),Ln=t.createContext(null);Ln.displayName="CardHeaderContext";var Mn=Ln,Fn=O("nav-item");function jn(){return(0,t.useState)(null)}new WeakMap;var Un=["onKeyDown"];var Vn=t.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Un),a=Be(In(Object.assign({tagName:"a"},i)),1)[0],o=Re((function(e){a.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,I.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,I.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));Vn.displayName="Anchor";var Bn=Vn,zn=["bsPrefix","className","as","active","eventKey"],qn=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?Bn:i,o=e.active,s=e.eventKey,l=c(e,zn);n=S(n,"nav-link");var d=Be(Tn(u({key:h(s,l.href),active:o},l)),2),p=d[0],v=d[1];return(0,I.jsx)(a,u(u(u({},l),p),{},{ref:t,className:f()(r,n,l.disabled&&"disabled",v.isActive&&"active")}))}));qn.displayName="NavLink",qn.defaultProps={disabled:!1};var Kn=qn,Wn=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],Hn=t.forwardRef((function(e,n){var r,i,o,s=g(e,{activeKey:"onSelect"}),l=s.as,h=void 0===l?"div":l,d=s.bsPrefix,p=s.variant,v=s.fill,m=s.justify,y=s.navbar,k=s.navbarScroll,b=s.className,w=s.activeKey,x=c(s,Wn),E=S(d,"nav"),_=!1,T=(0,t.useContext)(Ce),C=(0,t.useContext)(Mn);return T?(i=T.bsPrefix,_=null==y||y):C&&(o=C.cardHeaderBsPrefix),(0,I.jsx)(Pn,u({as:h,ref:n,activeKey:w,className:f()(b,(r={},a(r,E,!_),a(r,"".concat(i,"-nav"),_),a(r,"".concat(i,"-nav-scroll"),_&&k),a(r,"".concat(o,"-").concat(p),!!o),a(r,"".concat(E,"-").concat(p),!!p),a(r,"".concat(E,"-fill"),v),a(r,"".concat(E,"-justified"),m),r))},x))}));Hn.displayName="Nav",Hn.defaultProps={justify:!1,fill:!1};var Gn=Object.assign(Hn,{Item:Fn,Link:Kn}),Qn=t.createContext(null);function Yn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ue(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}var $n=Object.prototype.hasOwnProperty;function Xn(e,t,n){var r,i=Yn(e.keys());try{for(i.s();!(r=i.n()).done;)if(Jn(n=r.value,t))return n}catch(a){i.e(a)}finally{i.f()}}function Jn(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Jn(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;var a,o=Yn(e);try{for(o.s();!(a=o.n()).done;){if((i=r=a.value)&&"object"===typeof i&&!(i=Xn(t,i)))return!1;if(!t.has(i))return!1}}catch(c){o.e(c)}finally{o.f()}return!0}if(n===Map){if(e.size!==t.size)return!1;var u,s=Yn(e);try{for(s.s();!(u=s.n()).done;){if((i=(r=u.value)[0])&&"object"===typeof i&&!(i=Xn(t,i)))return!1;if(!Jn(r[1],t.get(i)))return!1}}catch(c){s.e(c)}finally{s.f()}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if($n.call(e,n)&&++r&&!$n.call(t,n))return!1;if(!(n in t)||!Jn(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}var Zn=function(e){var n=$e();return[e[0],(0,t.useCallback)((function(t){if(n())return e[1](t)}),[n,e[1]])]};function er(e){return e.split("-")[0]}function tr(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function nr(e){return e instanceof tr(e).Element||e instanceof Element}function rr(e){return e instanceof tr(e).HTMLElement||e instanceof HTMLElement}function ir(e){return"undefined"!==typeof ShadowRoot&&(e instanceof tr(e).ShadowRoot||e instanceof ShadowRoot)}var ar=Math.max,or=Math.min,ur=Math.round;function sr(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function cr(){return!/^((?!chrome|android).)*safari/i.test(sr())}function lr(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,a=1;t&&rr(e)&&(i=e.offsetWidth>0&&ur(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&ur(r.height)/e.offsetHeight||1);var o=(nr(e)?tr(e):window).visualViewport,u=!cr()&&n,s=(r.left+(u&&o?o.offsetLeft:0))/i,c=(r.top+(u&&o?o.offsetTop:0))/a,l=r.width/i,f=r.height/a;return{width:l,height:f,top:c,right:s+l,bottom:c+f,left:s,x:s,y:c}}function fr(e){var t=lr(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function hr(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ir(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function dr(e){return e?(e.nodeName||"").toLowerCase():null}function pr(e){return tr(e).getComputedStyle(e)}function vr(e){return["table","td","th"].indexOf(dr(e))>=0}function mr(e){return((nr(e)?e.ownerDocument:e.document)||window.document).documentElement}function yr(e){return"html"===dr(e)?e:e.assignedSlot||e.parentNode||(ir(e)?e.host:null)||mr(e)}function gr(e){return rr(e)&&"fixed"!==pr(e).position?e.offsetParent:null}function kr(e){for(var t=tr(e),n=gr(e);n&&vr(n)&&"static"===pr(n).position;)n=gr(n);return n&&("html"===dr(n)||"body"===dr(n)&&"static"===pr(n).position)?t:n||function(e){var t=/firefox/i.test(sr());if(/Trident/i.test(sr())&&rr(e)&&"fixed"===pr(e).position)return null;var n=yr(e);for(ir(n)&&(n=n.host);rr(n)&&["html","body"].indexOf(dr(n))<0;){var r=pr(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function br(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function wr(e,t,n){return ar(e,or(t,n))}function xr(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Ir(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var Er="top",_r="bottom",Sr="right",Tr="left",Cr="auto",Nr=[Er,_r,Sr,Tr],Ar="start",Dr="end",Or="viewport",Rr="popper",Pr=Nr.reduce((function(e,t){return e.concat([t+"-"+Ar,t+"-"+Dr])}),[]),Lr=[].concat(Nr,[Cr]).reduce((function(e,t){return e.concat([t,t+"-"+Ar,t+"-"+Dr])}),[]),Mr=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];var Fr={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,u=er(n.placement),s=br(u),c=[Tr,Sr].indexOf(u)>=0?"height":"width";if(a&&o){var l=function(e,t){return xr("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Ir(e,Nr))}(i.padding,n),f=fr(a),h="y"===s?Er:Tr,d="y"===s?_r:Sr,p=n.rects.reference[c]+n.rects.reference[s]-o[s]-n.rects.popper[c],v=o[s]-n.rects.reference[s],m=kr(a),y=m?"y"===s?m.clientHeight||0:m.clientWidth||0:0,g=p/2-v/2,k=l[h],b=y-f[c]-l[d],w=y/2-f[c]/2+g,x=wr(k,w,b),I=s;n.modifiersData[r]=((t={})[I]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&hr(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function jr(e){return e.split("-")[1]}var Ur={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vr(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,u=e.position,s=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,h=o.x,d=void 0===h?0:h,p=o.y,v=void 0===p?0:p,m="function"===typeof l?l({x:d,y:v}):{x:d,y:v};d=m.x,v=m.y;var y=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),k=Tr,b=Er,w=window;if(c){var x=kr(n),I="clientHeight",E="clientWidth";if(x===tr(n)&&"static"!==pr(x=mr(n)).position&&"absolute"===u&&(I="scrollHeight",E="scrollWidth"),i===Er||(i===Tr||i===Sr)&&a===Dr)b=_r,v-=(f&&x===w&&w.visualViewport?w.visualViewport.height:x[I])-r.height,v*=s?1:-1;if(i===Tr||(i===Er||i===_r)&&a===Dr)k=Sr,d-=(f&&x===w&&w.visualViewport?w.visualViewport.width:x[E])-r.width,d*=s?1:-1}var _,S=Object.assign({position:u},c&&Ur),T=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:ur(t*r)/r||0,y:ur(n*r)/r||0}}({x:d,y:v}):{x:d,y:v};return d=T.x,v=T.y,s?Object.assign({},S,((_={})[b]=g?"0":"",_[k]=y?"0":"",_.transform=(w.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",_)):Object.assign({},S,((t={})[b]=g?v+"px":"",t[k]=y?d+"px":"",t.transform="",t))}var Br={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,u=n.roundOffsets,s=void 0===u||u,c={placement:er(t.placement),variation:jr(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Vr(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Vr(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},zr={passive:!0};var qr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,u=void 0===o||o,s=tr(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,zr)})),u&&s.addEventListener("resize",n.update,zr),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,zr)})),u&&s.removeEventListener("resize",n.update,zr)}},data:{}},Kr={left:"right",right:"left",bottom:"top",top:"bottom"};function Wr(e){return e.replace(/left|right|bottom|top/g,(function(e){return Kr[e]}))}var Hr={start:"end",end:"start"};function Gr(e){return e.replace(/start|end/g,(function(e){return Hr[e]}))}function Qr(e){var t=tr(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Yr(e){return lr(mr(e)).left+Qr(e).scrollLeft}function $r(e){var t=pr(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Xr(e){return["html","body","#document"].indexOf(dr(e))>=0?e.ownerDocument.body:rr(e)&&$r(e)?e:Xr(yr(e))}function Jr(e,t){var n;void 0===t&&(t=[]);var r=Xr(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=tr(r),o=i?[a].concat(a.visualViewport||[],$r(r)?r:[]):r,u=t.concat(o);return i?u:u.concat(Jr(yr(o)))}function Zr(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ei(e,t,n){return t===Or?Zr(function(e,t){var n=tr(e),r=mr(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,u=0,s=0;if(i){a=i.width,o=i.height;var c=cr();(c||!c&&"fixed"===t)&&(u=i.offsetLeft,s=i.offsetTop)}return{width:a,height:o,x:u+Yr(e),y:s}}(e,n)):nr(t)?function(e,t){var n=lr(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Zr(function(e){var t,n=mr(e),r=Qr(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=ar(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=ar(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+Yr(e),s=-r.scrollTop;return"rtl"===pr(i||n).direction&&(u+=ar(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:u,y:s}}(mr(e)))}function ti(e,t,n,r){var i="clippingParents"===t?function(e){var t=Jr(yr(e)),n=["absolute","fixed"].indexOf(pr(e).position)>=0&&rr(e)?kr(e):e;return nr(n)?t.filter((function(e){return nr(e)&&hr(e,n)&&"body"!==dr(e)})):[]}(e):[].concat(t),a=[].concat(i,[n]),o=a[0],u=a.reduce((function(t,n){var i=ei(e,n,r);return t.top=ar(i.top,t.top),t.right=or(i.right,t.right),t.bottom=or(i.bottom,t.bottom),t.left=ar(i.left,t.left),t}),ei(e,o,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function ni(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?er(i):null,o=i?jr(i):null,u=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2;switch(a){case Er:t={x:u,y:n.y-r.height};break;case _r:t={x:u,y:n.y+n.height};break;case Sr:t={x:n.x+n.width,y:s};break;case Tr:t={x:n.x-r.width,y:s};break;default:t={x:n.x,y:n.y}}var c=a?br(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case Ar:t[c]=t[c]-(n[l]/2-r[l]/2);break;case Dr:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function ri(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.strategy,o=void 0===a?e.strategy:a,u=n.boundary,s=void 0===u?"clippingParents":u,c=n.rootBoundary,l=void 0===c?Or:c,f=n.elementContext,h=void 0===f?Rr:f,d=n.altBoundary,p=void 0!==d&&d,v=n.padding,m=void 0===v?0:v,y=xr("number"!==typeof m?m:Ir(m,Nr)),g=h===Rr?"reference":Rr,k=e.rects.popper,b=e.elements[p?g:h],w=ti(nr(b)?b:b.contextElement||mr(e.elements.popper),s,l,o),x=lr(e.elements.reference),I=ni({reference:x,element:k,strategy:"absolute",placement:i}),E=Zr(Object.assign({},k,I)),_=h===Rr?E:x,S={top:w.top-_.top+y.top,bottom:_.bottom-w.bottom+y.bottom,left:w.left-_.left+y.left,right:_.right-w.right+y.right},T=e.modifiersData.offset;if(h===Rr&&T){var C=T[i];Object.keys(S).forEach((function(e){var t=[Sr,_r].indexOf(e)>=0?1:-1,n=[Er,_r].indexOf(e)>=0?"y":"x";S[e]+=C[n]*t}))}return S}var ii={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0===o||o,s=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,m=t.options.placement,y=er(m),g=s||(y===m||!p?[Wr(m)]:function(e){if(er(e)===Cr)return[];var t=Wr(e);return[Gr(e),t,Gr(t)]}(m)),k=[m].concat(g).reduce((function(e,n){return e.concat(er(n)===Cr?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,u=n.flipVariations,s=n.allowedAutoPlacements,c=void 0===s?Lr:s,l=jr(r),f=l?u?Pr:Pr.filter((function(e){return jr(e)===l})):Nr,h=f.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=f);var d=h.reduce((function(t,n){return t[n]=ri(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[er(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),b=t.rects.reference,w=t.rects.popper,x=new Map,I=!0,E=k[0],_=0;_<k.length;_++){var S=k[_],T=er(S),C=jr(S)===Ar,N=[Er,_r].indexOf(T)>=0,A=N?"width":"height",D=ri(t,{placement:S,boundary:l,rootBoundary:f,altBoundary:h,padding:c}),O=N?C?Sr:Tr:C?_r:Er;b[A]>w[A]&&(O=Wr(O));var R=Wr(O),P=[];if(a&&P.push(D[T]<=0),u&&P.push(D[O]<=0,D[R]<=0),P.every((function(e){return e}))){E=S,I=!1;break}x.set(S,P)}if(I)for(var L=function(e){var t=k.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},M=p?3:1;M>0;M--){if("break"===L(M))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ai(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function oi(e){return[Er,Sr,_r,Tr].some((function(t){return e[t]>=0}))}var ui={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=Lr.reduce((function(e,n){return e[n]=function(e,t,n){var r=er(e),i=[Tr,Er].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],u=a[1];return o=o||0,u=(u||0)*i,[Tr,Sr].indexOf(r)>=0?{x:u,y:o}:{x:o,y:u}}(n,t.rects,a),e}),{}),u=o[t.placement],s=u.x,c=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}};var si={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0!==o&&o,s=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,v=void 0===p?0:p,m=ri(t,{boundary:s,rootBoundary:c,padding:f,altBoundary:l}),y=er(t.placement),g=jr(t.placement),k=!g,b=br(y),w="x"===b?"y":"x",x=t.modifiersData.popperOffsets,I=t.rects.reference,E=t.rects.popper,_="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,S="number"===typeof _?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(x){if(a){var N,A="y"===b?Er:Tr,D="y"===b?_r:Sr,O="y"===b?"height":"width",R=x[b],P=R+m[A],L=R-m[D],M=d?-E[O]/2:0,F=g===Ar?I[O]:E[O],j=g===Ar?-E[O]:-I[O],U=t.elements.arrow,V=d&&U?fr(U):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=B[A],q=B[D],K=wr(0,I[O],V[O]),W=k?I[O]/2-M-K-z-S.mainAxis:F-K-z-S.mainAxis,H=k?-I[O]/2+M+K+q+S.mainAxis:j+K+q+S.mainAxis,G=t.elements.arrow&&kr(t.elements.arrow),Q=G?"y"===b?G.clientTop||0:G.clientLeft||0:0,Y=null!=(N=null==T?void 0:T[b])?N:0,$=R+H-Y,X=wr(d?or(P,R+W-Y-Q):P,R,d?ar(L,$):L);x[b]=X,C[b]=X-R}if(u){var J,Z="x"===b?Er:Tr,ee="x"===b?_r:Sr,te=x[w],ne="y"===w?"height":"width",re=te+m[Z],ie=te-m[ee],ae=-1!==[Er,Tr].indexOf(y),oe=null!=(J=null==T?void 0:T[w])?J:0,ue=ae?re:te-I[ne]-E[ne]-oe+S.altAxis,se=ae?te+I[ne]+E[ne]-oe-S.altAxis:ie,ce=d&&ae?function(e,t,n){var r=wr(e,t,n);return r>n?n:r}(ue,te,se):wr(d?ue:re,te,d?se:ie);x[w]=ce,C[w]=ce-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};function ci(e,t,n){void 0===n&&(n=!1);var r=rr(t),i=rr(t)&&function(e){var t=e.getBoundingClientRect(),n=ur(t.width)/e.offsetWidth||1,r=ur(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=mr(t),o=lr(e,i,n),u={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(r||!r&&!n)&&(("body"!==dr(t)||$r(a))&&(u=function(e){return e!==tr(e)&&rr(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Qr(e);var t}(t)),rr(t)?((s=lr(t,!0)).x+=t.clientLeft,s.y+=t.clientTop):a&&(s.x=Yr(a))),{x:o.left+u.scrollLeft-s.x,y:o.top+u.scrollTop-s.y,width:o.width,height:o.height}}function li(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function fi(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var hi={placement:"bottom",modifiers:[],strategy:"absolute"};function di(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function pi(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?hi:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},hi,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],u=!1,s={state:i,setOptions:function(n){var u="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},a,i.options,u),i.scrollParents={reference:nr(e)?Jr(e):e.contextElement?Jr(e.contextElement):[],popper:Jr(t)};var l=function(e){var t=li(e);return Mr.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var u=a({state:i,name:t,instance:s,options:r}),c=function(){};o.push(u||c)}})),s.update()},forceUpdate:function(){if(!u){var e=i.elements,t=e.reference,n=e.popper;if(di(t,n)){i.rects={reference:ci(t,kr(n),"fixed"===i.options.strategy),popper:fr(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,c=a.options,l=void 0===c?{}:c,f=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:f,instance:s})||i)}else i.reset=!1,r=-1}}},update:fi((function(){return new Promise((function(e){s.forceUpdate(),e(i)}))})),destroy:function(){c(),u=!0}};if(!di(e,t))return s;function c(){o.forEach((function(e){return e()})),o=[]}return s.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),s}}var vi=pi({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=ri(t,{elementContext:"reference"}),u=ri(t,{altBoundary:!0}),s=ai(o,r),c=ai(u,i,a),l=oi(s),f=oi(c);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=ni({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Br,qr,ui,ii,si,Fr]}),mi=["enabled","placement","strategy","modifiers"];function yi(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var gi={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:function(){}},ki={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var i=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));i.length?n.setAttribute("aria-describedby",i.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,i=n.reference,a=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===a&&"setAttribute"in i){var o=i.getAttribute("aria-describedby");if(o&&-1!==o.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",o?"".concat(o,",").concat(r.id):r.id)}}},bi=[];var wi=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.enabled,a=void 0===i||i,o=r.placement,u=void 0===o?"bottom":o,s=r.strategy,c=void 0===s?"absolute":s,l=r.modifiers,f=void 0===l?bi:l,h=yi(r,mi),d=(0,t.useRef)(f),p=(0,t.useRef)(),v=(0,t.useCallback)((function(){var e;null==(e=p.current)||e.update()}),[]),m=(0,t.useCallback)((function(){var e;null==(e=p.current)||e.forceUpdate()}),[]),y=Zn((0,t.useState)({placement:u,update:v,forceUpdate:m,attributes:{},styles:{popper:{},arrow:{}}})),g=Be(y,2),k=g[0],b=g[1],w=(0,t.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),b({state:t,styles:n,attributes:r,update:v,forceUpdate:m,placement:t.placement})}}}),[v,m,b]),x=(0,t.useMemo)((function(){return Jn(d.current,f)||(d.current=f),d.current}),[f]);return(0,t.useEffect)((function(){p.current&&a&&p.current.setOptions({placement:u,strategy:c,modifiers:[].concat(et(x),[w,gi])})}),[c,u,w,a,x]),(0,t.useEffect)((function(){if(a&&null!=e&&null!=n)return p.current=vi(e,n,Object.assign({},h,{placement:u,strategy:c,modifiers:[].concat(et(x),[ki,w])})),function(){null!=p.current&&(p.current.destroy(),p.current=void 0,b((function(e){return Object.assign({},e,{attributes:{},styles:{popper:{}}})})))}}),[a,e,n]),k},xi=n(391),Ii=n.n(xi),Ei=function(){};function _i(e){return 0===e.button}function Si(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var Ti=function(e){return e&&("current"in e?e.current:e)},Ci={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};var Ni=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ei,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.disabled,a=r.clickTrigger,o=void 0===a?"click":a,u=(0,t.useRef)(!1),s=(0,t.useRef)(!1),c=(0,t.useCallback)((function(t){var n=Ti(e);Ii()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),u.current=!n||Si(t)||!_i(t)||!!Ye(n,t.target)||s.current,s.current=!1}),[e]),l=Re((function(t){var n=Ti(e);n&&Ye(n,t.target)&&(s.current=!0)})),f=Re((function(e){u.current||n(e)}));(0,t.useEffect)((function(){if(!i&&null!=e){var t=M(Ti(e)),n=(t.defaultView||window).event,r=null;Ci[o]&&(r=ue(t,Ci[o],l,!0));var a=ue(t,o,c,!0),u=ue(t,o,(function(e){e!==n?f(e):n=void 0})),s=[];return"ontouchstart"in t.documentElement&&(s=[].slice.call(t.body.children).map((function(e){return ue(e,"mousemove",Ei)}))),function(){null==r||r(),a(),u(),s.forEach((function(e){return e()}))}}}),[e,i,o,c,l,f])};function Ai(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t].name=t,e[t]}))}function Di(e){var t,n,r,i,a=e.enabled,o=e.enableEvents,u=e.placement,s=e.flip,c=e.offset,l=e.fixed,f=e.containerPadding,h=e.arrowElement,d=e.popperConfig,p=void 0===d?{}:d,v=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(p.modifiers);return Object.assign({},p,{placement:u,enabled:a,strategy:l?"fixed":p.strategy,modifiers:Ai(Object.assign({},v,{eventListeners:{enabled:o},preventOverflow:Object.assign({},v.preventOverflow,{options:f?Object.assign({padding:f},null==(t=v.preventOverflow)?void 0:t.options):null==(n=v.preventOverflow)?void 0:n.options}),offset:{options:Object.assign({offset:c},null==(r=v.offset)?void 0:r.options)},arrow:Object.assign({},v.arrow,{enabled:!!h,options:Object.assign({},null==(i=v.arrow)?void 0:i.options,{element:h})}),flip:Object.assign({enabled:!!s},v.flip)}))})}var Oi=["children"];var Ri=function(){};function Pi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,t.useContext)(Qn),r=jn(),i=Be(r,2),a=i[0],o=i[1],u=(0,t.useRef)(!1),s=e.flip,c=e.offset,l=e.rootCloseEvent,f=e.fixed,h=void 0!==f&&f,d=e.placement,p=e.popperConfig,v=void 0===p?{}:p,m=e.enableEventListeners,y=void 0===m||m,g=e.usePopper,k=void 0===g?!!n:g,b=null==(null==n?void 0:n.show)?!!e.show:n.show;b&&!u.current&&(u.current=!0);var w=function(e){null==n||n.toggle(!1,e)},x=n||{},I=x.placement,E=x.setMenu,_=x.menuElement,S=x.toggleElement,T=wi(S,_,Di({placement:d||I||"bottom-start",enabled:k,enableEvents:null==y?b:y,offset:c,flip:s,fixed:h,arrowElement:a,popperConfig:v})),C=Object.assign({ref:E||Ri,"aria-labelledby":null==S?void 0:S.id},T.attributes.popper,{style:T.styles.popper}),N={show:b,placement:I,hasShown:u.current,toggle:null==n?void 0:n.toggle,popper:k?T:null,arrowProps:k?Object.assign({ref:o},T.attributes.arrow,{style:T.styles.arrow}):{}};return Ni(_,w,{clickTrigger:l,disabled:!b}),[C,N]}function Li(e){var t=e.children,n=Be(Pi(function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Oi)),2),r=n[0],i=n[1];return(0,I.jsx)(I.Fragment,{children:t(r,i)})}Li.displayName="DropdownMenu",Li.defaultProps={usePopper:!0};var Mi=Li,Fi={prefix:String(Math.round(1e10*Math.random())),current:0},ji=t.createContext(Fi);var Ui=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement);var Vi=function(e){var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},Bi=function(){};function zi(){var e=function(e){var n=(0,t.useContext)(ji);return n!==Fi||Ui||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),(0,t.useMemo)((function(){return e||"react-aria".concat(n.prefix,"-").concat(++n.current)}),[e])}(),n=(0,t.useContext)(Qn)||{},r=n.show,i=void 0!==r&&r,a=n.toggle,o=void 0===a?Bi:a,u=n.setToggle,s=n.menuElement,c=(0,t.useCallback)((function(e){o(!i,e)}),[i,o]),l={id:e,ref:u||Bi,onClick:c,"aria-expanded":!!i};return s&&Vi(s)&&(l["aria-haspopup"]=!0),[l,{show:i,toggle:o}]}function qi(e){var t=e.children,n=Be(zi(),2),r=n[0],i=n[1];return(0,I.jsx)(I.Fragment,{children:t(r,i)})}qi.displayName="DropdownToggle";var Ki=qi,Wi=["eventKey","disabled","onClick","active","as"];function Hi(e){var n=e.key,r=e.href,i=e.active,o=e.disabled,u=e.onClick,s=(0,t.useContext)(d),c=((0,t.useContext)(bn)||{}).activeKey,l=h(n,r),f=null==i&&null!=n?h(c)===l:i;return[a({onClick:Re((function(e){o||(null==u||u(e),s&&!e.isPropagationStopped()&&s(l,e))})),"aria-disabled":o||void 0,"aria-selected":f},it("dropdown-item"),""),{isActive:f}]}var Gi=t.forwardRef((function(e,t){var n=e.eventKey,r=e.disabled,i=e.onClick,a=e.active,o=e.as,u=void 0===o?_n:o,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Wi),c=Be(Hi({key:n,href:s.href,disabled:r,onClick:i,active:a}),1)[0];return(0,I.jsx)(u,Object.assign({},s,{ref:t},c))}));Gi.displayName="DropdownItem";var Qi=Gi;function Yi(){var e=gn(),n=(0,t.useRef)(null),r=(0,t.useCallback)((function(t){n.current=t,e()}),[e]);return[n,r]}function $i(e){var n=e.defaultShow,r=e.show,i=e.onSelect,a=e.onToggle,o=e.itemSelector,u=void 0===o?"* [".concat(it("dropdown-item"),"]"):o,s=e.focusFirstItemOnShow,c=e.placement,l=void 0===c?"bottom-start":c,f=e.children,h=ct(),p=Be(y(r,n,a),2),v=p[0],m=p[1],g=Be(Yi(),2),k=g[0],b=g[1],w=k.current,x=Be(Yi(),2),E=x[0],_=x[1],S=E.current,T=Je(v),C=(0,t.useRef)(null),N=(0,t.useRef)(!1),A=(0,t.useContext)(d),D=(0,t.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;m(e,{originalEvent:t,source:n})}),[m]),O=Re((function(e,t){null==i||i(e,t),D(!1,t,"select"),t.isPropagationStopped()||null==A||A(e,t)})),R=(0,t.useMemo)((function(){return{toggle:D,placement:l,show:v,menuElement:w,toggleElement:S,setMenu:b,setToggle:_}}),[D,l,v,w,S,b,_]);w&&T&&!v&&(N.current=w.contains(w.ownerDocument.activeElement));var P=Re((function(){S&&S.focus&&S.focus()})),L=Re((function(){var e=C.current,t=s;if(null==t&&(t=!(!k.current||!Vi(k.current))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var n=Jt(k.current,u)[0];n&&n.focus&&n.focus()}}));(0,t.useEffect)((function(){v?L():N.current&&(N.current=!1,P())}),[v,N,P,L]),(0,t.useEffect)((function(){C.current=null}));var M=function(e,t){if(!k.current)return null;var n=Jt(k.current,u),r=n.indexOf(e)+t;return n[r=Math.max(0,Math.min(r,n.length))]};return function(e,n,r,i){void 0===i&&(i=!1);var a=Re(r);(0,t.useEffect)((function(){var t="function"===typeof e?e():e;return t.addEventListener(n,a,i),function(){return t.removeEventListener(n,a,i)}}),[e])}((0,t.useCallback)((function(){return h.document}),[h]),"keydown",(function(e){var t,n,r=e.key,i=e.target,a=null==(t=k.current)?void 0:t.contains(i),o=null==(n=E.current)?void 0:n.contains(i);if((!/input|textarea/i.test(i.tagName)||!(" "===r||"Escape"!==r&&a||"Escape"===r&&"search"===i.type))&&(a||o)&&("Tab"!==r||k.current&&v)){C.current=e.type;var u={originalEvent:e,source:e.type};switch(r){case"ArrowUp":var s=M(i,-1);return s&&s.focus&&s.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),v){var c=M(i,1);c&&c.focus&&c.focus()}else m(!0,u);return;case"Tab":ae(i.ownerDocument,"keyup",(function(e){var t;("Tab"!==e.key||e.target)&&null!=(t=k.current)&&t.contains(e.target)||m(!1,u)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),m(!1,u)}}})),(0,I.jsx)(d.Provider,{value:O,children:(0,I.jsx)(Qn.Provider,{value:R,children:f})})}$i.displayName="Dropdown",$i.Menu=Mi,$i.Toggle=Ki,$i.Item=Qi;var Xi=$i,Ji=t.createContext({});Ji.displayName="DropdownContext";var Zi=Ji,ea=["bsPrefix","className","eventKey","disabled","onClick","active","as"],ta=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.eventKey,a=e.disabled,o=void 0!==a&&a,s=e.onClick,l=e.active,h=e.as,d=void 0===h?Bn:h,p=c(e,ea),v=S(n,"dropdown-item"),m=Be(Hi({key:i,href:p.href,disabled:o,onClick:s,active:l}),2),y=m[0],g=m[1];return(0,I.jsx)(d,u(u(u({},p),y),{},{ref:t,className:f()(r,v,g.isActive&&"active",o&&"disabled")}))}));ta.displayName="DropdownItem";var na=ta,ra=t.createContext(null);ra.displayName="InputGroupContext";var ia=ra;function aa(e,t){return e}var oa=["bsPrefix","className","align","rootCloseEvent","flip","show","renderOnMount","as","popperConfig","variant"];function ua(e,t,n){var r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t&&(r=e?n?"right-end":"left-end":n?"right-start":"left-start"),r}var sa=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.align,o=e.rootCloseEvent,s=e.flip,l=e.show,h=e.renderOnMount,d=e.as,p=void 0===d?"div":d,v=e.popperConfig,m=e.variant,y=c(e,oa),g=!1,k=(0,t.useContext)(Ce),b=S(r,"dropdown-menu"),w=(0,t.useContext)(Zi),x=w.align,E=w.drop,_=w.isRTL;a=a||x;var T=(0,t.useContext)(ia),C=[];if(a)if("object"===typeof a){var N=Object.keys(a);if(N.length){var A=N[0],D=a[A];g="start"===D,C.push("".concat(b,"-").concat(A,"-").concat(D))}}else"end"===a&&(g=!0);var O=ua(g,E,_),R=Be(Pi({flip:s,rootCloseEvent:o,show:l,usePopper:!k&&0===C.length,offset:[0,2],popperConfig:v,placement:O}),2),P=R[0],L=R[1],M=L.hasShown,F=L.popper,j=L.show,U=L.toggle;if(P.ref=ve(aa(n),P.ref),qe((function(){j&&(null==F||F.update())}),[j]),!M&&!h&&!T)return null;"string"!==typeof p&&(P.show=j,P.close=function(){return null==U?void 0:U(!1)},P.align=a);var V=y.style;return null!=F&&F.placement&&(V=u(u({},y.style),P.style),y["x-placement"]=F.placement),(0,I.jsx)(p,u(u(u(u({},y),P),{},{style:V},(C.length||k)&&{"data-bs-popper":"static"}),{},{className:f().apply(void 0,[i,b,j&&"show",g&&"".concat(b,"-end"),m&&"".concat(b,"-").concat(m)].concat(C))}))}));sa.displayName="DropdownMenu",sa.defaultProps={flip:!0};var ca=sa,la=["as","bsPrefix","variant","size","active","className"],fa=t.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,o=e.active,s=e.className,l=c(e,la),h=S(r,"btn"),d=Be(In(u({tagName:n},l)),2),p=d[0],v=d[1].tagName;return(0,I.jsx)(v,u(u(u({},p),l),{},{ref:t,className:f()(s,h,o&&"active",i&&"".concat(h,"-").concat(i),a&&"".concat(h,"-").concat(a),l.href&&l.disabled&&"disabled")}))}));fa.displayName="Button",fa.defaultProps={variant:"primary",active:!1,disabled:!1};var ha=fa,da=["bsPrefix","split","className","childBsPrefix","as"],pa=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.split,a=e.className,o=e.childBsPrefix,s=e.as,l=void 0===s?ha:s,h=c(e,da),d=S(r,"dropdown-toggle"),p=(0,t.useContext)(Qn),v=(0,t.useContext)(ia);void 0!==o&&(h.bsPrefix=o);var m=Be(zi(),1)[0];return m.ref=ve(m.ref,aa(n)),(0,I.jsx)(l,u(u({className:f()(a,d,i&&"".concat(d,"-split"),!!v&&(null==p?void 0:p.show)&&"show")},m),h))}));pa.displayName="DropdownToggle";var va=pa,ma=["bsPrefix","drop","show","className","align","onSelect","onToggle","focusFirstItemOnShow","as","navbar","autoClose"],ya=O("dropdown-header",{defaultProps:{role:"heading"}}),ga=O("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),ka=O("dropdown-item-text",{Component:"span"}),ba=t.forwardRef((function(e,n){var r=g(e,{show:"onToggle"}),i=r.bsPrefix,a=r.drop,o=r.show,s=r.className,l=r.align,h=r.onSelect,d=r.onToggle,p=r.focusFirstItemOnShow,v=r.as,m=void 0===v?"div":v,y=(r.navbar,r.autoClose),k=c(r,ma),b=(0,t.useContext)(ia),w=S(i,"dropdown"),x=N(),E=Re((function(e,t){var n;t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),n=t.source,(!1===y?"click"===n:"inside"===y?"rootClose"!==n:"outside"!==y||"select"!==n)&&(null==d||d(e,t))})),_=ua("end"===l,a,x),T=(0,t.useMemo)((function(){return{align:l,drop:a,isRTL:x}}),[l,a,x]);return(0,I.jsx)(Zi.Provider,{value:T,children:(0,I.jsx)(Xi,{placement:_,show:o,onSelect:h,onToggle:E,focusFirstItemOnShow:p,itemSelector:".".concat(w,"-item:not(.disabled):not(:disabled)"),children:b?k.children:(0,I.jsx)(m,u(u({},k),{},{ref:n,className:f()(s,o&&"show",(!a||"down"===a)&&w,"up"===a&&"dropup","end"===a&&"dropend","start"===a&&"dropstart")}))})})}));ba.displayName="Dropdown",ba.defaultProps={navbar:!1,align:"start",autoClose:!0};var wa=Object.assign(ba,{Toggle:va,Menu:ca,Item:na,ItemText:ka,Divider:ga,Header:ya}),xa=["id","title","children","bsPrefix","className","rootCloseEvent","menuRole","disabled","active","renderMenuOnMount","menuVariant"],Ia=t.forwardRef((function(e,t){var n=e.id,r=e.title,i=e.children,a=e.bsPrefix,o=e.className,s=e.rootCloseEvent,l=e.menuRole,h=e.disabled,d=e.active,p=e.renderMenuOnMount,v=e.menuVariant,m=c(e,xa),y=S(void 0,"nav-item");return(0,I.jsxs)(wa,u(u({ref:t},m),{},{className:f()(o,y),children:[(0,I.jsx)(wa.Toggle,{id:n,eventKey:null,active:d,disabled:h,childBsPrefix:a,as:Kn,children:r}),(0,I.jsx)(wa.Menu,{role:l,renderOnMount:p,rootCloseEvent:s,variant:v,children:i})]}))}));Ia.displayName="NavDropdown";var Ea,_a=Object.assign(Ia,{Item:wa.Item,ItemText:wa.ItemText,Divider:wa.Divider,Header:wa.Header}),Sa=function(){return(0,I.jsx)("span",{as:"link",href:"#1",id:"cartWidget",className:"material-icons",children:"shopping_cart"})};function Ta(e,t,n){return Ta=Ht()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&q(i,n.prototype),i},Ta.apply(null,arguments)}function Ca(e){var t="function"===typeof Map?new Map:void 0;return Ca=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ta(e,arguments,zt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),q(n,e)},Ca(e)}function Na(){return Na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Na.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Ea||(Ea={}));var Aa,Da="popstate";function Oa(e){return{usr:e.state,key:e.key}}function Ra(e,t,n,r){return void 0===n&&(n=null),Na({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?La(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Pa(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function La(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Ma(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:"unknown://unknown",n="string"===typeof e?e:Pa(e);return new URL(n,t)}function Fa(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,c=o.history,l=Ea.Pop,f=null;function h(){l=Ea.Pop,f&&f({action:l,location:d.location})}var d={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Da,h),f=e,function(){o.removeEventListener(Da,h),f=null}},createHref:function(e){return t(o,e)},encodeLocation:function(e){var t=Ma(Pa(e));return Na({},e,{pathname:t.pathname,search:t.search,hash:t.hash})},push:function(e,t){l=Ea.Push;var r=Ra(d.location,e,t);n&&n(r,e);var i=Oa(r),a=d.createHref(r);try{c.pushState(i,"",a)}catch(u){o.location.assign(a)}s&&f&&f({action:l,location:d.location})},replace:function(e,t){l=Ea.Replace;var r=Ra(d.location,e,t);n&&n(r,e);var i=Oa(r),a=d.createHref(r);c.replaceState(i,"",a),s&&f&&f({action:l,location:d.location})},go:function(e){return c.go(e)}};return d}function ja(e,t,n){void 0===n&&(n="/");var r=Ha(("string"===typeof t?La(t):t).pathname||"/",n);if(null==r)return null;var i=Ua(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=qa(i[o],Wa(r));return a}function Ua(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(Ga(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=Ja([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(Ga(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),Ua(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:za(o,e.index),routesMeta:u})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Aa||(Aa={}));var Va=/^:\w+$/,Ba=function(e){return"*"===e};function za(e,t){var n=e.split("/"),r=n.length;return n.some(Ba)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!Ba(e)})).reduce((function(e,t){return e+(Va.test(t)?3:""===t?1:10)}),r)}function qa(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Ka({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:Ja([i,l.pathname]),pathnameBase:Za(Ja([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=Ja([i,l.pathnameBase]))}return a}function Ka(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Qa("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=Be(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return Qa(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function Wa(e){try{return decodeURI(e)}catch(t){return Qa(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Ha(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Ga(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Qa(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(lP){}}}function Ya(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function $a(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function Xa(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=La(e):(Ga(!(i=Na({},e)).pathname||!i.pathname.includes("?"),Ya("?","pathname","search",i)),Ga(!i.pathname||!i.pathname.includes("#"),Ya("#","pathname","hash",i)),Ga(!i.search||!i.search.includes("#"),Ya("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?La(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:eo(a),hash:to(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var Ja=function(e){return e.join("/").replace(/\/\/+/g,"/")},Za=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},eo=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},to=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},no=function(e){Wt(n,e);var t=$t(n);function n(){return tt(this,n),t.apply(this,arguments)}return rt(n)}(Ca(Error));var ro=rt((function e(t,n,r){tt(this,e),this.status=t,this.statusText=n||"",this.data=r}));function io(e){return e instanceof ro}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var ao=new Set(["POST","PUT","PATCH","DELETE"]);new Set(["GET","HEAD"].concat(et(ao)));function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oo.apply(this,arguments)}var uo="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},so=t.useState,co=t.useEffect,lo=t.useLayoutEffect,fo=t.useDebugValue;function ho(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!uo(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var po=t.createContext(null);var vo=t.createContext(null);var mo=t.createContext(null);var yo=t.createContext(null);var go=t.createContext(null);var ko=t.createContext(null);var bo=t.createContext({outlet:null,matches:[]});var wo=t.createContext(null);function xo(){return null!=t.useContext(ko)}function Io(){return xo()||Ga(!1),t.useContext(ko).location}function Eo(){xo()||Ga(!1);var e=t.useContext(go),n=e.basename,r=e.navigator,i=t.useContext(bo).matches,a=Io().pathname,o=JSON.stringify($a(i).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);t.useEffect((function(){u.current=!0}));var s=t.useCallback((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=Xa(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:Ja([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return s}function _o(){var e=t.useContext(bo).matches,n=e[e.length-1];return n?n.params:{}}function So(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(bo).matches,a=Io().pathname,o=JSON.stringify($a(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return Xa(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function To(){var e=function(){var e,n=t.useContext(wo),r=Ro(No.UseRouteError),i=t.useContext(bo),a=i.matches[i.matches.length-1];if(n)return n;return i||Ga(!1),!a.route.id&&Ga(!1),null==(e=r.errors)?void 0:e[a.route.id]}(),n=io(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",t.createElement("code",{style:o},"errorElement")," props on\xa0",t.createElement("code",{style:o},"<Route>")))}var Co,No,Ao=function(e){Wt(r,e);var n=$t(r);function r(e){var t;return tt(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return rt(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(wo.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function Do(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(po);return a&&r.route.errorElement&&(a._deepestRenderedBoundaryId=r.route.id),t.createElement(bo.Provider,{value:n},i)}function Oo(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||Ga(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=r?o.route.errorElement||t.createElement(To,null):null,l=function(){return t.createElement(Do,{match:o,routeContext:{outlet:e,matches:n.concat(i.slice(0,u+1))}},s?c:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===u)?t.createElement(Ao,{location:r.location,component:c,error:s,children:l()}):l()}),null)}function Ro(e){var n=t.useContext(mo);return n||Ga(!1),n}!function(e){e.UseRevalidator="useRevalidator"}(Co||(Co={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(No||(No={}));var Po;function Lo(e){Ga(!1)}function Mo(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?Ea.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;xo()&&Ga(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=La(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,w=p.state,x=void 0===w?null:w,I=p.key,E=void 0===I?"default":I,_=t.useMemo((function(){var e=Ha(m,h);return null==e?null:{pathname:e,search:g,hash:b,state:x,key:E}}),[h,m,g,b,x,E]);return null==_?null:t.createElement(go.Provider,{value:d},t.createElement(ko.Provider,{children:a,value:{location:_,navigationType:s}}))}function Fo(e){var n=e.children,r=e.location,i=t.useContext(vo);return function(e,n){xo()||Ga(!1);var r,i=t.useContext(mo),a=t.useContext(bo).matches,o=a[a.length-1],u=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),c=(o&&o.route,Io());if(n){var l,f="string"===typeof n?La(n):n;"/"===s||(null==(l=f.pathname)?void 0:l.startsWith(s))||Ga(!1),r=f}else r=c;var h=r.pathname||"/",d=ja(e,{pathname:"/"===s?h:h.slice(s.length)||"/"}),p=Oo(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Ja([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:Ja([s,e.pathnameBase])})})),a,i||void 0);return n&&p?t.createElement(ko.Provider,{value:{location:oo({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:Ea.Pop}},p):p}(i&&!n?i.router.routes:Uo(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Po||(Po={}));var jo=new Promise((function(){}));t.Component;function Uo(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==Lo&&Ga(!1),e.props.index&&e.props.children&&Ga(!1);var a=[].concat(et(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Uo(e.props.children,a)),r.push(o)}else r.push.apply(r,Uo(e.props.children,n))})),r}function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vo.apply(this,arguments)}function Bo(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var zo=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function qo(e){var n=e.basename,r=e.children,i=e.window,a=t.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),Fa((function(e,t){var n=e.location;return Ra("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:Pa(t)}),null,e)}({window:i,v5Compat:!0}));var o=a.current,u=Be(t.useState({action:o.action,location:o.location}),2),s=u[0],c=u[1];return t.useLayoutEffect((function(){return o.listen(c)}),[o]),t.createElement(Mo,{basename:n,children:r,location:s.location,navigationType:s.action,navigator:o})}var Ko=t.forwardRef((function(e,n){var r=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,u=e.state,s=e.target,c=e.to,l=e.preventScrollReset,f=Bo(e,zo),h=function(e,n){var r=(void 0===n?{}:n).relative;xo()||Ga(!1);var i=t.useContext(go),a=i.basename,o=i.navigator,u=So(e,{relative:r}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:Ja([a,c])),o.createHref({pathname:f,search:l,hash:s})}(c,{relative:i}),d=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=r.preventScrollReset,s=r.relative,c=Eo(),l=Io(),f=So(e,{relative:s});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:Pa(l)===Pa(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(c,{replace:o,state:u,target:s,preventScrollReset:l,relative:i});return t.createElement("a",Vo({},f,{href:h,onClick:a?r:function(e){r&&r(e),e.defaultPrevented||d(e)},ref:n,target:s}))}));var Wo,Ho;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Wo||(Wo={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ho||(Ho={}));var Go=(0,t.createContext)(),Qo=Go.Provider,Yo=function(e){var n=e.children,r=Be((0,t.useState)([]),2),i=r[0],a=r[1],o=function(e){return i.find((function(t){return t.id===e}))},s={carrito:i,addProduct:function(e){if(o(e.id)){var t=i.find((function(t){return t.id===e.id})),n=e.cantidad,r=t.cantidad,s=u(u({},e),{},{cantidad:n+r}),c=i.filter((function(t){return t.id!==e.id}));a([].concat(et(c),[s]))}else a([].concat(et(i),[e]))},clear:function(){a([])},removeProduct:function(e){var t=i.filter((function(t){return t.id!==e}));a(t)}};return(0,I.jsx)(Qo,{value:s,children:n})},$o=function(){var e=(0,t.useContext)(Go).carrito.map((function(e){return e.cantidad})).reduce((function(e,t){return e+t}),0);return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(yn,{bg:"dark",variant:"dark",children:[(0,I.jsx)(yn.Brand,{className:"ms-5",as:Ko,to:"/",children:"GyM"}),(0,I.jsxs)(Gn,{className:"mr-auto",children:[(0,I.jsx)(Gn.Link,{as:Ko,to:"/",children:"Home"}),(0,I.jsx)(Gn.Link,{as:Ko,to:"/nosotros",children:"Nosotros"}),(0,I.jsxs)(_a,{title:"Productos",id:"basic-nav-dropdown",children:[(0,I.jsx)(_a.Item,{as:Ko,to:"/categoria/plantas",children:"Plantas"}),(0,I.jsx)(_a.Item,{as:Ko,to:"/categoria/macetas",children:"Macetas"}),(0,I.jsx)(_a.Item,{as:Ko,to:"/categoria/tierra",children:"Tierra"}),(0,I.jsx)(_a.Divider,{}),(0,I.jsx)(_a.Item,{as:Ko,to:"/",children:"Todos los productos"})]})]}),(0,I.jsxs)(Ko,{id:"carrito",to:"/cart",children:[(0,I.jsx)(Sa,{}),(0,I.jsx)("span",{className:e>0?"cantidadCarrito":"carritoNoVisible",children:e})]})]})})};var Xo=function(e,n){var r=(0,t.useRef)(!0);(0,t.useEffect)((function(){if(!r.current)return e();r.current=!1}),n)},Jo=Math.pow(2,31)-1;function Zo(e,t,n){var r=n-Date.now();e.current=r<=Jo?setTimeout(t,r):setTimeout((function(){return Zo(e,t,n)}),Jo)}function eu(){var e=$e(),n=(0,t.useRef)();return Xe((function(){return clearTimeout(n.current)})),(0,t.useMemo)((function(){var t=function(){return clearTimeout(n.current)};return{set:function(r,i){void 0===i&&(i=0),e()&&(t(),i<=Jo?n.current=setTimeout(r,i):Zo(n,r,Date.now()+i))},clear:t}}),[])}var tu=O("carousel-caption"),nu=["as","bsPrefix","className"],ru=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.bsPrefix,a=e.className,o=c(e,nu),s=f()(a,S(i,"carousel-item"));return(0,I.jsx)(r,u(u({ref:t},o),{},{className:s}))}));ru.displayName="CarouselItem";var iu=ru;function au(e,n){var r=0;return t.Children.map(e,(function(e){return t.isValidElement(e)?n(e,r++):e}))}var ou=["as","bsPrefix","slide","fade","controls","indicators","indicatorLabels","activeIndex","onSelect","onSlide","onSlid","interval","keyboard","onKeyDown","pause","onMouseOver","onMouseOut","wrap","touch","onTouchStart","onTouchMove","onTouchEnd","prevIcon","prevLabel","nextIcon","nextLabel","variant","className","children"],uu={slide:!0,fade:!1,controls:!0,indicators:!0,indicatorLabels:[],defaultActiveIndex:0,interval:5e3,keyboard:!0,pause:"hover",wrap:!0,touch:!0,prevIcon:(0,I.jsx)("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:"Previous",nextIcon:(0,I.jsx)("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:"Next"};var su=t.forwardRef((function(e,n){var r=g(e,{activeIndex:"onSelect"}),i=r.as,a=void 0===i?"div":i,o=r.bsPrefix,s=r.slide,l=r.fade,h=r.controls,d=r.indicators,p=r.indicatorLabels,v=r.activeIndex,m=r.onSelect,y=r.onSlide,k=r.onSlid,b=r.interval,w=r.keyboard,x=r.onKeyDown,E=r.pause,_=r.onMouseOver,T=r.onMouseOut,C=r.wrap,A=r.touch,D=r.onTouchStart,O=r.onTouchMove,R=r.onTouchEnd,P=r.prevIcon,L=r.prevLabel,M=r.nextIcon,F=r.nextLabel,j=r.variant,U=r.className,V=r.children,B=c(r,ou),z=S(o,"carousel"),q=N(),K=(0,t.useRef)(null),W=Be((0,t.useState)("next"),2),H=W[0],G=W[1],Q=Be((0,t.useState)(!1),2),Y=Q[0],$=Q[1],X=Be((0,t.useState)(!1),2),J=X[0],Z=X[1],ee=Be((0,t.useState)(v||0),2),te=ee[0],ne=ee[1];(0,t.useEffect)((function(){J||v===te||(K.current?G(K.current):G((v||0)>te?"next":"prev"),s&&Z(!0),ne(v||0))}),[v,J,te,s]),(0,t.useEffect)((function(){K.current&&(K.current=null)}));var re,ie=0;!function(e,n){var r=0;t.Children.forEach(e,(function(e){t.isValidElement(e)&&n(e,r++)}))}(V,(function(e,t){++ie,t===v&&(re=e.props.interval)}));var ae=Oe(re),oe=(0,t.useCallback)((function(e){if(!J){var t=te-1;if(t<0){if(!C)return;t=ie-1}K.current="prev",null==m||m(t,e)}}),[J,te,m,C,ie]),ue=Re((function(e){if(!J){var t=te+1;if(t>=ie){if(!C)return;t=0}K.current="next",null==m||m(t,e)}})),se=(0,t.useRef)();(0,t.useImperativeHandle)(n,(function(){return{element:se.current,prev:oe,next:ue}}));var ce=Re((function(){!document.hidden&&function(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;var t=getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&"none"!==getComputedStyle(e.parentNode).display}(se.current)&&(q?oe():ue())})),le="next"===H?"start":"end";Xo((function(){s||(null==y||y(te,le),null==k||k(te,le))}),[te]);var he="".concat(z,"-item-").concat(H),pe="".concat(z,"-item-").concat(le),ve=(0,t.useCallback)((function(e){de(e),null==y||y(te,le)}),[y,te,le]),me=(0,t.useCallback)((function(){Z(!1),null==k||k(te,le)}),[k,te,le]),ye=(0,t.useCallback)((function(e){if(w&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":return e.preventDefault(),void(q?ue(e):oe(e));case"ArrowRight":return e.preventDefault(),void(q?oe(e):ue(e))}null==x||x(e)}),[w,x,oe,ue,q]),ge=(0,t.useCallback)((function(e){"hover"===E&&$(!0),null==_||_(e)}),[E,_]),be=(0,t.useCallback)((function(e){$(!1),null==T||T(e)}),[T]),we=(0,t.useRef)(0),xe=(0,t.useRef)(0),Ie=eu(),Ee=(0,t.useCallback)((function(e){we.current=e.touches[0].clientX,xe.current=0,"hover"===E&&$(!0),null==D||D(e)}),[E,D]),_e=(0,t.useCallback)((function(e){e.touches&&e.touches.length>1?xe.current=0:xe.current=e.touches[0].clientX-we.current,null==O||O(e)}),[O]),Se=(0,t.useCallback)((function(e){if(A){var t=xe.current;Math.abs(t)>40&&(t>0?oe(e):ue(e))}"hover"===E&&Ie.set((function(){$(!1)}),b||void 0),null==R||R(e)}),[A,E,oe,ue,Ie,b,R]),Te=null!=b&&!Y&&!J,Ce=(0,t.useRef)();(0,t.useEffect)((function(){var e,t;if(Te){var n=q?oe:ue;return Ce.current=window.setInterval(document.visibilityState?ce:n,null!=(e=null!=(t=ae.current)?t:b)?e:void 0),function(){null!==Ce.current&&clearInterval(Ce.current)}}}),[Te,oe,ue,ae,b,ce,q]);var Ne=(0,t.useMemo)((function(){return d&&Array.from({length:ie},(function(e,t){return function(e){null==m||m(t,e)}}))}),[d,ie,m]);return(0,I.jsxs)(a,u(u({ref:se},B),{},{onKeyDown:ye,onMouseOver:ge,onMouseOut:be,onTouchStart:Ee,onTouchMove:_e,onTouchEnd:Se,className:f()(U,z,s&&"slide",l&&"".concat(z,"-fade"),j&&"".concat(z,"-").concat(j)),children:[d&&(0,I.jsx)("div",{className:"".concat(z,"-indicators"),children:au(V,(function(e,t){return(0,I.jsx)("button",{type:"button","data-bs-target":"","aria-label":null!=p&&p.length?p[t]:"Slide ".concat(t+1),className:t===te?"active":void 0,onClick:Ne?Ne[t]:void 0,"aria-current":t===te},t)}))}),(0,I.jsx)("div",{className:"".concat(z,"-inner"),children:au(V,(function(e,n){var r=n===te;return s?(0,I.jsx)(ke,{in:r,onEnter:r?ve:void 0,onEntered:r?me:void 0,addEndListener:fe,children:function(n,i){return t.cloneElement(e,u(u({},i),{},{className:f()(e.props.className,r&&"entered"!==n&&he,("entered"===n||"exiting"===n)&&"active",("entering"===n||"exiting"===n)&&pe)}))}}):t.cloneElement(e,{className:f()(e.props.className,r&&"active")})}))}),h&&(0,I.jsxs)(I.Fragment,{children:[(C||0!==v)&&(0,I.jsxs)(Bn,{className:"".concat(z,"-control-prev"),onClick:oe,children:[P,L&&(0,I.jsx)("span",{className:"visually-hidden",children:L})]}),(C||v!==ie-1)&&(0,I.jsxs)(Bn,{className:"".concat(z,"-control-next"),onClick:ue,children:[M,F&&(0,I.jsx)("span",{className:"visually-hidden",children:F})]})]})]}))}));su.displayName="Carousel",su.defaultProps=uu;var cu=Object.assign(su,{Caption:tu,Item:iu}),lu=n.p+"static/media/slider01.43c91f94b4cc5a8444e8.jpg",fu=n.p+"static/media/slider02.cf436a8f1ded2601b329.jpg",hu=function(){return(0,I.jsxs)(cu,{className:"slider",children:[(0,I.jsxs)(cu.Item,{className:"slider",children:[(0,I.jsx)("img",{className:"d-block w-100",src:lu,alt:"First slide"}),(0,I.jsxs)(cu.Caption,{children:[(0,I.jsx)("h3",{children:"Plantas de Interior y Exterior"}),(0,I.jsx)("p",{children:"Todo lo que busc\xe1s en un solo lugar"})]})]}),(0,I.jsxs)(cu.Item,{className:"slider",children:[(0,I.jsx)("img",{className:"d-block w-100",src:fu,alt:"Second slide"}),(0,I.jsxs)(cu.Caption,{children:[(0,I.jsx)("h3",{children:"Plantas de Interior y Exterior"}),(0,I.jsx)("p",{children:"Todo lo que busc\xe1s en un solo lugar"})]})]})]})},du=["bsPrefix","className","variant","as"],pu=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,o=void 0===a?"img":a,s=c(e,du),l=S(n,"card-img");return(0,I.jsx)(o,u({ref:t,className:f()(i?"".concat(l,"-").concat(i):l,r)},s))}));pu.displayName="CardImg";var vu=pu,mu=["bsPrefix","className","as"],yu=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.as,o=void 0===a?"div":a,s=c(e,mu),l=S(r,"card-header"),h=(0,t.useMemo)((function(){return{cardHeaderBsPrefix:l}}),[l]);return(0,I.jsx)(Mn.Provider,{value:h,children:(0,I.jsx)(o,u(u({ref:n},s),{},{className:f()(i,l)}))})}));yu.displayName="CardHeader";var gu=yu,ku=["bsPrefix","className","bg","text","border","body","children","as"],bu=Vt("h5"),wu=Vt("h6"),xu=O("card-body"),Iu=O("card-title",{Component:bu}),Eu=O("card-subtitle",{Component:wu}),_u=O("card-link",{Component:"a"}),Su=O("card-text",{Component:"p"}),Tu=O("card-footer"),Cu=O("card-img-overlay"),Nu=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,o=e.border,s=e.body,l=e.children,h=e.as,d=void 0===h?"div":h,p=c(e,ku),v=S(n,"card");return(0,I.jsx)(d,u(u({ref:t},p),{},{className:f()(r,v,i&&"bg-".concat(i),a&&"text-".concat(a),o&&"border-".concat(o)),children:s?(0,I.jsx)(xu,{children:l}):l}))}));Nu.displayName="Card",Nu.defaultProps={body:!1};var Au=Object.assign(Nu,{Img:vu,Title:Iu,Subtitle:Eu,Body:xu,Link:_u,Text:Su,Header:gu,Footer:Tu,ImgOverlay:Cu}),Du=function(e){var t=e.nombre,n=e.imagen,r=(e.descripcion,e.stock,e.precio),i=e.id;return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(Au,{className:"itemCard",children:[(0,I.jsx)(Au.Img,{variant:"top",src:n}),(0,I.jsxs)(Au.Body,{children:[(0,I.jsx)(Au.Title,{className:"cardTitle",children:t}),(0,I.jsxs)(Au.Subtitle,{className:"cardPrice",children:["$",r]}),(0,I.jsx)(ha,{variant:"outline-primary",as:Ko,to:"/productos/detalles/".concat(i),children:"Ver m\xe1s"})]})]})})},Ou=["bsPrefix","fluid","as","className"],Ru=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,o=e.className,s=c(e,Ou),l=S(n,"container"),h="string"===typeof r?"-".concat(r):"-fluid";return(0,I.jsx)(a,u(u({ref:t},s),{},{className:f()(o,r?"".concat(l).concat(h):l)}))}));Ru.displayName="Container",Ru.defaultProps={fluid:!1};var Pu=Ru,Lu=["bsPrefix","className","as"],Mu=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"div":i,o=c(e,Lu),s=S(n,"row"),l=T(),h=C(),d="".concat(s,"-cols"),p=[];return l.forEach((function(e){var t,n=o[e];delete o[e],t=null!=n&&"object"===typeof n?n.cols:n;var r=e!==h?"-".concat(e):"";null!=t&&p.push("".concat(d).concat(r,"-").concat(t))})),(0,I.jsx)(a,u(u({ref:t},o),{},{className:f().apply(void 0,[r,s].concat(p))}))}));Mu.displayName="Row";var Fu=Mu,ju=["as","bsPrefix","className"],Uu=["className"];var Vu=t.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,i=c(e,ju);n=S(n,"col");var a=T(),o=C(),s=[],l=[];return a.forEach((function(e){var t,r,a,u=i[e];delete i[e],"object"===typeof u&&null!=u?(t=u.span,r=u.offset,a=u.order):t=u;var c=e!==o?"-".concat(e):"";t&&s.push(!0===t?"".concat(n).concat(c):"".concat(n).concat(c,"-").concat(t)),null!=a&&l.push("order".concat(c,"-").concat(a)),null!=r&&l.push("offset".concat(c,"-").concat(r))})),[u(u({},i),{},{className:f().apply(void 0,[r].concat(s,l))}),{as:t,bsPrefix:n,spans:s}]}(e),r=Be(n,2),i=r[0],a=i.className,o=c(i,Uu),s=r[1],l=s.as,h=void 0===l?"div":l,d=s.bsPrefix,p=s.spans;return(0,I.jsx)(h,u(u({},o),{},{ref:t,className:f()(a,!p.length&&d)}))}));Vu.displayName="Col";var Bu=Vu,zu=function(e){var t=e.productos;return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)("ul",{children:(0,I.jsx)(Pu,{children:(0,I.jsx)(Fu,{children:t.map((function(e){return(0,I.jsx)(Bu,{md:"4",children:(0,I.jsx)("li",{children:(0,I.jsx)(Du,{id:e.id,nombre:e.nombre,imagen:e.img,descripcion:e.descripcion,stock:e.stock,precio:e.precio})},e.id)})}))})})})})},qu=["bsPrefix","variant","animation","size","as","className"],Ku=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.variant,i=e.animation,a=e.size,o=e.as,s=void 0===o?"div":o,l=e.className,h=c(e,qu);n=S(n,"spinner");var d="".concat(n,"-").concat(i);return(0,I.jsx)(s,u(u({ref:t},h),{},{className:f()(l,d,a&&"".concat(d,"-").concat(a),r&&"text-".concat(r))}))}));Ku.displayName="Spinner";var Wu=Ku,Hu=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Gu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Hu(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Qu=function(e){return function(e){var t=Hu(e);return Gu.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Yu=function(e){try{return Gu.decodeString(e,!0)}catch(lP){console.error("base64Decode failed: ",lP)}return null};function $u(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=$u(e[n],t[n]));return e}function Xu(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ju(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(lP){return!1}}function Zu(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function es(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ts(){var e=Xu();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ns(){return"object"===typeof indexedDB}var rs=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},is=function(){try{return rs()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/gymmarket",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(lP){return}var t=e&&Yu(e[1]);return t&&JSON.parse(t)}}()}catch(lP){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(lP))}},as=function(){var e;return null===(e=is())||void 0===e?void 0:e.config},os=function(){function e(){var t=this;tt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return rt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function us(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Qu(JSON.stringify({alg:"none",type:"JWT"})),Qu(JSON.stringify(a)),""].join(".")}var ss=function(e){Wt(n,e);var t=$t(n);function n(e,r,i){var a;return tt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Qt(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Qt(a),cs.prototype.create),a}return rt(n)}(Ca(Error)),cs=function(){function e(t,n,r){tt(this,e),this.service=t,this.serviceName=n,this.errors=r}return rt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?ls(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new ss(n,a,t);return o}}]),e}();function ls(e,t){return e.replace(fs,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var fs=/\{\$([^}]+)}/g;function hs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ds(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(ps(u)&&ps(s)){if(!ds(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ps(e){return null!==e&&"object"===typeof e}function vs(e){for(var t=[],n=function(){var e=Be(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ms(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=Be(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function ys(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function gs(e,t){var n=new ks(e,t);return n.subscribe.bind(n)}var ks=function(){function e(t,n){var r=this;tt(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return rt(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Yn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=bs),void 0===r.error&&(r.error=bs),void 0===r.complete&&(r.complete=bs);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(lP){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(lP){"undefined"!==typeof console&&console.error&&console.error(lP)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function bs(){}function ws(e){return e&&e._delegate?e._delegate:e}function xs(){xs=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new _(i||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(S([])));y&&y!==t&&n.call(y,a)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==Gt(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(g),s(g,u,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Is(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Es(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Is(a,r,i,o,u,"next",e)}function u(e){Is(a,r,i,o,u,"throw",e)}o(void 0)}))}}var _s=function(){function e(t,n,r){tt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return rt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ss="[DEFAULT]",Ts=function(){function e(t,n){tt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return rt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new os;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(lP){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(lP){if(r)return null;throw lP}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ss})}catch(lP){}var t,n=Yn(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Be(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(lP){}}}catch(s){n.e(s)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ss;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Es(xs().mark((function e(){var t;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(et(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),et(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ss;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ss;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Yn(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=Be(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Yn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(bD){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ss?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(bD){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ss;return this.component?this.component.multipleInstances?e:Ss:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Cs,Ns,As=function(){function e(t){tt(this,e),this.name=t,this.providers=new Map}return rt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ts(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ds=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ns||(Ns={}));var Os={debug:Ns.DEBUG,verbose:Ns.VERBOSE,info:Ns.INFO,warn:Ns.WARN,error:Ns.ERROR,silent:Ns.SILENT},Rs=Ns.INFO,Ps=(a(Cs={},Ns.DEBUG,"log"),a(Cs,Ns.VERBOSE,"log"),a(Cs,Ns.INFO,"info"),a(Cs,Ns.WARN,"warn"),a(Cs,Ns.ERROR,"error"),Cs),Ls=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ps[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ms=function(){function e(t){tt(this,e),this.name=t,this._logLevel=Rs,this._logHandler=Ls,this._userLogHandler=null,Ds.push(this)}return rt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ns))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Os[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ns.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ns.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ns.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ns.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ns.INFO].concat(t)),this._logHandler.apply(this,[this,Ns.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ns.WARN].concat(t)),this._logHandler.apply(this,[this,Ns.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ns.ERROR].concat(t)),this._logHandler.apply(this,[this,Ns.ERROR].concat(t))}}]),e}();var Fs,js;var Us=new WeakMap,Vs=new WeakMap,Bs=new WeakMap,zs=new WeakMap,qs=new WeakMap;var Ks={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Vs.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Bs.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gs(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Ws(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(js||(js=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Qs(this),n),Gs(Us.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Gs(e.apply(Qs(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Qs(this),t].concat(r));return Bs.set(a,t.sort?t.sort():[t]),Gs(a)}}function Hs(e){return"function"===typeof e?Ws(e):(e instanceof IDBTransaction&&function(e){if(!Vs.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Vs.set(e,t)}}(e),t=e,(Fs||(Fs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Ks):e);var t}function Gs(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Gs(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Us.set(t,e)})).catch((function(){})),qs.set(t,e),t}(e);if(zs.has(e))return zs.get(e);var t=Hs(e);return t!==e&&(zs.set(e,t),qs.set(t,e)),t}var Qs=function(e){return qs.get(e)};var Ys,$s,Xs=["get","getKey","getAll","getAllKeys","count"],Js=["put","add","delete","clear"],Zs=new Map;function ec(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Zs.get(t))return Zs.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Js.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Xs.includes(n))){var a=function(){var e=Es(xs().mark((function e(t){var a,o,u,s,c,l,f=arguments;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Zs.set(t,a),a}}}Ks=function(e){return u(u({},e),{},{get:function(t,n,r){return ec(t,n)||e.get(t,n,r)},has:function(t,n){return!!ec(t,n)||e.has(t,n)}})}(Ks);var tc=function(){function e(t){tt(this,e),this.container=t}return rt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var nc="@firebase/app",rc="0.8.3",ic=new Ms("@firebase/app"),ac="[DEFAULT]",oc=(a(Ys={},nc,"fire-core"),a(Ys,"@firebase/app-compat","fire-core-compat"),a(Ys,"@firebase/analytics","fire-analytics"),a(Ys,"@firebase/analytics-compat","fire-analytics-compat"),a(Ys,"@firebase/app-check","fire-app-check"),a(Ys,"@firebase/app-check-compat","fire-app-check-compat"),a(Ys,"@firebase/auth","fire-auth"),a(Ys,"@firebase/auth-compat","fire-auth-compat"),a(Ys,"@firebase/database","fire-rtdb"),a(Ys,"@firebase/database-compat","fire-rtdb-compat"),a(Ys,"@firebase/functions","fire-fn"),a(Ys,"@firebase/functions-compat","fire-fn-compat"),a(Ys,"@firebase/installations","fire-iid"),a(Ys,"@firebase/installations-compat","fire-iid-compat"),a(Ys,"@firebase/messaging","fire-fcm"),a(Ys,"@firebase/messaging-compat","fire-fcm-compat"),a(Ys,"@firebase/performance","fire-perf"),a(Ys,"@firebase/performance-compat","fire-perf-compat"),a(Ys,"@firebase/remote-config","fire-rc"),a(Ys,"@firebase/remote-config-compat","fire-rc-compat"),a(Ys,"@firebase/storage","fire-gcs"),a(Ys,"@firebase/storage-compat","fire-gcs-compat"),a(Ys,"@firebase/firestore","fire-fst"),a(Ys,"@firebase/firestore-compat","fire-fst-compat"),a(Ys,"fire-js","fire-js"),a(Ys,"firebase","fire-js-all"),Ys),uc=new Map,sc=new Map;function cc(e,t){try{e.container.addComponent(t)}catch(lP){ic.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),lP)}}function lc(e,t){e.container.addOrOverwriteComponent(t)}function fc(e){var t=e.name;if(sc.has(t))return ic.debug("There were multiple attempts to register component ".concat(t,".")),!1;sc.set(t,e);var n,r=Yn(uc.values());try{for(r.s();!(n=r.n()).done;){cc(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function hc(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function dc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ac;hc(e,t).clearInstance(n)}function pc(){sc.clear()}var vc=(a($s={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),a($s,"bad-app-name","Illegal App name: '{$appName}"),a($s,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),a($s,"app-deleted","Firebase App named '{$appName}' already deleted"),a($s,"no-options","Need to provide options, when not being deployed to hosting via source."),a($s,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),a($s,"invalid-log-argument","First argument to `onLog` must be null or a function."),a($s,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),a($s,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),a($s,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),a($s,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),$s),mc=new cs("app","Firebase",vc),yc=function(){function e(t,n,r){var i=this;tt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _s("app",(function(){return i}),"PUBLIC"))}return rt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw mc.create("app-deleted",{appName:this._name})}}]),e}(),gc="9.13.0";function kc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:ac,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw mc.create("bad-app-name",{appName:String(a)});if(n||(n=as()),!n)throw mc.create("no-options");var o=uc.get(a);if(o){if(ds(n,o.options)&&ds(i,o.config))return o;throw mc.create("duplicate-app",{appName:a})}var u,s=new As(a),c=Yn(sc.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new yc(n,i,s);return uc.set(a,f),f}function bc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ac,t=uc.get(e);if(!t&&e===ac)return kc();if(!t)throw mc.create("no-app",{appName:e});return t}function wc(){return Array.from(uc.values())}function xc(e){return Ic.apply(this,arguments)}function Ic(){return Ic=Es(xs().mark((function e(t){var n;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!uc.has(n)){e.next=6;break}return uc.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Ic.apply(this,arguments)}function Ec(e,t,n){var r,i=null!==(r=oc[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ic.warn(u.join(" "))}fc(new _s("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function _c(e,t){if(null!==e&&"function"!==typeof e)throw mc.create("invalid-log-argument");!function(e,t){var n,r=Yn(Ds);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Os[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ns[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Sc(e){var t;t=e,Ds.forEach((function(e){e.setLogLevel(t)}))}var Tc="firebase-heartbeat-store",Cc=null;function Nc(){return Cc||(Cc=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Gs(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Gs(u.result),e.oldVersion,e.newVersion,Gs(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Tc)}}).catch((function(e){throw mc.create("idb-open",{originalErrorMessage:e.message})}))),Cc}function Ac(e){return Dc.apply(this,arguments)}function Dc(){return Dc=Es(xs().mark((function e(t){var n,r,i;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nc();case 3:return r=e.sent,e.abrupt("return",r.transaction(Tc).objectStore(Tc).get(Pc(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof ss?ic.warn(e.t0.message):(i=mc.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),ic.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Dc.apply(this,arguments)}function Oc(e,t){return Rc.apply(this,arguments)}function Rc(){return Rc=Es(xs().mark((function e(t,n){var r,i,a,o,u;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nc();case 3:return i=e.sent,a=i.transaction(Tc,"readwrite"),o=a.objectStore(Tc),e.next=8,o.put(n,Pc(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof ss?ic.warn(e.t0.message):(u=mc.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),ic.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Rc.apply(this,arguments)}function Pc(e){return"".concat(e.name,"!").concat(e.options.appId)}var Lc=function(){function e(t){var n=this;tt(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Vc(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return rt(e,[{key:"triggerHeartbeat",value:function(){var e=Es(xs().mark((function e(){var t,n,r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Mc(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Es(xs().mark((function e(){var t,n,r,i,a;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Mc(),n=Fc(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Qu(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Mc(){return(new Date).toISOString().substring(0,10)}function Fc(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Yn(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Bc(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Bc(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var jc,Uc,Vc=function(){function e(t){tt(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return rt(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ns()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Es(xs().mark((function e(){var t;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ac(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Es(xs().mark((function e(t){var n,r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Oc(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Es(xs().mark((function e(t){var n,r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Oc(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(et(r.heartbeats),et(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Bc(e){return Qu(JSON.stringify({version:2,heartbeats:e})).length}jc="",fc(new _s("platform-logger",(function(e){return new tc(e)}),"PRIVATE")),fc(new _s("heartbeat",(function(e){return new Lc(e)}),"PRIVATE")),Ec(nc,rc,jc),Ec(nc,rc,"esm2017"),Ec("fire-js","");var zc=function(){function e(t,n){var r=this;tt(this,e),this._delegate=t,this.firebase=n,cc(t,new _s("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return rt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),xc(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ac;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ac;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){cc(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){lc(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),qc=(a(Uc={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),a(Uc,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Uc),Kc=new cs("app-compat","Firebase",qc);var Wc=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=kc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(hs(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ec,setLogLevel:Sc,onLog:_c,apps:null,SDK_VERSION:gc,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(fc(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Kc.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&$u(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!hs(n,e=e||ac))throw Kc.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(zc);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){$u(n,e)},createSubscribe:gs,ErrorFactory:cs,deepExtend:$u}),n}(),Hc=new Ms("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Hc.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Gc=self.firebase.SDK_VERSION;Gc&&Gc.indexOf("LITE")>=0&&Hc.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Qc=Wc;!function(e){Ec("@firebase/app-compat","0.1.38",e)}();Qc.registerVersion("firebase","9.13.0","app-compat");function Yc(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var $c;Object.create;var Xc="facebook.com",Jc="github.com",Zc="google.com",el="password",tl="twitter.com",nl="EMAIL_SIGNIN",rl="PASSWORD_RESET",il="RECOVER_EMAIL",al="REVERT_SECOND_FACTOR_ADDITION",ol="VERIFY_AND_CHANGE_EMAIL",ul="VERIFY_EMAIL";function sl(){return a({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var cl=function(){var e;return a(e={},"admin-restricted-operation","This operation is restricted to administrators only."),a(e,"argument-error",""),a(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),a(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),a(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),a(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),a(e,"cordova-not-ready","Cordova framework is not ready."),a(e,"cors-unsupported","This browser is not supported."),a(e,"credential-already-in-use","This credential is already associated with a different user account."),a(e,"custom-token-mismatch","The custom token corresponds to a different audience."),a(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),a(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),a(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),a(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),a(e,"email-already-in-use","The email address is already in use by another account."),a(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),a(e,"expired-action-code","The action code has expired."),a(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),a(e,"internal-error","An internal AuthError has occurred."),a(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),a(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),a(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),a(e,"invalid-auth-event","An internal AuthError has occurred."),a(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),a(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),a(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),a(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),a(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),a(e,"invalid-email","The email address is badly formatted."),a(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),a(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),a(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),a(e,"invalid-credential","The supplied auth credential is malformed or has expired."),a(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),a(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),a(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),a(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),a(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),a(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),a(e,"wrong-password","The password is invalid or the user does not have a password."),a(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),a(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),a(e,"invalid-provider-id","The specified provider ID is invalid."),a(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),a(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),a(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),a(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),a(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),a(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),a(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),a(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),a(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),a(e,"missing-continue-uri","A continue URL must be provided in the request."),a(e,"missing-iframe-start","An internal AuthError has occurred."),a(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),a(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),a(e,"missing-multi-factor-info","No second factor identifier is provided."),a(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),a(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),a(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),a(e,"app-deleted","This instance of FirebaseApp has been deleted."),a(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),a(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),a(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),a(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),a(e,"no-auth-event","An internal AuthError has occurred."),a(e,"no-such-provider","User was not linked to an account with the given provider."),a(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),a(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),a(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),a(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),a(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),a(e,"provider-already-linked","User can only be linked to one identity for the given provider."),a(e,"quota-exceeded","The project's quota for this operation has been exceeded."),a(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),a(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),a(e,"rejected-credential","The request contains malformed or mismatching credentials."),a(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),a(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),a(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),a(e,"timeout","The operation has timed out."),a(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),a(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),a(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),a(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),a(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),a(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),a(e,"unverified-email","The operation requires a verified email."),a(e,"user-cancelled","The user did not grant your application the permissions it requested."),a(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),a(e,"user-disabled","The user account has been disabled by an administrator."),a(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),a(e,"user-signed-out",""),a(e,"weak-password","The password must be 6 characters long or more."),a(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),a(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},ll=sl,fl=new cs("auth","Firebase",sl()),hl=new Ms("@firebase/auth");function dl(e){if(hl.logLevel<=Ns.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];hl.error.apply(hl,["Auth (".concat(gc,"): ").concat(e)].concat(n))}}function pl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw gl.apply(void 0,[e].concat(n))}function vl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return gl.apply(void 0,[e].concat(n))}function ml(e,t,n){var r=Object.assign(Object.assign({},ll()),a({},t,n));return new cs("auth","Firebase",r).create(t,{appName:e.name})}function yl(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&pl(e,"argument-error"),ml(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function gl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=et(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(et(o)))}return fl.create.apply(fl,[e].concat(n))}function kl(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw gl.apply(void 0,[t].concat(r))}}function bl(e){var t="INTERNAL ASSERTION FAILED: "+e;throw dl(t),new Error(t)}function wl(e,t){e||bl(t)}var xl=new Map;function Il(e){wl(e instanceof Function,"Expected a class definition");var t=xl.get(e);return t?(wl(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,xl.set(e,t),t)}function El(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function _l(){return"http:"===Sl()||"https:"===Sl()}function Sl(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Tl=function(){function e(t,n){tt(this,e),this.shortDelay=t,this.longDelay=n,wl(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xu())||es()}return rt(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(_l()||Zu()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Cl(e,t){wl(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Nl=function(){function e(){tt(this,e)}return rt(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void bl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void bl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void bl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Al=(a($c={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),a($c,"MISSING_CUSTOM_TOKEN","internal-error"),a($c,"INVALID_IDENTIFIER","invalid-email"),a($c,"MISSING_CONTINUE_URI","internal-error"),a($c,"INVALID_PASSWORD","wrong-password"),a($c,"MISSING_PASSWORD","internal-error"),a($c,"EMAIL_EXISTS","email-already-in-use"),a($c,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),a($c,"INVALID_IDP_RESPONSE","invalid-credential"),a($c,"INVALID_PENDING_TOKEN","invalid-credential"),a($c,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),a($c,"MISSING_REQ_TYPE","internal-error"),a($c,"EMAIL_NOT_FOUND","user-not-found"),a($c,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),a($c,"EXPIRED_OOB_CODE","expired-action-code"),a($c,"INVALID_OOB_CODE","invalid-action-code"),a($c,"MISSING_OOB_CODE","internal-error"),a($c,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),a($c,"INVALID_ID_TOKEN","invalid-user-token"),a($c,"TOKEN_EXPIRED","user-token-expired"),a($c,"USER_NOT_FOUND","user-token-expired"),a($c,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),a($c,"INVALID_CODE","invalid-verification-code"),a($c,"INVALID_SESSION_INFO","invalid-verification-id"),a($c,"INVALID_TEMPORARY_PROOF","invalid-credential"),a($c,"MISSING_SESSION_INFO","missing-verification-id"),a($c,"SESSION_EXPIRED","code-expired"),a($c,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),a($c,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),a($c,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),a($c,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),a($c,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),a($c,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),a($c,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),a($c,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),a($c,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),a($c,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),a($c,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),$c),Dl=new Tl(3e4,6e4);function Ol(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Rl(e,t,n,r){return Pl.apply(this,arguments)}function Pl(){return Pl=Es(xs().mark((function e(t,n,r,i){var a,o=arguments;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Ll(t,a,Es(xs().mark((function e(){var a,o,u,s;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=vs(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Nl.fetch()(Ul(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Pl.apply(this,arguments)}function Ll(e,t,n){return Ml.apply(this,arguments)}function Ml(){return Ml=Es(xs().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Al),n),e.prev=2,a=new Vl(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Bl(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=Be(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Bl(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Bl(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Bl(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw ml(t,d,h);case 34:pl(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof ss)){e.next=41;break}throw e.t0;case 41:pl(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Ml.apply(this,arguments)}function Fl(e,t,n,r){return jl.apply(this,arguments)}function jl(){return jl=Es(xs().mark((function e(t,n,r,i){var a,o,u=arguments;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Rl(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&pl(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),jl.apply(this,arguments)}function Ul(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Cl(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Vl=function(){function e(t){var n=this;tt(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(vl(n.auth,"network-request-failed"))}),Dl.get())}))}return rt(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Bl(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=vl(e,t,r);return i.customData._tokenResponse=n,i}function zl(e,t){return ql.apply(this,arguments)}function ql(){return(ql=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rl(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kl(e,t){return Wl.apply(this,arguments)}function Wl(){return(Wl=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rl(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hl(e,t){return Gl.apply(this,arguments)}function Gl(){return(Gl=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rl(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ql(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(lP){}}function Yl(){return Yl=Es(xs().mark((function e(t){var n,r,i,a,o,u,s=arguments;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=ws(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,kl((a=Xl(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ql($l(a.auth_time)),issuedAtTime:Ql($l(a.iat)),expirationTime:Ql($l(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Yl.apply(this,arguments)}function $l(e){return 1e3*Number(e)}function Xl(e){var t,n=Be(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return dl("JWT malformed, contained fewer than 3 sections"),null;try{var o=Yu(i);return o?JSON.parse(o):(dl("Failed to decode base64 JWT payload"),null)}catch(lP){return dl("Caught error parsing JWT payload as JSON",null===(t=lP)||void 0===t?void 0:t.toString()),null}}function Jl(e,t){return Zl.apply(this,arguments)}function Zl(){return Zl=Es(xs().mark((function e(t,n){var r=arguments;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ss&&ef(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Zl.apply(this,arguments)}function ef(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var tf=function(){function e(t){tt(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return rt(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Es(xs().mark((function t(){return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Es(xs().mark((function e(){var t;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),nf=function(){function e(t,n){tt(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return rt(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function rf(e){return af.apply(this,arguments)}function af(){return af=Es(xs().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Jl(t,Hl(r,{idToken:i}));case 6:kl(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?sf(o.providerUserInfo):[],s=uf(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new nf(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),af.apply(this,arguments)}function of(){return(of=Es(xs().mark((function e(t){var n;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ws(t),e.next=3,rf(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uf(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(et(n),et(t))}function sf(e){return e.map((function(e){var t=e.providerId,n=Yc(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function cf(e,t){return lf.apply(this,arguments)}function lf(){return(lf=Es(xs().mark((function e(t,n){var r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ll(t,{},Es(xs().mark((function e(){var r,i,a,o,u,s;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vs({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ul(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Nl.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ff=function(){function e(){tt(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return rt(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){kl(e.idToken,"internal-error"),kl("undefined"!==typeof e.idToken,"internal-error"),kl("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Xl(e);return kl(t,"internal-error"),kl("undefined"!==typeof t.exp,"internal-error"),kl("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Es(xs().mark((function e(t){var n,r=arguments;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],kl(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Es(xs().mark((function e(t,n){var r,i,a,o;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cf(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return bl("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(kl("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(kl("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(kl("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function hf(e,t){kl("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var df=function(){function e(t){tt(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Yc(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?et(a.providerData):[],this.metadata=new nf(a.createdAt||void 0,a.lastLoginAt||void 0)}return rt(e,[{key:"getIdToken",value:function(){var e=Es(xs().mark((function e(t){var n;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jl(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(kl(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Yl.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return of.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(kl(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){kl(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Es(xs().mark((function e(t){var n,r,i=arguments;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,rf(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Es(xs().mark((function e(){var t;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Jl(this,zl(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,I=n.stsTokenManager;kl(k&&I,t,"internal-error");var E=ff.fromJSON(this.name,I);kl("string"===typeof k,t,"internal-error"),hf(f,t.name),hf(h,t.name),kl("boolean"===typeof b,t,"internal-error"),kl("boolean"===typeof w,t,"internal-error"),hf(d,t.name),hf(p,t.name),hf(v,t.name),hf(m,t.name),hf(y,t.name),hf(g,t.name);var _=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(_.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(_._redirectEventId=m),_}},{key:"_fromIdTokenResponse",value:function(){var t=Es(xs().mark((function t(n,r){var i,a,o,u=arguments;return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new ff).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,rf(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),pf=function(){function e(){tt(this,e),this.type="NONE",this.storage={}}return rt(e,[{key:"_isAvailable",value:function(){var e=Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Es(xs().mark((function e(t){var n;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();pf.type="NONE";var vf=pf;function mf(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var yf=function(){function e(t,n,r){tt(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=mf(this.userKey,a.apiKey,o),this.fullPersistenceKey=mf("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return rt(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Es(xs().mark((function e(){var t;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?df._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Es(xs().mark((function e(t){var n;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Es(xs().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Il(vf),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Il(vf),u=mf(i,n.config.apiKey,n.name),s=null,c=Yn(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=df._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function gf(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xf(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(kf(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ef(t))return"Blackberry";if(_f(t))return"Webos";if(bf(t))return"Safari";if((t.includes("chrome/")||wf(t))&&!t.includes("edge/"))return"Chrome";if(If(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function kf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xu();return/firefox\//i.test(e)}function bf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xu(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function wf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xu();return/crios\//i.test(e)}function xf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xu();return/iemobile/i.test(e)}function If(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xu();return/android/i.test(e)}function Ef(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xu();return/blackberry/i.test(e)}function _f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xu();return/webos/i.test(e)}function Sf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xu();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Tf(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xu();return Sf(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Cf(){return ts()&&10===document.documentMode}function Nf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xu();return Sf(e)||If(e)||_f(e)||Ef(e)||/windows phone/i.test(e)||xf(e)}function Af(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=gf(Xu());break;case"Worker":t="".concat(gf(Xu()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(gc,"/").concat(r)}var Df=function(){function e(t){tt(this,e),this.auth=t,this.queue=[]}return rt(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(lP){r(lP)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Es(xs().mark((function e(t){var n,r,i,a,o,u,s,c;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Yn(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=Yn(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Of=function(){function e(t,n,r){tt(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pf(this),this.idTokenSubscription=new Pf(this),this.beforeStateQueue=new Df(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fl,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return rt(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Il(t)),this._initializationPromise=this.queue(Es(xs().mark((function r(){var i,a;return xs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,yf.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Es(xs().mark((function e(){var t;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Es(xs().mark((function e(t){var n,r,i,a,o,u,s;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return kl(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Es(xs().mark((function e(t){var n;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Es(xs().mark((function e(t){var n;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rf(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Es(xs().mark((function e(t){var n;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ws(t):null)&&kl(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Es(xs().mark((function e(t){var n,r=this,i=arguments;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&kl(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Es(xs().mark((function n(){return xs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Il(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new cs("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Es(xs().mark((function e(t,n){var r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Es(xs().mark((function e(t){var n;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return kl(n=t&&Il(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,yf.create(this,[Il(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Es(xs().mark((function e(t){var n,r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Es(xs().mark((function e(t){var n=this;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return kl(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return kl(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Af(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Es(xs().mark((function e(){var t,n,r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Rf(e){return ws(e)}var Pf=function(){function e(t){var n=this;tt(this,e),this.auth=t,this.observer=null,this.addObserver=gs((function(e){return n.observer=e}))}return rt(e,[{key:"next",get:function(){return kl(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Lf(e,t,n){var r=Rf(e);kl(r._canInitEmulator,r,"emulator-config-failed"),kl(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Mf(t),o=function(e){var t=Mf(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ff(r.substr(a.length+1))}}var o=Be(r.split(":"),2);return{host:o[0],port:Ff(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Mf(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ff(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var jf=function(){function e(t,n){tt(this,e),this.providerId=t,this.signInMethod=n}return rt(e,[{key:"toJSON",value:function(){return bl("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return bl("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return bl("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return bl("not implemented")}}]),e}();function Uf(e,t){return Vf.apply(this,arguments)}function Vf(){return(Vf=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rl(t,"POST","/v1/accounts:resetPassword",Ol(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bf(e,t){return zf.apply(this,arguments)}function zf(){return(zf=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rl(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qf(e,t){return Kf.apply(this,arguments)}function Kf(){return(Kf=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rl(t,"POST","/v1/accounts:update",Ol(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wf(e,t){return Hf.apply(this,arguments)}function Hf(){return(Hf=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fl(t,"POST","/v1/accounts:signInWithPassword",Ol(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gf(e,t){return Qf.apply(this,arguments)}function Qf(){return(Qf=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rl(t,"POST","/v1/accounts:sendOobCode",Ol(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yf(e,t){return $f.apply(this,arguments)}function $f(){return($f=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gf(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xf(e,t){return Jf.apply(this,arguments)}function Jf(){return(Jf=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gf(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zf(e,t){return eh.apply(this,arguments)}function eh(){return(eh=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gf(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function th(e,t){return nh.apply(this,arguments)}function nh(){return(nh=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gf(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rh(e,t){return ih.apply(this,arguments)}function ih(){return(ih=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fl(t,"POST","/v1/accounts:signInWithEmailLink",Ol(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ah(e,t){return oh.apply(this,arguments)}function oh(){return(oh=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fl(t,"POST","/v1/accounts:signInWithEmailLink",Ol(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uh=function(e){Wt(n,e);var t=$t(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return tt(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return rt(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Wf(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",rh(t,{email:this._email,oobCode:this._password}));case 5:pl(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Bf(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ah(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:pl(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(jf);function sh(e,t){return ch.apply(this,arguments)}function ch(){return(ch=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fl(t,"POST","/v1/accounts:signInWithIdp",Ol(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lh=function(e){Wt(n,e);var t=$t(n);function n(){var e;return tt(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return rt(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return sh(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,sh(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,sh(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vs(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):pl("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Yc(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(jf);function fh(e,t){return hh.apply(this,arguments)}function hh(){return(hh=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rl(t,"POST","/v1/accounts:sendVerificationCode",Ol(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dh(){return(dh=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fl(t,"POST","/v1/accounts:signInWithPhoneNumber",Ol(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ph(){return(ph=Es(xs().mark((function e(t,n){var r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fl(t,"POST","/v1/accounts:signInWithPhoneNumber",Ol(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Bl(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vh=a({},"USER_NOT_FOUND","user-not-found");function mh(){return(mh=Es(xs().mark((function e(t,n){var r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Fl(t,"POST","/v1/accounts:signInWithPhoneNumber",Ol(t,r),vh));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yh=function(e){Wt(n,e);var t=$t(n);function n(e){var r;return tt(this,n),(r=t.call(this,"phone","phone")).params=e,r}return rt(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return dh.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ph.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return mh.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(jf);var gh=function(){function e(t){var n,r,i,a,o,u;tt(this,e);var s=ms(ys(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);kl(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return rt(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ms(ys(e)).link,n=t?ms(ys(t)).deep_link_id:null,r=ms(ys(e)).deep_link_id;return(r?ms(ys(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(bD){return null}}}]),e}();var kh=function(){function e(){tt(this,e),this.providerId=e.PROVIDER_ID}return rt(e,null,[{key:"credential",value:function(e,t){return uh._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=gh.parseLink(t);return kl(n,"argument-error"),uh._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();kh.PROVIDER_ID="password",kh.EMAIL_PASSWORD_SIGN_IN_METHOD="password",kh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var bh=function(){function e(t){tt(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return rt(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),wh=function(e){Wt(n,e);var t=$t(n);function n(){var e;return tt(this,n),(e=t.apply(this,arguments)).scopes=[],e}return rt(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return et(this.scopes)}}]),n}(bh),xh=function(e){Wt(n,e);var t=$t(n);function n(){return tt(this,n),t.apply(this,arguments)}return rt(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return kl(e.idToken||e.accessToken,"argument-error"),lh._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return kl("providerId"in t&&"signInMethod"in t,"argument-error"),lh._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(lP){return null}}}]),n}(wh),Ih=function(e){Wt(n,e);var t=$t(n);function n(){return tt(this,n),t.call(this,"facebook.com")}return rt(n,null,[{key:"credential",value:function(e){return lh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(bD){return null}}}]),n}(wh);Ih.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ih.PROVIDER_ID="facebook.com";var Eh=function(e){Wt(n,e);var t=$t(n);function n(){var e;return tt(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return rt(n,null,[{key:"credential",value:function(e,t){return lh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(bD){return null}}}]),n}(wh);Eh.GOOGLE_SIGN_IN_METHOD="google.com",Eh.PROVIDER_ID="google.com";var _h=function(e){Wt(n,e);var t=$t(n);function n(){return tt(this,n),t.call(this,"github.com")}return rt(n,null,[{key:"credential",value:function(e){return lh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(bD){return null}}}]),n}(wh);_h.GITHUB_SIGN_IN_METHOD="github.com",_h.PROVIDER_ID="github.com";var Sh=function(e){Wt(n,e);var t=$t(n);function n(e,r){var i;return tt(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return rt(n,[{key:"_getIdTokenResponse",value:function(e){return sh(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,sh(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,sh(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(jf),Th=function(e){Wt(n,e);var t=$t(n);function n(e){return tt(this,n),kl(e.startsWith("saml."),"argument-error"),t.call(this,e)}return rt(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Sh.fromJSON(e);return kl(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Sh._create(r,n)}catch(lP){return null}}}]),n}(bh),Ch=function(e){Wt(n,e);var t=$t(n);function n(){return tt(this,n),t.call(this,"twitter.com")}return rt(n,null,[{key:"credential",value:function(e,t){return lh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(bD){return null}}}]),n}(wh);function Nh(e,t){return Ah.apply(this,arguments)}function Ah(){return(Ah=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fl(t,"POST","/v1/accounts:signUp",Ol(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Ch.TWITTER_SIGN_IN_METHOD="twitter.com",Ch.PROVIDER_ID="twitter.com";var Dh=function(){function e(t){tt(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return rt(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Es(xs().mark((function t(n,r,i){var a,o,u,s,c=arguments;return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,df._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Oh(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Es(xs().mark((function t(n,r,i){var a;return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Oh(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Oh(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Rh(){return Rh=Es(xs().mark((function e(t){var n,r,i,a;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rf(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Dh({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Nh(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Dh._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Rh.apply(this,arguments)}var Ph=function(e){Wt(n,e);var t=$t(n);function n(e,r,i,a){var o,u;return tt(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Qt(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return rt(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ss);function Lh(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ph._fromErrorAndOperation(e,n,t,r);throw n}))}function Mh(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Fh(e,t){return jh.apply(this,arguments)}function jh(){return jh=Es(xs().mark((function e(t,n){var r,i,a,o;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ws(t),e.next=3,Bh(!0,r,n);case 3:return e.t0=Kl,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Mh(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),jh.apply(this,arguments)}function Uh(e,t){return Vh.apply(this,arguments)}function Vh(){return Vh=Es(xs().mark((function e(t,n){var r,i,a=arguments;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Jl,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Dh._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Vh.apply(this,arguments)}function Bh(e,t,n){return zh.apply(this,arguments)}function zh(){return(zh=Es(xs().mark((function e(t,n,r){var i,a;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rf(n);case 2:i=Mh(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",kl(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qh(e,t){return Kh.apply(this,arguments)}function Kh(){return Kh=Es(xs().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Jl(t,Lh(a,o,n,t),r);case 6:return kl((u=e.sent).idToken,a,"internal-error"),kl(s=Xl(u.idToken),a,"internal-error"),c=s.sub,kl(t.uid===c,a,"user-mismatch"),e.abrupt("return",Dh._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&pl(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Kh.apply(this,arguments)}function Wh(e,t){return Hh.apply(this,arguments)}function Hh(){return Hh=Es(xs().mark((function e(t,n){var r,i,a,o,u=arguments;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Lh(t,i,n);case 4:return a=e.sent,e.next=7,Dh._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Hh.apply(this,arguments)}function Gh(e,t){return Qh.apply(this,arguments)}function Qh(){return(Qh=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wh(Rf(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yh(e,t){return $h.apply(this,arguments)}function $h(){return($h=Es(xs().mark((function e(t,n){var r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ws(t),e.next=3,Bh(!1,r,n.providerId);case 3:return e.abrupt("return",Uh(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xh(e,t){return Jh.apply(this,arguments)}function Jh(){return(Jh=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qh(ws(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zh(e,t){return ed.apply(this,arguments)}function ed(){return(ed=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fl(t,"POST","/v1/accounts:signInWithCustomToken",Ol(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function td(){return(td=Es(xs().mark((function e(t,n){var r,i,a;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rf(t),e.next=3,Zh(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Dh._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nd=function(){function e(t,n){tt(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return rt(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?rd._fromServerResponse(e,t):pl(e,"internal-error")}}]),e}(),rd=function(e){Wt(n,e);var t=$t(n);function n(e){var r;return tt(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return rt(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(nd);function id(e,t,n){var r;kl((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),kl("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(kl(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(kl(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function ad(){return(ad=Es(xs().mark((function e(t,n,r){var i,a;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ws(t),a={requestType:"PASSWORD_RESET",email:n},r&&id(i,a,r),e.next=5,Xf(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function od(){return(od=Es(xs().mark((function e(t,n,r){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uf(ws(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ud(){return(ud=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qf(ws(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sd(e,t){return cd.apply(this,arguments)}function cd(){return(cd=Es(xs().mark((function e(t,n){var r,i,a,o;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ws(t),e.next=3,Uf(r,{oobCode:n});case 3:i=e.sent,kl(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return kl(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:kl(i.mfaInfo,r,"internal-error");case 13:kl(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=nd._fromServerResponse(Rf(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ld(){return(ld=Es(xs().mark((function e(t,n){var r,i;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sd(ws(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fd(e,t,n){return hd.apply(this,arguments)}function hd(){return(hd=Es(xs().mark((function e(t,n,r){var i,a,o;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rf(t),e.next=3,Nh(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Dh._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dd(){return(dd=Es(xs().mark((function e(t,n,r){var i,a;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ws(t),a={requestType:"EMAIL_SIGNIN",email:n},kl(r.handleCodeInApp,i,"argument-error"),r&&id(i,a,r),e.next=6,Zf(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pd(){return(pd=Es(xs().mark((function e(t,n,r){var i,a;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ws(t),kl((a=kh.credentialWithLink(n,r||El()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Gh(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vd(e,t){return md.apply(this,arguments)}function md(){return(md=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rl(t,"POST","/v1/accounts:createAuthUri",Ol(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yd(){return(yd=Es(xs().mark((function e(t,n){var r,i,a,o;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_l()?El():"http://localhost",i={identifier:n,continueUri:r},e.next=4,vd(ws(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gd(){return(gd=Es(xs().mark((function e(t,n){var r,i,a,o;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ws(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&id(r.auth,a,n),e.next=8,Yf(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kd(){return(kd=Es(xs().mark((function e(t,n,r){var i,a,o,u;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ws(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&id(i.auth,o,r),e.next=8,th(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bd(e,t){return wd.apply(this,arguments)}function wd(){return(wd=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rl(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xd(){return(xd=Es(xs().mark((function e(t,n){var r,i,a,o,u,s,c;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ws(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Jl(a,bd(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Id(e,t,n){return Ed.apply(this,arguments)}function Ed(){return(Ed=Es(xs().mark((function e(t,n,r){var i,a,o,u;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Jl(t,Bf(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _d=rt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};tt(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Sd=function(e){Wt(n,e);var t=$t(n);function n(e,r,i,a){var o;return tt(this,n),(o=t.call(this,e,r,i)).username=a,o}return rt(n)}(_d),Td=function(e){Wt(n,e);var t=$t(n);function n(e,r){return tt(this,n),t.call(this,e,"facebook.com",r)}return rt(n)}(_d),Cd=function(e){Wt(n,e);var t=$t(n);function n(e,r){return tt(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return rt(n)}(Sd),Nd=function(e){Wt(n,e);var t=$t(n);function n(e,r){return tt(this,n),t.call(this,e,"google.com",r)}return rt(n)}(_d),Ad=function(e){Wt(n,e);var t=$t(n);function n(e,r,i){return tt(this,n),t.call(this,e,"twitter.com",r,i)}return rt(n)}(Sd);function Dd(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Xl(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new _d(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Td(a,i);case"github.com":return new Cd(a,i);case"google.com":return new Nd(a,i);case"twitter.com":return new Ad(a,i,e.screenName||null);case"custom":case"anonymous":return new _d(a,null);default:return new _d(a,r,i)}}(n)}var Od=function(){function e(t,n,r){tt(this,e),this.type=t,this.credential=n,this.auth=r}return rt(e,[{key:"toJSON",value:function(){return{multiFactorSession:a({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Rd=function(){function e(t,n,r){tt(this,e),this.session=t,this.hints=n,this.signInResolver=r}return rt(e,[{key:"resolveSignIn",value:function(){var e=Es(xs().mark((function e(t){var n;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Rf(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return nd._fromServerResponse(r,e)}));kl(i.mfaPendingCredential,r,"internal-error");var o=Od._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Es(xs().mark((function e(t){var a,u,s;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Dh._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return kl(n.user,r,"internal-error"),e.abrupt("return",Dh._forOperation(n.user,n.operationType,u));case 17:pl(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Pd(e,t){return Rl(e,"POST","/v2/accounts/mfaEnrollment:start",Ol(e,t))}var Ld=function(){function e(t){var n=this;tt(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return nd._fromServerResponse(t.auth,e)})))}))}return rt(e,[{key:"getSession",value:function(){var e=Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Od,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Es(xs().mark((function e(t,n){var r,i,a;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Jl(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Es(xs().mark((function e(t){var n,r,i,a;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,Jl(this.user,Rl(o=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Ol(o,{idToken:i,mfaEnrollmentId:r})));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var o}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Md=new WeakMap;var Fd="__sak",jd=function(){function e(t,n){tt(this,e),this.storageRetriever=t,this.type=n}return rt(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Fd,"1"),this.storage.removeItem(Fd),Promise.resolve(!0)):Promise.resolve(!1)}catch(bD){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ud=function(e){Wt(n,e);var t=$t(n);function n(){var e;return tt(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Xu();return bf(e)||Sf(e)}()&&function(){try{return!(!window||window===window.top)}catch(lP){return!1}}(),e.fallbackToPolling=Nf(),e._shouldAllowMigration=!0,e}return rt(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Cf()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Es(xs().mark((function e(t,r){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt(zt(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Es(xs().mark((function e(t){var r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt(zt(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt(zt(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(jd);Ud.type="LOCAL";var Vd=Ud,Bd=function(e){Wt(n,e);var t=$t(n);function n(){return tt(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return rt(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(jd);Bd.type="SESSION";var zd=Bd;function qd(e){return Promise.all(e.map(function(){var e=Es(xs().mark((function e(t){var n;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Kd=function(){function e(t){tt(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return rt(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Es(xs().mark((function e(t){var n,r,i,a,o,u,s,c;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,qd(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Wd(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Kd.receivers=[];var Hd=function(){function e(t){tt(this,e),this.target=t,this.handlers=new Set}return rt(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Es(xs().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Wd("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Gd(){return window}function Qd(){return"undefined"!==typeof Gd().WorkerGlobalScope&&"function"===typeof Gd().importScripts}function Yd(){return $d.apply(this,arguments)}function $d(){return($d=Es(xs().mark((function e(){var t;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Xd(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Jd="firebaseLocalStorageDb",Zd="firebaseLocalStorage",ep="fbase_key",tp=function(){function e(t){tt(this,e),this.request=t}return rt(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function np(e,t){return e.transaction([Zd],t?"readwrite":"readonly").objectStore(Zd)}function rp(){var e=indexedDB.deleteDatabase(Jd);return new tp(e).toPromise()}function ip(){var e=indexedDB.open(Jd,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Zd,{keyPath:ep})}catch(lP){n(lP)}})),e.addEventListener("success",Es(xs().mark((function n(){var r;return xs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Zd)){n.next=12;break}return r.close(),n.next=5,rp();case 5:return n.t0=t,n.next=8,ip();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function ap(e,t,n){return op.apply(this,arguments)}function op(){return op=Es(xs().mark((function e(t,n,r){var i,o;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=np(t,!0).put((a(i={},ep,n),a(i,"value",r),i)),e.abrupt("return",new tp(o).toPromise());case 2:case"end":return e.stop()}}),e)}))),op.apply(this,arguments)}function up(e,t){return sp.apply(this,arguments)}function sp(){return sp=Es(xs().mark((function e(t,n){var r,i;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=np(t,!1).get(n),e.next=3,new tp(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),sp.apply(this,arguments)}function cp(e,t){var n=np(e,!0).delete(t);return new tp(n).toPromise()}var lp=function(){function e(){tt(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return rt(e,[{key:"_openDb",value:function(){var e=Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ip();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Es(xs().mark((function e(t){var n,r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qd()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Es(xs().mark((function e(){var t=this;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Kd._getInstance(Qd()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Es(xs().mark((function e(n,r){var i;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Es(xs().mark((function e(){var t,n,r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yd();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Hd(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Xd()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Es(xs().mark((function e(){var t;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ip();case 5:return t=e.sent,e.next=8,ap(t,Fd,"1");case 8:return e.next=10,cp(t,Fd);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Es(xs().mark((function e(t,n){var r=this;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return ap(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Es(xs().mark((function e(t){var n;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return up(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Es(xs().mark((function e(t){var n=this;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return cp(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Es(xs().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=np(e,!1).getAll();return new tp(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Yn(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Es(xs().mark((function t(){return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();lp.type="LOCAL";var fp=lp;function hp(e,t){return Rl(e,"POST","/v2/accounts/mfaSignIn:start",Ol(e,t))}function dp(e){return pp.apply(this,arguments)}function pp(){return(pp=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rl(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vp(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=vl("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function mp(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var yp=1e12,gp=function(){function e(t){tt(this,e),this.auth=t,this.counter=yp,this._widgets=new Map}return rt(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new kp(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||yp;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||yp;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Es(xs().mark((function e(t){var n,r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||yp,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),kp=function(){function e(t,n,r){var i=this;tt(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;kl(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return rt(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(lP){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(lP){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var bp=mp("rcb"),wp=new Tl(3e4,6e4),xp="https://www.google.com/recaptcha/api.js?",Ip=function(){function e(){var t;tt(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Gd().grecaptcha)||void 0===t?void 0:t.render)}return rt(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return kl(Ep(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Gd().grecaptcha):new Promise((function(r,i){var a=Gd().setTimeout((function(){i(vl(e,"network-request-failed"))}),wp.get());Gd()[bp]=function(){Gd().clearTimeout(a),delete Gd()[bp];var o=Gd().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(vl(e,"internal-error"))},vp("".concat(xp,"?").concat(vs({onload:bp,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(vl(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Gd().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Ep(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var _p=function(){function e(){tt(this,e)}return rt(e,[{key:"load",value:function(){var e=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new gp(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Sp="recaptcha",Tp={theme:"light",type:"image"},Cp=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Tp),r=arguments.length>2?arguments[2]:void 0;tt(this,e),this.parameters=n,this.type=Sp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rf(r),this.isInvisible="invisible"===this.parameters.size,kl("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;kl(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _p:new Ip,this.validateStartingState()}return rt(e,[{key:"verify",value:function(){var e=Es(xs().mark((function e(){var t,n,r,i=this;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(lP){return Promise.reject(lP)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){kl(!this.parameters.sitekey,this.auth,"argument-error"),kl(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),kl("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Gd()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){kl(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Es(xs().mark((function e(){var t,n;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Es(xs().mark((function e(){var t;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kl(_l()&&!Qd(),this.auth,"internal-error"),e.next=3,Np();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,dp(this.auth);case 8:kl(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return kl(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Np(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Ap=function(){function e(t,n){tt(this,e),this.verificationId=t,this.onConfirmation=n}return rt(e,[{key:"confirm",value:function(e){var t=yh._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Dp(){return(Dp=Es(xs().mark((function e(t,n,r){var i,a;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rf(t),e.next=3,Lp(i,n,ws(r));case 3:return a=e.sent,e.abrupt("return",new Ap(a,(function(e){return Gh(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Op(e,t,n){return Rp.apply(this,arguments)}function Rp(){return(Rp=Es(xs().mark((function e(t,n,r){var i,a;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ws(t),e.next=3,Bh(!1,i,"phone");case 3:return e.next=5,Lp(i.auth,n,ws(r));case 5:return a=e.sent,e.abrupt("return",new Ap(a,(function(e){return Yh(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pp(){return(Pp=Es(xs().mark((function e(t,n,r){var i,a;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ws(t),e.next=3,Lp(i.auth,n,ws(r));case 3:return a=e.sent,e.abrupt("return",new Ap(a,(function(e){return Xh(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lp(e,t,n){return Mp.apply(this,arguments)}function Mp(){return Mp=Es(xs().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,kl("string"===typeof a,t,"argument-error"),kl(r.type===Sp,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return kl("enroll"===u.type,t,"internal-error"),e.next=13,Pd(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return kl("signin"===u.type,t,"internal-error"),kl(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,hp(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,fh(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Mp.apply(this,arguments)}function Fp(){return(Fp=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uh(ws(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jp=function(){function e(t){tt(this,e),this.providerId=e.PROVIDER_ID,this.auth=Rf(t)}return rt(e,[{key:"verifyPhoneNumber",value:function(e,t){return Lp(this.auth,e,ws(t))}}],[{key:"credential",value:function(e,t){return yh._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?yh._fromTokenResponse(n,r):null}}]),e}();function Up(e,t){return t?Il(t):(kl(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}jp.PROVIDER_ID="phone",jp.PHONE_SIGN_IN_METHOD="phone";var Vp=function(e){Wt(n,e);var t=$t(n);function n(e){var r;return tt(this,n),(r=t.call(this,"custom","custom")).params=e,r}return rt(n,[{key:"_getIdTokenResponse",value:function(e){return sh(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return sh(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return sh(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(jf);function Bp(e){return Wh(e.auth,new Vp(e),e.bypassAuthState)}function zp(e){var t=e.auth,n=e.user;return kl(n,t,"internal-error"),qh(n,new Vp(e),e.bypassAuthState)}function qp(e){return Kp.apply(this,arguments)}function Kp(){return(Kp=Es(xs().mark((function e(t){var n,r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,kl(r=t.user,n,"internal-error"),e.abrupt("return",Uh(r,new Vp(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wp=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];tt(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return rt(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Es(xs().mark((function t(n,r){return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Es(xs().mark((function e(t){var n,r,i,a,o,u,s;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bp;case"linkViaPopup":case"linkViaRedirect":return qp;case"reauthViaPopup":case"reauthViaRedirect":return zp;default:pl(this.auth,"internal-error")}}},{key:"resolve",value:function(e){wl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){wl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Hp=new Tl(2e3,1e4);function Gp(e,t,n){return Qp.apply(this,arguments)}function Qp(){return(Qp=Es(xs().mark((function e(t,n,r){var i,a,o;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rf(t),yl(t,n,bh),a=Up(i,r),o=new Jp(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yp(){return(Yp=Es(xs().mark((function e(t,n,r){var i,a,o;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yl((i=ws(t)).auth,n,bh),a=Up(i.auth,r),o=new Jp(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $p(e,t,n){return Xp.apply(this,arguments)}function Xp(){return(Xp=Es(xs().mark((function e(t,n,r){var i,a,o;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yl((i=ws(t)).auth,n,bh),a=Up(i.auth,r),o=new Jp(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jp=function(e){Wt(n,e);var t=$t(n);function n(e,r,i,a,o){var u;return tt(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Qt(u),u}return rt(n,[{key:"executeNotNull",value:function(){var e=Es(xs().mark((function e(){var t;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return kl(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Es(xs().mark((function e(){var t,n=this;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wl(1===this.filter.length,"Popup operations only handle one event"),t=Wd(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(vl(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(vl(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(vl(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Hp.get())}()}}]),n}(Wp);Jp.currentPopupAction=null;var Zp=new Map,ev=function(e){Wt(n,e);var t=$t(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return tt(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return rt(n,[{key:"execute",value:function(){var e=Es(xs().mark((function e(){var t,r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Zp.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,tv(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Kt(zt(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Zp.set(this.auth._key(),t);case 21:return this.bypassAuthState||Zp.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Es(xs().mark((function e(t){var r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Kt(zt(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Kt(zt(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Wp);function tv(e,t){return nv.apply(this,arguments)}function nv(){return(nv=Es(xs().mark((function e(t,n){var r,i,a;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=uv(n),i=ov(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rv(e,t){return iv.apply(this,arguments)}function iv(){return(iv=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ov(t)._set(uv(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function av(e,t){Zp.set(e._key(),t)}function ov(e){return Il(e._redirectPersistence)}function uv(e){return mf("pendingRedirect",e.config.apiKey,e.name)}function sv(e,t,n){return function(e,t,n){return cv.apply(this,arguments)}(e,t,n)}function cv(){return(cv=Es(xs().mark((function e(t,n,r){var i,a;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rf(t),yl(t,n,bh),a=Up(i,r),e.next=5,rv(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lv(e,t,n){return function(e,t,n){return fv.apply(this,arguments)}(e,t,n)}function fv(){return(fv=Es(xs().mark((function e(t,n,r){var i,a,o;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yl((i=ws(t)).auth,n,bh),a=Up(i.auth,r),e.next=5,rv(a,i.auth);case 5:return e.next=7,gv(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hv(e,t,n){return function(e,t,n){return dv.apply(this,arguments)}(e,t,n)}function dv(){return(dv=Es(xs().mark((function e(t,n,r){var i,a,o;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yl((i=ws(t)).auth,n,bh),a=Up(i.auth,r),e.next=5,Bh(!1,i,n.providerId);case 5:return e.next=7,rv(a,i.auth);case 7:return e.next=9,gv(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pv(e,t){return vv.apply(this,arguments)}function vv(){return(vv=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rf(t)._initializationPromise;case 2:return e.abrupt("return",mv(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mv(e,t){return yv.apply(this,arguments)}function yv(){return yv=Es(xs().mark((function e(t,n){var r,i,a,o,u,s=arguments;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Rf(t),a=Up(i,n),o=new ev(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),yv.apply(this,arguments)}function gv(e){return kv.apply(this,arguments)}function kv(){return(kv=Es(xs().mark((function e(t){var n;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wd("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bv=function(){function e(t){tt(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return rt(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xv(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!xv(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(vl(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wv(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(wv(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function wv(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function xv(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Iv(e){return Ev.apply(this,arguments)}function Ev(){return Ev=Es(xs().mark((function e(t){var n,r=arguments;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Rl(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Ev.apply(this,arguments)}var _v=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sv=/^https?/;function Tv(){return(Tv=Es(xs().mark((function e(t){var n,r,i,a,o;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Iv(t);case 4:n=e.sent,r=n.authorizedDomains,i=Yn(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Cv(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:pl(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Cv(e){var t=El(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Sv.test(r))return!1;if(_v.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Nv=new Tl(3e4,6e4);function Av(){var e=Gd().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=et(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Dv=null;function Ov(e){return Dv=Dv||function(e){return new Promise((function(t,n){var r,i,a;function o(){Av(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Av(),n(vl(e,"network-request-failed"))},timeout:Nv.get()})}if(null===(i=null===(r=Gd().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Gd().gapi)||void 0===a?void 0:a.load)){var u=mp("iframefcb");return Gd()[u]=function(){gapi.load?o():n(vl(e,"network-request-failed"))},vp("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Dv=null,e}))}(e),Dv}var Rv=new Tl(5e3,15e3),Pv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mv(e){var t=e.config;kl(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Cl(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:gc},i=Lv.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(vs(r).slice(1))}function Fv(e){return jv.apply(this,arguments)}function jv(){return jv=Es(xs().mark((function e(t){var n,r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ov(t);case 2:return n=e.sent,kl(r=Gd().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Mv(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pv,dontclear:!0},(function(e){return new Promise(function(){var n=Es(xs().mark((function n(r,i){var a,o,u;return xs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Gd().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=vl(t,"network-request-failed"),o=Gd().setTimeout((function(){i(a)}),Rv.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),jv.apply(this,arguments)}var Uv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vv="_blank",Bv="http://localhost",zv=function(){function e(t){tt(this,e),this.window=t,this.associatedEvent=null}return rt(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(lP){}}}]),e}();function qv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Uv),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Xu().toLowerCase();n&&(u=wf(c)?Vv:n),kf(c)&&(t=t||Bv,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=Be(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Tf(c)&&"_self"!==u)return Kv(t||"",u),new zv(null);var f=window.open(t||"",u,l);kl(f,e,"popup-blocked");try{f.focus()}catch(lP){}return new zv(f)}function Kv(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Wv="__/auth/handler",Hv="emulator/auth/handler";function Gv(e,t,n,r,i,a){kl(e.config.authDomain,e,"auth-domain-config-required"),kl(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:gc,eventId:i};if(t instanceof bh){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=Be(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof wh){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Wv);return Cl(t,Hv)}(e),"?").concat(vs(d).slice(1))}var Qv="webStorageSupport",Yv=function(){function e(){tt(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zd,this._completeRedirectFn=mv,this._overrideRedirectResult=av}return rt(e,[{key:"_openPopup",value:function(){var e=Es(xs().mark((function e(t,n,r,i){var a,o;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wl(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Gv(t,n,r,El(),i),e.abrupt("return",qv(t,o,Wd()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Es(xs().mark((function e(t,n,r,i){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Gv(t,n,r,El(),i),Gd().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(wl(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Es(xs().mark((function e(t){var n,r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fv(t);case 2:return n=e.sent,r=new bv(t),n.register("authEvent",(function(e){return kl(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Qv,{type:Qv},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),pl(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Tv.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Nf()||bf()||Sf()}}]),e}(),$v=Yv,Xv=function(e){Wt(n,e);var t=$t(n);function n(e){var r;return tt(this,n),(r=t.call(this,"phone")).credential=e,r}return rt(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Rl(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ol(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Rl(e,"POST","/v2/accounts/mfaSignIn:finalize",Ol(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){tt(this,e),this.factorId=t}return rt(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return bl("unexpected MultiFactorSessionType")}}}]),e}()),Jv=function(){function e(){tt(this,e)}return rt(e,null,[{key:"assertion",value:function(e){return Xv._fromCredential(e)}}]),e}();Jv.FACTOR_ID="phone";var Zv="@firebase/auth",em="0.20.11",tm=function(){function e(t){tt(this,e),this.auth=t,this.internalListeners=new Map}return rt(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Es(xs().mark((function e(t){var n;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){kl(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var nm;!function(e){var t;null===(t=is())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function rm(){return window}nm="Browser",fc(new _s("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){kl(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),kl(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:nm,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Af(nm)},i=new Of(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Il);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),fc(new _s("auth-internal",(function(e){return function(e){return new tm(e)}(Rf(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ec(Zv,em,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(nm)),Ec(Zv,em,"esm2017");function im(e,t,n){return am.apply(this,arguments)}function am(){return am=Es(xs().mark((function e(t,n,r){var i,a,o,u,s;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=rm(),o=a.BuildInfo,wl(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,fm(n.sessionId);case 4:return u=e.sent,s={},Sf()?s.ibi=o.packageName:If()?s.apn=o.packageName:pl(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Gv(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),am.apply(this,arguments)}function om(){return(om=Es(xs().mark((function e(t){var n,r,i;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rm(),r=n.BuildInfo,i={},Sf()?i.iosBundleId=r.packageName:If()?i.androidPackageName=r.packageName:pl(t,"operation-not-supported-in-this-environment"),e.next=5,Iv(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function um(e){var t=rm().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xu();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function sm(e,t,n){return cm.apply(this,arguments)}function cm(){return cm=Es(xs().mark((function e(t,n,r){var i,a,o;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rm(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(vl(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),If()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),cm.apply(this,arguments)}function lm(e){var t,n,r,i,a,o,u,s,c,l,f=rm();kl("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),kl("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),kl("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),kl("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),kl("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function fm(e){return hm.apply(this,arguments)}function hm(){return(hm=Es(xs().mark((function e(t){var n,r,i;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=dm(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dm(e){if(wl(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var pm=function(e){Wt(n,e);var t=$t(n);function n(){var e;return tt(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return rt(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Kt(zt(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(bv);function vm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:bm(),postBody:null,tenantId:e.tenantId,error:vl(e,"no-auth-event")}}function mm(e,t){return wm()._set(xm(e),t)}function ym(e){return gm.apply(this,arguments)}function gm(){return(gm=Es(xs().mark((function e(t){var n;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wm()._get(xm(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,wm()._remove(xm(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function km(e,t){var n,r,i=function(e){var t=Im(e),n=t.link?decodeURIComponent(t.link):void 0,r=Im(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Im(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Im(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(lP){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?vl(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function bm(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function wm(){return Il(Vd)}function xm(e){return mf("authEvent",e.config.apiKey,e.name)}function Im(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=Fe(t=n)||Ze(t)||Ue(t)||Ve();r[0];return ms(r.slice(1).join("?"))}var Em=function(){function e(){tt(this,e),this._redirectPersistence=zd,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=mv,this._overrideRedirectResult=av}return rt(e,[{key:"_initialize",value:function(){var e=Es(xs().mark((function e(t){var n,r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new pm(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){pl(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Es(xs().mark((function e(t,n,r,i){var a,o,u,s;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lm(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Zp.clear(),e.next=10,this._originValidation(t);case 10:return o=vm(t,r,i),e.next=13,mm(t,o);case 13:return e.next=15,im(t,o,n);case 15:return u=e.sent,e.next=18,um(u);case 18:return s=e.sent,e.abrupt("return",sm(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return om.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=rm(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Es(xs().mark((function n(){return xs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ym(e);case 2:t.onEvent(Sm());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Es(xs().mark((function n(r){var i,a;return xs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,ym(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=km(i,r.url)),t.onEvent(a||Sm());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");rm().handleOpenURL=function(){var e=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(lP){console.error(lP)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),_m=Em;function Sm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:vl("no-auth-event")}}function Tm(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Cm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xu();return!("file:"!==Tm()&&"ionic:"!==Tm()&&"capacitor:"!==Tm()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Nm(){return ts()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Am(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xu();return/Edge\/\d+/.test(e)}function Dm(){try{var e=self.localStorage,t=Wd();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xu();return Nm()||Am(e)}()||ns()}catch(lP){return Om()&&ns()}return!1}function Om(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Rm(){return("http:"===Tm()||"https:"===Tm()||Zu()||Cm())&&!(es()||Ju())&&Dm()&&!Om()}function Pm(){return Cm()&&"undefined"!==typeof document}function Lm(){return Mm.apply(this,arguments)}function Mm(){return(Mm=Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pm()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fm={LOCAL:"local",NONE:"none",SESSION:"session"},jm=kl,Um="persistence";function Vm(e,t){jm(Object.values(Fm).includes(t),e,"invalid-persistence-type"),es()?jm(t!==Fm.SESSION,e,"unsupported-persistence-type"):Ju()?jm(t===Fm.NONE,e,"unsupported-persistence-type"):Om()?jm(t===Fm.NONE||t===Fm.LOCAL&&ns(),e,"unsupported-persistence-type"):jm(t===Fm.NONE||Dm(),e,"unsupported-persistence-type")}function Bm(e){return zm.apply(this,arguments)}function zm(){return(zm=Es(xs().mark((function e(t){var n,r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=qm(),r=mf(Um,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qm(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(lP){return null}}var Km=kl,Wm=function(){function e(){tt(this,e),this.browserResolver=Il($v),this.cordovaResolver=Il(_m),this.underlyingResolver=null,this._redirectPersistence=zd,this._completeRedirectFn=mv,this._overrideRedirectResult=av}return rt(e,[{key:"_initialize",value:function(){var e=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Es(xs().mark((function e(t,n,r,i){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Es(xs().mark((function e(t,n,r,i){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Pm()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Km(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Es(xs().mark((function e(){var t;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Lm();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Hm(e){return e.unwrap()}function Gm(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new Jm(e,function(e,t){var n,r=ws(e),i=t;return kl(t.customData.operationType,r,"argument-error"),kl(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Rd._fromError(r,i)}(e,t));else if(i){var a=Qm(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function Qm(e){var t=(e instanceof ss?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof ss)&&"temporaryProof"in t&&"phoneNumber"in t)return jp.credentialFromResult(e);var n,r=t.providerId;if(!r||r===el)return null;switch(r){case Zc:n=Eh;break;case Xc:n=Ih;break;case Jc:n=_h;break;case tl:n=Ch;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Sh._create(r,u):lh._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new xh(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof ss?n.credentialFromError(e):n.credentialFromResult(e)}function Ym(e,t){return t.catch((function(t){throw t instanceof ss&&Gm(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Qm(t)),additionalUserInfo:Dd(e),user:Zm.getOrCreate(r)}}))}function $m(e,t){return Xm.apply(this,arguments)}function Xm(){return(Xm=Es(xs().mark((function e(t,n){var r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Ym(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jm=function(){function e(t,n){tt(this,e),this.resolver=n,this.auth=t.wrapped()}return rt(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Ym(Hm(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Zm=function(){function e(t){tt(this,e),this._delegate=t,this.multiFactor=function(e){var t=ws(e);return Md.has(t)||Md.set(t,Ld._fromUser(t)),Md.get(t)}(t)}return rt(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ym(this.auth,Yh(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$m(this.auth,Op(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ym(this.auth,$p(this._delegate,t,Wm)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bm(Rf(this.auth));case 2:return e.abrupt("return",hv(this._delegate,t,Wm));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ym(this.auth,Xh(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return $m(this.auth,function(e,t,n){return Pp.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Ym(this.auth,function(e,t,n){return Yp.apply(this,arguments)}(this._delegate,e,Wm))}},{key:"reauthenticateWithRedirect",value:function(){var e=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bm(Rf(this.auth));case 2:return e.abrupt("return",lv(this._delegate,t,Wm));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return gd.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fh(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Id(ws(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Id(ws(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Fp.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return xd.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return kd.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Zm.USER_MAP=new WeakMap;var ey=kl,ty=function(){function e(t,n){if(tt(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;ey(r,"invalid-api-key",{appName:t.name}),ey(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Wm:void 0;this._delegate=n.initialize({options:{persistence:ry(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(cl),this.linkUnderlyingAuth()}return rt(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Zm.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Lf(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ud.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return sd(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return od.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ym(this._delegate,fd(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return yd.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=gh.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Es(xs().mark((function e(){var t;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ey(Rm(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,pv(this._delegate,Wm);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Ym(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Rf(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=ny(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=ny(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return dd.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return ad.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Es(xs().mark((function e(t){var n,r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Vm(this._delegate,t),e.t0=t,e.next=e.t0===Fm.SESSION?4:e.t0===Fm.LOCAL?6:e.t0===Fm.NONE?11:13;break;case 4:return n=zd,e.abrupt("break",14);case 6:return e.next=8,Il(fp)._isAvailable();case 8:return r=e.sent,n=r?fp:Vd,e.abrupt("break",14);case 11:return n=vf,e.abrupt("break",14);case 13:return e.abrupt("return",pl("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Ym(this._delegate,function(e){return Rh.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Ym(this._delegate,Gh(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Ym(this._delegate,function(e,t){return td.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Ym(this._delegate,function(e,t,n){return Gh(ws(e),kh.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Ym(this._delegate,function(e,t,n){return pd.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return $m(this._delegate,function(e,t,n){return Dp.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ey(Rm(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Ym(this._delegate,Gp(this._delegate,t,Wm)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ey(Rm(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Bm(this._delegate);case 3:return e.abrupt("return",sv(this._delegate,t,Wm));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return ld.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function ny(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Zm.getOrCreate(e))},error:t,complete:n}}function ry(e,t){var n=function(e,t){var n=qm();if(!n)return[];var r=mf(Um,e,t);switch(n.getItem(r)){case Fm.NONE:return[vf];case Fm.LOCAL:return[fp,zd];case Fm.SESSION:return[zd];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(fp)||n.push(fp),"undefined"!==typeof window)for(var r=0,i=[Vd,zd];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(vf)||n.push(vf),n}ty.Persistence=Fm;var iy=function(){function e(){tt(this,e),this.providerId="phone",this._delegate=new jp(Hm(Qc.auth()))}return rt(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return jp.credential(e,t)}}]),e}();iy.PHONE_SIGN_IN_METHOD=jp.PHONE_SIGN_IN_METHOD,iy.PROVIDER_ID=jp.PROVIDER_ID;var ay,oy=kl,uy=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qc.app();tt(this,e),oy(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Cp(t,n,i.auth()),this.type=this._delegate.type}return rt(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(ay=Qc).INTERNAL.registerComponent(new _s("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new ty(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:nl,PASSWORD_RESET:rl,RECOVER_EMAIL:il,REVERT_SECOND_FACTOR_ADDITION:al,VERIFY_AND_CHANGE_EMAIL:ol,VERIFY_EMAIL:ul}},EmailAuthProvider:kh,FacebookAuthProvider:Ih,GithubAuthProvider:_h,GoogleAuthProvider:Eh,OAuthProvider:xh,SAMLAuthProvider:Th,PhoneAuthProvider:iy,PhoneMultiFactorGenerator:Jv,RecaptchaVerifier:uy,TwitterAuthProvider:Ch,Auth:ty,AuthCredential:jf,Error:ss}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ay.registerVersion("@firebase/auth-compat","0.2.24");var sy,cy="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ly={},fy=fy||{},hy=cy||self;function dy(){}function py(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function vy(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var my="closure_uid_"+(1e9*Math.random()>>>0),yy=0;function gy(e,t,n){return e.call.apply(e.bind,arguments)}function ky(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function by(e,t,n){return(by=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gy:ky).apply(null,arguments)}function wy(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function xy(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Iy(){this.s=this.s,this.o=this.o}Iy.prototype.s=!1,Iy.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,my)&&e[my]||(e[my]=++yy))},Iy.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ey=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function _y(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Sy(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(py(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Ty(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ty.prototype.h=function(){this.defaultPrevented=!0};var Cy=function(){if(!hy.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{hy.addEventListener("test",dy,t),hy.removeEventListener("test",dy,t)}catch(n){}return e}();function Ny(e){return/^[\s\xa0]*$/.test(e)}var Ay=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Dy(e,t){return e<t?-1:e>t?1:0}function Oy(){var e=hy.navigator;return e&&(e=e.userAgent)?e:""}function Ry(e){return-1!=Oy().indexOf(e)}function Py(e){return Py[" "](e),e}Py[" "]=dy;var Ly,My=Ry("Opera"),Fy=Ry("Trident")||Ry("MSIE"),jy=Ry("Edge"),Uy=jy||Fy,Vy=Ry("Gecko")&&!(-1!=Oy().toLowerCase().indexOf("webkit")&&!Ry("Edge"))&&!(Ry("Trident")||Ry("MSIE"))&&!Ry("Edge"),By=-1!=Oy().toLowerCase().indexOf("webkit")&&!Ry("Edge");function zy(){var e=hy.document;return e?e.documentMode:void 0}e:{var qy="",Ky=function(){var e=Oy();return Vy?/rv:([^\);]+)(\)|;)/.exec(e):jy?/Edge\/([\d\.]+)/.exec(e):Fy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):By?/WebKit\/(\S+)/.exec(e):My?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ky&&(qy=Ky?Ky[1]:""),Fy){var Wy=zy();if(null!=Wy&&Wy>parseFloat(qy)){Ly=String(Wy);break e}}Ly=qy}var Hy,Gy={};function Qy(){return function(e){var t=Gy;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ay(String(Ly)).split("."),n=Ay("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Dy(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Dy(0==a[2].length,0==o[2].length)||Dy(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(hy.document&&Fy){var Yy=zy();Hy=Yy||(parseInt(Ly,10)||void 0)}else Hy=void 0;var $y=Hy;function Xy(e,t){if(Ty.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Vy){e:{try{Py(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Jy[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Xy.X.h.call(this)}}xy(Xy,Ty);var Jy={2:"touch",3:"pen",4:"mouse"};Xy.prototype.h=function(){Xy.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Zy="closure_listenable_"+(1e6*Math.random()|0),eg=0;function tg(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++eg,this.ba=this.ea=!1}function ng(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function rg(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ig(e){var t={};for(var n in e)t[n]=e[n];return t}var ag="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function og(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<ag.length;a++)n=ag[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ug(e){this.src=e,this.g={},this.h=0}function sg(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Ey(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ng(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function cg(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}ug.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=cg(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new tg(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var lg="closure_lm_"+(1e6*Math.random()|0),fg={};function hg(e,t,n,r,i){if(r&&r.once)return pg(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)hg(e,t[a],n,r,i);return null}return n=wg(n),e&&e[Zy]?e.N(t,n,vy(r)?!!r.capture:!!r,i):dg(e,t,n,!1,r,i)}function dg(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=vy(i)?!!i.capture:!!i,u=kg(e);if(u||(e[lg]=u=new ug(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=gg;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Cy||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(yg(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function pg(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)pg(e,t[a],n,r,i);return null}return n=wg(n),e&&e[Zy]?e.O(t,n,vy(r)?!!r.capture:!!r,i):dg(e,t,n,!0,r,i)}function vg(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)vg(e,t[a],n,r,i);else r=vy(r)?!!r.capture:!!r,n=wg(n),e&&e[Zy]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=cg(a=e.g[t],n,r,i))&&(ng(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=kg(e))&&(t=e.g[t.toString()],e=-1,t&&(e=cg(t,n,r,i)),(n=-1<e?t[e]:null)&&mg(n))}function mg(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Zy])sg(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(yg(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=kg(t))?(sg(n,e),0==n.h&&(n.src=null,t[lg]=null)):ng(e)}}}function yg(e){return e in fg?fg[e]:fg[e]="on"+e}function gg(e,t){if(e.ba)e=!0;else{t=new Xy(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&mg(e),e=n.call(r,t)}return e}function kg(e){return(e=e[lg])instanceof ug?e:null}var bg="__closure_events_fn_"+(1e9*Math.random()>>>0);function wg(e){return"function"===typeof e?e:(e[bg]||(e[bg]=function(t){return e.handleEvent(t)}),e[bg])}function xg(){Iy.call(this),this.i=new ug(this),this.P=this,this.I=null}function Ig(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Ty(t,e);else if(t instanceof Ty)t.target=t.target||e;else{var i=t;og(t=new Ty(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Eg(o,r,!0,t)&&i}if(i=Eg(o=t.g=e,r,!0,t)&&i,i=Eg(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Eg(o=t.g=n[a],r,!1,t)&&i}function Eg(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&sg(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}xy(xg,Iy),xg.prototype[Zy]=!0,xg.prototype.removeEventListener=function(e,t,n,r){vg(this,e,t,n,r)},xg.prototype.M=function(){if(xg.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ng(n[r]);delete t.g[e],t.h--}}this.I=null},xg.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},xg.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var _g=hy.JSON.stringify;function Sg(){var e=Pg,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Tg,Cg=function(){function e(){tt(this,e),this.h=this.g=null}return rt(e,[{key:"add",value:function(e,t){var n=Ng.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ng=new(function(){function e(t,n){tt(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return rt(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Ag}),(function(e){return e.reset()})),Ag=function(){function e(){tt(this,e),this.next=this.g=this.h=null}return rt(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Dg(e){hy.setTimeout((function(){throw e}),0)}function Og(e,t){Tg||function(){var e=hy.Promise.resolve(void 0);Tg=function(){e.then(Lg)}}(),Rg||(Tg(),Rg=!0),Pg.add(e,t)}var Rg=!1,Pg=new Cg;function Lg(){for(var e;e=Sg();){try{e.h.call(e.g)}catch(n){Dg(n)}var t=Ng;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Rg=!1}function Mg(e,t){xg.call(this),this.h=e||1,this.g=t||hy,this.j=by(this.lb,this),this.l=Date.now()}function Fg(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function jg(e,t,n){if("function"===typeof e)n&&(e=by(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=by(e.handleEvent,e)}return 2147483647<Number(t)?-1:hy.setTimeout(e,t||0)}function Ug(e){e.g=jg((function(){e.g=null,e.i&&(e.i=!1,Ug(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}xy(Mg,xg),(sy=Mg.prototype).ca=!1,sy.R=null,sy.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ig(this,"tick"),this.ca&&(Fg(this),this.start()))}},sy.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},sy.M=function(){Mg.X.M.call(this),Fg(this),delete this.g};var Vg=function(e){Wt(n,e);var t=$t(n);function n(e,r){var i;return tt(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return rt(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ug(this)}},{key:"M",value:function(){Kt(zt(n.prototype),"M",this).call(this),this.g&&(hy.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Iy);function Bg(e){Iy.call(this),this.h=e,this.g={}}xy(Bg,Iy);var zg=[];function qg(e,t,n,r){Array.isArray(n)||(n&&(zg[0]=n.toString()),n=zg);for(var i=0;i<n.length;i++){var a=hg(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Kg(e){rg(e.g,(function(e,t){this.g.hasOwnProperty(t)&&mg(e)}),e),e.g={}}function Wg(){this.g=!0}function Hg(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return _g(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Bg.prototype.M=function(){Bg.X.M.call(this),Kg(this)},Bg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wg.prototype.Aa=function(){this.g=!1},Wg.prototype.info=function(){};var Gg={},Qg=null;function Yg(){return Qg=Qg||new xg}function $g(e){Ty.call(this,Gg.Pa,e)}function Xg(e){var t=Yg();Ig(t,new $g(t))}function Jg(e,t){Ty.call(this,Gg.STAT_EVENT,e),this.stat=t}function Zg(e){var t=Yg();Ig(t,new Jg(t,e))}function ek(e,t){Ty.call(this,Gg.Qa,e),this.size=t}function tk(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return hy.setTimeout((function(){e()}),t)}Gg.Pa="serverreachability",xy($g,Ty),Gg.STAT_EVENT="statevent",xy(Jg,Ty),Gg.Qa="timingevent",xy(ek,Ty);var nk={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},rk={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ik(){}function ak(e){return e.h||(e.h=e.i())}function ok(){}ik.prototype.h=null;var uk,sk={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ck(){Ty.call(this,"d")}function lk(){Ty.call(this,"c")}function fk(){}function hk(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Bg(this),this.O=pk,e=Uy?125:void 0,this.T=new Mg(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new dk}function dk(){this.i=null,this.g="",this.h=!1}xy(ck,Ty),xy(lk,Ty),xy(fk,ik),fk.prototype.g=function(){return new XMLHttpRequest},fk.prototype.i=function(){return{}},uk=new fk;var pk=45e3,vk={},mk={};function yk(e,t,n){e.K=1,e.v=Mk(Dk(t)),e.s=n,e.P=!0,gk(e,null)}function gk(e,t){e.F=Date.now(),xk(e),e.A=Dk(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Yk(n.i,"t",r),e.C=0,n=e.l.H,e.h=new dk,e.g=$b(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Vg(by(e.La,e,e.g),e.N)),qg(e.S,e.g,"readystatechange",e.ib),t=e.H?ig(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Xg(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function kk(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function bk(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=wk(e,n))==mk){4==t&&(e.o=4,Zg(14),i=!1),Hg(e.j,e.m,null,"[Incomplete Response]");break}if(r==vk){e.o=4,Zg(15),Hg(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Hg(e.j,e.m,r,null),Tk(e,r)}kk(e)&&r!=mk&&r!=vk&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Zg(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),zb(t),t.K=!0,Zg(11))):(Hg(e.j,e.m,n,"[Invalid Chunked Response]"),Sk(e),_k(e))}function wk(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?mk:(n=Number(t.substring(n,r)),isNaN(n)?vk:(r+=1)+n>t.length?mk:(t=t.substr(r,n),e.C=r+n,t))}function xk(e){e.V=Date.now()+e.O,Ik(e,e.O)}function Ik(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=tk(by(e.gb,e),t)}function Ek(e){e.B&&(hy.clearTimeout(e.B),e.B=null)}function _k(e){0==e.l.G||e.I||Wb(e.l,e)}function Sk(e){Ek(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Fg(e.T),Kg(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Tk(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||rb(n.h,e)))if(!e.J&&rb(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Kb(n),Pb(n)}Bb(n),Zg(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=tk(by(n.cb,n),6e3));if(1>=nb(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Gb(n,11)}else if((e.J||n.g==e)&&Kb(n),!Ny(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(ib(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Lk(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Yb(r,r.H?r.ka:null,r.V),d.J){ab(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Ek(p),xk(p)),r.g=d}else Vb(r);0<n.i.length&&Mb(n)}else"stop"!=a[0]&&"close"!=a[0]||Gb(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Gb(n,7):Rb(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Xg()}catch(a){}}function Ck(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(py(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(py(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(py(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(sy=hk.prototype).setTimeout=function(e){this.O=e},sy.ib=function(e){e=e.target;var t=this.L;t&&3==Tb(e)?t.l():this.La(e)},sy.La=function(e){try{if(e==this.g)e:{var t=Tb(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Uy||this.g&&(this.h.h||this.g.fa()||Cb(this.g)))){this.I||4!=t||7==n||Xg(),Ek(this);var r=this.g.aa();this.Y=r;t:if(kk(this)){var i=Cb(this.g);e="";var a=i.length,o=4==Tb(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Sk(this),_k(this);var u="";break t}this.h.i=new hy.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ny(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Zg(12),Sk(this),_k(this);break e}Hg(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Tk(this,r)}this.P?(bk(this,t,u),Uy&&this.i&&3==t&&(qg(this.S,this.T,"tick",this.hb),this.T.start())):(Hg(this.j,this.m,u,null),Tk(this,u)),4==t&&Sk(this),this.i&&!this.I&&(4==t?Wb(this.l,this):(this.i=!1,xk(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Zg(12)):(this.o=0,Zg(13)),Sk(this),_k(this)}}}catch(t){}},sy.hb=function(){if(this.g){var e=Tb(this.g),t=this.g.fa();this.C<t.length&&(Ek(this),bk(this,e,t),this.i&&4!=e&&xk(this))}},sy.cancel=function(){this.I=!0,Sk(this)},sy.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Xg(),Zg(17)),Sk(this),this.o=2,_k(this)):Ik(this,this.V-e)};var Nk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ak(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ak){this.h=void 0!==t?t:e.h,Ok(this,e.j),this.s=e.s,this.g=e.g,Rk(this,e.m),this.l=e.l,t=e.i;var n=new Wk;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Pk(this,n),this.o=e.o}else e&&(n=String(e).match(Nk))?(this.h=!!t,Ok(this,n[1]||"",!0),this.s=Fk(n[2]||""),this.g=Fk(n[3]||"",!0),Rk(this,n[4]),this.l=Fk(n[5]||"",!0),Pk(this,n[6]||"",!0),this.o=Fk(n[7]||"")):(this.h=!!t,this.i=new Wk(null,this.h))}function Dk(e){return new Ak(e)}function Ok(e,t,n){e.j=n?Fk(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Rk(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Pk(e,t,n){t instanceof Wk?(e.i=t,function(e,t){t&&!e.j&&(Hk(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Gk(this,t),Yk(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=jk(t,qk)),e.i=new Wk(t,e.h))}function Lk(e,t,n){e.i.set(t,n)}function Mk(e){return Lk(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Fk(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function jk(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Uk),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Uk(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ak.prototype.toString=function(){var e=[],t=this.j;t&&e.push(jk(t,Vk,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(jk(t,Vk,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(jk(n,"/"==n.charAt(0)?zk:Bk,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",jk(n,Kk)),e.join("")};var Vk=/[#\/\?@]/g,Bk=/[#\?:]/g,zk=/[#\?]/g,qk=/[#\?@]/g,Kk=/#/g;function Wk(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Hk(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Gk(e,t){Hk(e),t=$k(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Qk(e,t){return Hk(e),t=$k(e,t),e.g.has(t)}function Yk(e,t,n){Gk(e,t),0<n.length&&(e.i=null,e.g.set($k(e,t),_y(n)),e.h+=n.length)}function $k(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(sy=Wk.prototype).add=function(e,t){Hk(this),this.i=null,e=$k(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},sy.forEach=function(e,t){Hk(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},sy.oa=function(){Hk(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},sy.W=function(e){Hk(this);var t=[];if("string"===typeof e)Qk(this,e)&&(t=t.concat(this.g.get($k(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},sy.set=function(e,t){return Hk(this),this.i=null,Qk(this,e=$k(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},sy.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},sy.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Xk=rt((function e(t,n){tt(this,e),this.h=t,this.g=n}));function Jk(e){this.l=e||eb,hy.PerformanceNavigationTiming?e=0<(e=hy.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(hy.g&&hy.g.Ga&&hy.g.Ga()&&hy.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Zk,eb=10;function tb(e){return!!e.h||!!e.g&&e.g.size>=e.j}function nb(e){return e.h?1:e.g?e.g.size:0}function rb(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ib(e,t){e.g?e.g.add(t):e.h=t}function ab(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ob(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Yn(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return _y(e.i)}function ub(){}function sb(){this.g=new ub}function cb(e,t,n){var r=n||"";try{Ck(e,(function(e,n){var i=e;vy(e)&&(i=_g(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(lP){throw t.push(r+"type="+encodeURIComponent("_badmap")),lP}}function lb(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function fb(e){this.l=e.ac||null,this.j=e.jb||!1}function hb(e,t){xg.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=db,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jk.prototype.cancel=function(){if(this.i=ob(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Yn(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},ub.prototype.stringify=function(e){return hy.JSON.stringify(e,void 0)},ub.prototype.parse=function(e){return hy.JSON.parse(e,void 0)},xy(fb,ik),fb.prototype.g=function(){return new hb(this.l,this.j)},fb.prototype.i=(Zk={},function(){return Zk}),xy(hb,xg);var db=0;function pb(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function vb(e){e.readyState=4,e.l=null,e.j=null,e.A=null,mb(e)}function mb(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(sy=hb.prototype).open=function(e,t){if(this.readyState!=db)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,mb(this)},sy.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||hy).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},sy.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vb(this)),this.readyState=db},sy.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,mb(this)),this.g&&(this.readyState=3,mb(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof hy.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pb(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},sy.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?vb(this):mb(this),3==this.readyState&&pb(this)}},sy.Va=function(e){this.g&&(this.response=this.responseText=e,vb(this))},sy.Ua=function(e){this.g&&(this.response=e,vb(this))},sy.ga=function(){this.g&&vb(this)},sy.setRequestHeader=function(e,t){this.v.append(e,t)},sy.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},sy.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(hb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var yb=hy.JSON.parse;function gb(e){xg.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=kb,this.K=this.L=!1}xy(gb,xg);var kb="",bb=/^https?$/i,wb=["POST","PUT"];function xb(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ib(e),_b(e)}function Ib(e){e.D||(e.D=!0,Ig(e,"complete"),Ig(e,"error"))}function Eb(e){if(e.h&&"undefined"!=typeof fy&&(!e.C[1]||4!=Tb(e)||2!=e.aa()))if(e.v&&4==Tb(e))jg(e.Ha,0,e);else if(Ig(e,"readystatechange"),4==Tb(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Nk)[1]||null;if(!a&&hy.self&&hy.self.location){var o=hy.self.location.protocol;a=o.substr(0,o.length-1)}i=!bb.test(a?a.toLowerCase():"")}t=i}if(t)Ig(e,"complete"),Ig(e,"success");else{e.m=6;try{var u=2<Tb(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",Ib(e)}}finally{_b(e)}}}function _b(e,t){if(e.g){Sb(e);var n=e.g,r=e.C[0]?dy:null;e.g=null,e.C=null,t||Ig(e,"ready");try{n.onreadystatechange=r}catch(lP){}}}function Sb(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(hy.clearTimeout(e.A),e.A=null)}function Tb(e){return e.g?e.g.readyState:0}function Cb(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case kb:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(hw){return null}}function Nb(e){var t="";return rg(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ab(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Nb(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Lk(e,t,n))}function Db(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ob(e){this.Ca=0,this.i=[],this.j=new Wg,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Db("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Db("baseRetryDelayMs",5e3,e),this.bb=Db("retryDelaySeedMs",1e4,e),this.$a=Db("forwardChannelMaxRetries",2,e),this.ta=Db("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Jk(e&&e.concurrentRequestLimit),this.Fa=new sb,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Rb(e){if(Lb(e),3==e.G){var t=e.U++,n=Dk(e.F);Lk(n,"SID",e.I),Lk(n,"RID",t),Lk(n,"TYPE","terminate"),jb(e,n),(t=new hk(e,e.j,t,void 0)).K=2,t.v=Mk(Dk(n)),n=!1,hy.navigator&&hy.navigator.sendBeacon&&(n=hy.navigator.sendBeacon(t.v.toString(),"")),!n&&hy.Image&&((new Image).src=t.v,n=!0),n||(t.g=$b(t.l,null),t.g.da(t.v)),t.F=Date.now(),xk(t)}Qb(e)}function Pb(e){e.g&&(zb(e),e.g.cancel(),e.g=null)}function Lb(e){Pb(e),e.u&&(hy.clearTimeout(e.u),e.u=null),Kb(e),e.h.cancel(),e.m&&("number"===typeof e.m&&hy.clearTimeout(e.m),e.m=null)}function Mb(e){tb(e.h)||e.m||(e.m=!0,Og(e.Ja,e),e.C=0)}function Fb(e,t){var n;n=t?t.m:e.U++;var r=Dk(e.F);Lk(r,"SID",e.I),Lk(r,"RID",n),Lk(r,"AID",e.T),jb(e,r),e.o&&e.s&&Ab(r,e.o,e.s),n=new hk(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Ub(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),ib(e.h,n),yk(n,r,t)}function jb(e,t){e.ia&&rg(e.ia,(function(e,n){Lk(t,n,e)})),e.l&&Ck({},(function(e,n){Lk(t,n,e)}))}function Ub(e,t,n){n=Math.min(e.i.length,n);var r=e.l?by(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{cb(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Vb(e){e.g||e.u||(e.Z=1,Og(e.Ia,e),e.A=0)}function Bb(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=tk(by(e.Ia,e),Hb(e,e.A)),e.A++,!0)}function zb(e){null!=e.B&&(hy.clearTimeout(e.B),e.B=null)}function qb(e){e.g=new hk(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Dk(e.sa);Lk(t,"RID","rpc"),Lk(t,"SID",e.I),Lk(t,"CI",e.L?"0":"1"),Lk(t,"AID",e.T),Lk(t,"TYPE","xmlhttp"),jb(e,t),e.o&&e.s&&Ab(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Mk(Dk(t)),n.s=null,n.P=!0,gk(n,e)}function Kb(e){null!=e.v&&(hy.clearTimeout(e.v),e.v=null)}function Wb(e,t){var n=null;if(e.g==t){Kb(e),zb(e),e.g=null;var r=2}else{if(!rb(e.h,t))return;n=t.D,ab(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ig(r=Yg(),new ek(r,n)),Mb(e)}else Vb(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(nb(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=tk(by(e.Ja,e,t),Hb(e,e.C)),e.C++,!0))}(e,t)||2==r&&Bb(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Gb(e,5);break;case 4:Gb(e,10);break;case 3:Gb(e,6);break;default:Gb(e,2)}}function Hb(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Gb(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=by(e.kb,e);n||(n=new Ak("//www.google.com/images/cleardot.gif"),hy.location&&"http"==hy.location.protocol||Ok(n,"https"),Mk(n)),function(e,t){var n=new Wg;if(hy.Image){var r=new Image;r.onload=wy(lb,n,r,"TestLoadImage: loaded",!0,t),r.onerror=wy(lb,n,r,"TestLoadImage: error",!1,t),r.onabort=wy(lb,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=wy(lb,n,r,"TestLoadImage: timeout",!1,t),hy.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Zg(2);e.G=0,e.l&&e.l.va(t),Qb(e),Lb(e)}function Qb(e){if(e.G=0,e.la=[],e.l){var t=ob(e.h);0==t.length&&0==e.i.length||(Sy(e.la,t),Sy(e.la,e.i),e.h.i.length=0,_y(e.i),e.i.length=0),e.l.ua()}}function Yb(e,t,n){var r=n instanceof Ak?Dk(n):new Ak(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Rk(r,r.m);else{var i=hy.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Ak(null,void 0);r&&Ok(a,r),t&&(a.g=t),i&&Rk(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Lk(r,n,t),Lk(r,"VER",e.ma),jb(e,r),r}function $b(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new gb(new fb({jb:!0})):new gb(e.ra)).Ka(e.H),t}function Xb(){}function Jb(){if(Fy&&!(10<=Number($y)))throw Error("Environmental error: no available transport.")}function Zb(e,t){xg.call(this),this.g=new Ob(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Ny(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ny(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new nw(this)}function ew(e){ck.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function tw(){lk.call(this),this.status=1}function nw(e){this.g=e}(sy=gb.prototype).Ka=function(e){this.L=e},sy.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():uk.g(),this.C=this.u?ak(this.u):ak(uk),this.g.onreadystatechange=by(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void xb(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Yn(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=hy.FormData&&e instanceof hy.FormData,!(0<=Ey(wb,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=Yn(n);try{for(c.s();!(s=c.n()).done;){var l=Be(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Sb(this),0<this.B&&((this.K=function(e){return Fy&&Qy()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=by(this.qa,this)):this.A=jg(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){xb(this,u)}},sy.qa=function(){"undefined"!=typeof fy&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ig(this,"timeout"),this.abort(8))},sy.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ig(this,"complete"),Ig(this,"abort"),_b(this))},sy.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_b(this,!0)),gb.X.M.call(this)},sy.Ha=function(){this.s||(this.F||this.v||this.l?Eb(this):this.fb())},sy.fb=function(){Eb(this)},sy.aa=function(){try{return 2<Tb(this)?this.g.status:-1}catch(Zk){return-1}},sy.fa=function(){try{return this.g?this.g.responseText:""}catch(Zk){return""}},sy.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),yb(t)}},sy.Ea=function(){return this.m},sy.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(sy=Ob.prototype).ma=8,sy.G=1,sy.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new hk(this,this.j,e,void 0),n=this.s;if(this.S&&(n?og(n=ig(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ub(this,t,r),Lk(i=Dk(this.F),"RID",e),Lk(i,"CVER",22),this.D&&Lk(i,"X-HTTP-Session-Id",this.D),jb(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Nb(n)))+"&"+r:this.o&&Ab(i,this.o,n)),ib(this.h,t),this.Ya&&Lk(i,"TYPE","init"),this.O?(Lk(i,"$req",r),Lk(i,"SID","null"),t.Z=!0,yk(t,i,null)):yk(t,i,r),this.G=2}}else 3==this.G&&(e?Fb(this,e):0==this.i.length||tb(this.h)||Fb(this))},sy.Ia=function(){if(this.u=null,qb(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=tk(by(this.eb,this),e)}},sy.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Zg(10),Pb(this),qb(this))},sy.cb=function(){null!=this.v&&(this.v=null,Pb(this),Bb(this),Zg(19))},sy.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Zg(2)):(this.j.info("Failed to ping google.com"),Zg(1))},(sy=Xb.prototype).xa=function(){},sy.wa=function(){},sy.va=function(){},sy.ua=function(){},sy.Ra=function(){},Jb.prototype.g=function(e,t){return new Zb(e,t)},xy(Zb,xg),Zb.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Zg(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Yb(e,null,e.V),Mb(e)},Zb.prototype.close=function(){Rb(this.g)},Zb.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=_g(e),e=n);t.i.push(new Xk(t.ab++,e)),3==t.G&&Mb(t)},Zb.prototype.M=function(){this.g.l=null,delete this.j,Rb(this.g),delete this.g,Zb.X.M.call(this)},xy(ew,ck),xy(tw,lk),xy(nw,Xb),nw.prototype.xa=function(){Ig(this.g,"a")},nw.prototype.wa=function(e){Ig(this.g,new ew(e))},nw.prototype.va=function(e){Ig(this.g,new tw)},nw.prototype.ua=function(){Ig(this.g,"b")},Jb.prototype.createWebChannel=Jb.prototype.g,Zb.prototype.send=Zb.prototype.u,Zb.prototype.open=Zb.prototype.m,Zb.prototype.close=Zb.prototype.close,nk.NO_ERROR=0,nk.TIMEOUT=8,nk.HTTP_ERROR=6,rk.COMPLETE="complete",ok.EventType=sk,sk.OPEN="a",sk.CLOSE="b",sk.ERROR="c",sk.MESSAGE="d",xg.prototype.listen=xg.prototype.N,gb.prototype.listenOnce=gb.prototype.O,gb.prototype.getLastError=gb.prototype.Oa,gb.prototype.getLastErrorCode=gb.prototype.Ea,gb.prototype.getStatus=gb.prototype.aa,gb.prototype.getResponseJson=gb.prototype.Sa,gb.prototype.getResponseText=gb.prototype.fa,gb.prototype.send=gb.prototype.da,gb.prototype.setWithCredentials=gb.prototype.Ka;var rw=ly.createWebChannelTransport=function(){return new Jb},iw=ly.getStatEventTarget=function(){return Yg()},aw=ly.ErrorCode=nk,ow=ly.EventType=rk,uw=ly.Event=Gg,sw=ly.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},cw=ly.FetchXmlHttpFactory=fb,lw=ly.WebChannel=ok,fw=ly.XhrIo=gb,hw="@firebase/firestore",dw=function(){function e(t){tt(this,e),this.uid=t}return rt(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();dw.UNAUTHENTICATED=new dw(null),dw.GOOGLE_CREDENTIALS=new dw("google-credentials-uid"),dw.FIRST_PARTY=new dw("first-party-uid"),dw.MOCK_USER=new dw("mock-user");var pw="9.13.0",vw=new Ms("@firebase/firestore");function mw(){return vw.logLevel}function yw(e){if(vw.logLevel<=Ns.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bw);vw.debug.apply(vw,["Firestore (".concat(pw,"): ").concat(e)].concat(et(i)))}}function gw(e){if(vw.logLevel<=Ns.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bw);vw.error.apply(vw,["Firestore (".concat(pw,"): ").concat(e)].concat(et(i)))}}function kw(e){if(vw.logLevel<=Ns.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(bw);vw.warn.apply(vw,["Firestore (".concat(pw,"): ").concat(e)].concat(et(i)))}}function bw(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ww(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(pw,") INTERNAL ASSERTION FAILED: ")+e;throw gw(t),new Error(t)}function xw(e,t){e||ww()}function Iw(e,t){return e}var Ew={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_w=function(e){Wt(n,e);var t=$t(n);function n(e,r){var i;return tt(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return rt(n)}(ss),Sw=rt((function e(){var t=this;tt(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Tw=rt((function e(t,n){tt(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Cw=function(){function e(){tt(this,e)}return rt(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(dw.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Nw=function(){function e(t){tt(this,e),this.token=t,this.changeListener=null}return rt(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Aw=function(){function e(t){tt(this,e),this.t=t,this.currentUser=dw.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return rt(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Sw;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Sw,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){yw("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(yw("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Sw)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(yw("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(xw("string"==typeof n.accessToken),new Tw(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return xw(null===e||"string"==typeof e),new dw(e)}}]),e}(),Dw=function(){function e(t,n,r,i){tt(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=dw.FIRST_PARTY,this.p=new Map}return rt(e,[{key:"I",value:function(){return this.g?this.g():(xw(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Ow=function(){function e(t,n,r,i){tt(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return rt(e,[{key:"getToken",value:function(){return Promise.resolve(new Dw(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(dw.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Rw=rt((function e(t){tt(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Pw=function(){function e(t){tt(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return rt(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&yw("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,yw("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){yw("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):yw("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(xw("string"==typeof t.token),e.A=t.token,new Rw(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Lw(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Mw=function(){function e(){tt(this,e)}return rt(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Lw(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Fw(e,t){return e<t?-1:e>t?1:0}function jw(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Uw(e){return e+"\0"}var Vw=function(){function e(t,n){if(tt(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new _w(Ew.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _w(Ew.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new _w(Ew.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _w(Ew.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return rt(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Fw(this.nanoseconds,e.nanoseconds):Fw(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Bw=function(){function e(t){tt(this,e),this.timestamp=t}return rt(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Vw(0,0))}},{key:"max",value:function(){return new e(new Vw(253402300799,999999999))}}]),e}(),zw=function(){function e(t,n,r){tt(this,e),void 0===n?n=0:n>t.length&&ww(),void 0===r?r=t.length-n:r>t.length-n&&ww(),this.segments=t,this.offset=n,this.len=r}return rt(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),qw=function(e){Wt(n,e);var t=$t(n);function n(){return tt(this,n),t.apply(this,arguments)}return rt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new _w(Ew.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,et(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(zw),Kw=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ww=function(e){Wt(n,e);var t=$t(n);function n(){return tt(this,n),t.apply(this,arguments)}return rt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Kw.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new _w(Ew.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new _w(Ew.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new _w(Ew.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new _w(Ew.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(zw),Hw=function(){function e(t){tt(this,e),this.path=t}return rt(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===qw.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(qw.fromString(t))}},{key:"fromName",value:function(t){return new e(qw.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(qw.emptyPath())}},{key:"comparator",value:function(e,t){return qw.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new qw(t.slice()))}}]),e}(),Gw=rt((function e(t,n,r,i){tt(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Qw(e){return e.fields.find((function(e){return 2===e.kind}))}function Yw(e){return e.fields.filter((function(e){return 2!==e.kind}))}Gw.UNKNOWN_ID=-1;var $w=rt((function e(t,n){tt(this,e),this.fieldPath=t,this.kind=n}));var Xw=function(){function e(t,n){tt(this,e),this.sequenceNumber=t,this.offset=n}return rt(e,null,[{key:"empty",value:function(){return new e(0,ex.min())}}]),e}();function Jw(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Bw.fromTimestamp(1e9===r?new Vw(n+1,0):new Vw(n,r));return new ex(i,Hw.empty(),t)}function Zw(e){return new ex(e.readTime,e.key,-1)}var ex=function(){function e(t,n,r){tt(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return rt(e,null,[{key:"min",value:function(){return new e(Bw.min(),Hw.empty(),-1)}},{key:"max",value:function(){return new e(Bw.max(),Hw.empty(),-1)}}]),e}();function tx(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Hw.comparator(e.documentKey,t.documentKey))?n:Fw(e.largestBatchId,t.largestBatchId)}var nx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",rx=function(){function e(){tt(this,e),this.onCommittedListeners=[]}return rt(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function ix(e){return ax.apply(this,arguments)}function ax(){return ax=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Ew.FAILED_PRECONDITION&&t.message===nx){e.next=2;break}throw t;case 2:yw("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ax.apply(this,arguments)}var ox=function(){function e(t){var n=this;tt(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return rt(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ww(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Yn(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),ux=function(){function e(t,n){var r=this;tt(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new Sw,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new lx(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=vx(e.target.error);r.P.reject(new lx(t,n))}}return rt(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(yw("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new hx(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new lx(n,t)}}}]),e}(),sx=function(){function e(t,n,r){tt(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Xu())&&gw("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return rt(e,[{key:"F",value:function(){var e=Es(xs().mark((function e(t){var n=this;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return yw("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new lx(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new _w(Ew.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new _w(Ew.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new lx(t,n))},i.onupgradeneeded=function(e){yw("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){yw("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Es(xs().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(xs().mark((function e(){var n,o;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=ux.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),ox.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,yw("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return yw("SimpleDb","Removing database:",e),dx(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!ns())return!1;if(e.N())return!0;var t=Xu(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/gymmarket",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),cx=function(){function e(t){tt(this,e),this.U=t,this.q=!1,this.K=null}return rt(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return dx(this.U.delete())}}]),e}(),lx=function(e){Wt(n,e);var t=$t(n);function n(e,r){var i;return tt(this,n),(i=t.call(this,Ew.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return rt(n)}(_w);function fx(e){return"IndexedDbTransactionError"===e.name}var hx=function(){function e(t){tt(this,e),this.store=t}return rt(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(yw("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(yw("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),dx(n)}},{key:"add",value:function(e){return yw("SimpleDb","ADD",this.store.name,e,e),dx(this.store.add(e))}},{key:"get",value:function(e){var t=this;return dx(this.store.get(e)).next((function(n){return void 0===n&&(n=null),yw("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return yw("SimpleDb","DELETE",this.store.name,e),dx(this.store.delete(e))}},{key:"count",value:function(){return yw("SimpleDb","COUNT",this.store.name),dx(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new ox((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new ox((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){yw("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new ox((function(n,r){t.onerror=function(e){var t=vx(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new ox((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new cx(i),o=t(i.primaryKey,i.value,a);if(o instanceof ox){var u=o.catch((function(e){return a.done(),ox.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return ox.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function dx(e){return new ox((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=vx(e.target.error);n(t)}}))}var px=!1;function vx(e){var t=sx.D(Xu());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new _w("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return px||(px=!0,setTimeout((function(){throw r}),0)),r}}return e}var mx=function(){function e(t,n){tt(this,e),this.asyncQueue=t,this.et=n,this.task=null}return rt(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;yw("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=yw,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!fx(e.t4)){e.next=17;break}yw("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,ix(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),yx=function(){function e(t,n){tt(this,e),this.localStore=t,this.persistence=n}return rt(e,[{key:"st",value:function(){var e=Es(xs().mark((function e(){var t,n=this,r=arguments;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return ox.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return yw("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return yw("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Zw(t);tx(r,n)>0&&(n=r)})),new ex(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),gx=function(){function e(t,n){var r=this;tt(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return rt(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function kx(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function bx(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function wx(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}gx.at=-1;var xx=function(){function e(t,n){tt(this,e),this.comparator=t,this.root=n||Ex.EMPTY}return rt(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ex.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ex.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ix(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ix(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ix(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ix(this.root,e,this.comparator,!0)}}]),e}(),Ix=function(){function e(t,n,r,i){tt(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return rt(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Ex=function(){function e(t,n,r,i,a){tt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return rt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ww();if(this.right.isRed())throw ww();var e=this.left.check();if(e!==this.right.check())throw ww();return e+(this.isRed()?0:1)}}]),e}();Ex.EMPTY=null,Ex.RED=!0,Ex.BLACK=!1,Ex.EMPTY=new(function(){function e(){tt(this,e),this.size=0}return rt(e,[{key:"key",get:function(){throw ww()}},{key:"value",get:function(){throw ww()}},{key:"color",get:function(){throw ww()}},{key:"left",get:function(){throw ww()}},{key:"right",get:function(){throw ww()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Ex(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var _x=function(){function e(t){tt(this,e),this.comparator=t,this.data=new xx(this.comparator)}return rt(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Sx(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Sx(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Sx=function(){function e(t){tt(this,e),this.iter=t}return rt(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Tx(e){return e.hasNext()?e.getNext():void 0}var Cx=function(){function e(t){tt(this,e),this.fields=t,t.sort(Ww.comparator)}return rt(e,[{key:"unionWith",value:function(t){var n,r=new _x(Ww.comparator),i=Yn(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Yn(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Yn(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return jw(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Nx=function(e){function t(e){tt(this,t),this.binaryString=e}return rt(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Fw(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Nx.EMPTY_BYTE_STRING=new Nx("");var Ax=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dx(e){if(xw(!!e),"string"==typeof e){var t=0,n=Ax.exec(e);if(xw(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ox(e.seconds),nanos:Ox(e.nanos)}}function Ox(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Rx(e){return"string"==typeof e?Nx.fromBase64String(e):Nx.fromUint8Array(e)}function Px(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Lx(e){var t=e.mapValue.fields.__previous_value__;return Px(t)?Lx(t):t}function Mx(e){var t=Dx(e.mapValue.fields.__local_write_time__.timestampValue);return new Vw(t.seconds,t.nanos)}var Fx=rt((function e(t,n,r,i,a,o,u,s){tt(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),jx=function(){function e(t,n){tt(this,e),this.projectId=t,this.database=n||"(default)"}return rt(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Ux(e){return null==e}function Vx(e){return 0===e&&1/e==-1/0}function Bx(e){return"number"==typeof e&&Number.isInteger(e)&&!Vx(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var zx={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},qx={nullValue:"NULL_VALUE"};function Kx(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Px(e)?4:iI(e)?9007199254740991:10:ww()}function Wx(e,t){if(e===t)return!0;var n=Kx(e);if(n!==Kx(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Mx(e).isEqual(Mx(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Dx(e.timestampValue),r=Dx(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Rx(e.bytesValue).isEqual(Rx(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ox(e.geoPointValue.latitude)===Ox(t.geoPointValue.latitude)&&Ox(e.geoPointValue.longitude)===Ox(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ox(e.integerValue)===Ox(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ox(e.doubleValue),r=Ox(t.doubleValue);return n===r?Vx(n)===Vx(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return jw(e.arrayValue.values||[],t.arrayValue.values||[],Wx);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(kx(n)!==kx(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Wx(n[i],r[i])))return!1;return!0}(e,t);default:return ww()}}function Hx(e,t){return void 0!==(e.values||[]).find((function(e){return Wx(e,t)}))}function Gx(e,t){if(e===t)return 0;var n=Kx(e),r=Kx(t);if(n!==r)return Fw(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fw(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ox(e.integerValue||e.doubleValue),r=Ox(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Qx(e.timestampValue,t.timestampValue);case 4:return Qx(Mx(e),Mx(t));case 5:return Fw(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Rx(e),r=Rx(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Fw(n[i],r[i]);if(0!==a)return a}return Fw(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Fw(Ox(e.latitude),Ox(t.latitude));return 0!==n?n:Fw(Ox(e.longitude),Ox(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Gx(n[i],r[i]);if(a)return a}return Fw(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===zx.mapValue&&t===zx.mapValue)return 0;if(e===zx.mapValue)return 1;if(t===zx.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Fw(r[o],a[o]);if(0!==u)return u;var s=Gx(n[r[o]],i[a[o]]);if(0!==s)return s}return Fw(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ww()}}function Qx(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Fw(e,t);var n=Dx(e),r=Dx(t),i=Fw(n.seconds,r.seconds);return 0!==i?i:Fw(n.nanos,r.nanos)}function Yx(e){return $x(e)}function $x(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Dx(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Rx(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Hw.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Yn(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=$x(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Yn(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat($x(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):ww();var t,n}function Xx(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Jx(e){return!!e&&"integerValue"in e}function Zx(e){return!!e&&"arrayValue"in e}function eI(e){return!!e&&"nullValue"in e}function tI(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function nI(e){return!!e&&"mapValue"in e}function rI(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return bx(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=rI(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=rI(e.arrayValue.values[r]);return n}return Object.assign({},e)}function iI(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function aI(e){return"nullValue"in e?qx:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Xx(jx.empty(),Hw.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:ww()}function oI(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Xx(jx.empty(),Hw.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?zx:ww()}function uI(e,t){var n=Gx(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function sI(e,t){var n=Gx(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var cI=function(){function e(t){tt(this,e),this.value=t}return rt(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!nI(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rI(t)}},{key:"setAll",value:function(e){var t=this,n=Ww.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=rI(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());nI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Wx(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];nI(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){bx(t,(function(t,n){return e[t]=n}));var r,i=Yn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(rI(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function lI(e){var t=[];return bx(e.fields,(function(e,n){var r=new Ww([e]);if(nI(n)){var i=lI(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Yn(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Cx(t)}var fI=function(){function e(t,n,r,i,a,o){tt(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return rt(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=cI.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=cI.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Bw.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Bw.min(),Bw.min(),cI.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Bw.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Bw.min(),cI.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Bw.min(),cI.empty(),2)}}]),e}(),hI=rt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;tt(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function dI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new hI(e,t,n,r,i,a,o)}function pI(e){var t=Iw(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Yx(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ux(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Yx(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Yx(e)})).join(",")),t.ht=n}return t.ht}function vI(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!DI(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Wx(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!RI(e.startAt,t.startAt)&&RI(e.endAt,t.endAt)}function mI(e){return Hw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function yI(e,t){return e.filters.filter((function(e){return e instanceof bI&&e.field.isEqual(t)}))}function gI(e,t,n){var r,i=qx,a=!0,o=Yn(yI(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=qx,c=!0;switch(u.op){case"<":case"<=":s=aI(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=qx}uI({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];uI({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function kI(e,t,n){var r,i=zx,a=!0,o=Yn(yI(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=zx,c=!0;switch(u.op){case">=":case">":s=oI(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=zx}sI({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];sI({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var bI=function(e){Wt(n,e);var t=$t(n);function n(e,r,i){var a;return tt(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return rt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Gx(t,this.value)):null!==t&&Kx(this.value)===Kx(t)&&this.ft(Gx(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ww()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new wI(e,t,r):"array-contains"===t?new _I(e,r):"in"===t?new SI(e,r):"not-in"===t?new TI(e,r):"array-contains-any"===t?new CI(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new xI(e,n):new II(e,n)}}]),n}(function(){return rt((function e(){tt(this,e)}))}()),wI=function(e){Wt(n,e);var t=$t(n);function n(e,r,i){var a;return tt(this,n),(a=t.call(this,e,r,i)).key=Hw.fromName(i.referenceValue),a}return rt(n,[{key:"matches",value:function(e){var t=Hw.comparator(e.key,this.key);return this.ft(t)}}]),n}(bI),xI=function(e){Wt(n,e);var t=$t(n);function n(e,r){var i;return tt(this,n),(i=t.call(this,e,"in",r)).keys=EI("in",r),i}return rt(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(bI),II=function(e){Wt(n,e);var t=$t(n);function n(e,r){var i;return tt(this,n),(i=t.call(this,e,"not-in",r)).keys=EI("not-in",r),i}return rt(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(bI);function EI(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Hw.fromName(e.referenceValue)}))}var _I=function(e){Wt(n,e);var t=$t(n);function n(e,r){return tt(this,n),t.call(this,e,"array-contains",r)}return rt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Zx(t)&&Hx(t.arrayValue,this.value)}}]),n}(bI),SI=function(e){Wt(n,e);var t=$t(n);function n(e,r){return tt(this,n),t.call(this,e,"in",r)}return rt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Hx(this.value.arrayValue,t)}}]),n}(bI),TI=function(e){Wt(n,e);var t=$t(n);function n(e,r){return tt(this,n),t.call(this,e,"not-in",r)}return rt(n,[{key:"matches",value:function(e){if(Hx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Hx(this.value.arrayValue,t)}}]),n}(bI),CI=function(e){Wt(n,e);var t=$t(n);function n(e,r){return tt(this,n),t.call(this,e,"array-contains-any",r)}return rt(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Zx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Hx(t.value.arrayValue,e)}))}}]),n}(bI),NI=rt((function e(t,n){tt(this,e),this.position=t,this.inclusive=n})),AI=rt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";tt(this,e),this.field=t,this.dir=n}));function DI(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function OI(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Hw.comparator(Hw.fromName(o.referenceValue),n.key):Gx(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function RI(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Wx(e.position[n],t.position[n]))return!1;return!0}var PI=rt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;tt(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function LI(e,t,n,r,i,a,o,u){return new PI(e,t,n,r,i,a,o,u)}function MI(e){return new PI(e)}function FI(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function jI(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function UI(e){var t,n=Yn(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function VI(e){return null!==e.collectionGroup}function BI(e){var t=Iw(e);if(null===t._t){t._t=[];var n=UI(t),r=jI(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new AI(n)),t._t.push(new AI(Ww.keyField(),"asc"));else{var i,a=!1,o=Yn(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new AI(Ww.keyField(),s))}}}return t._t}function zI(e){var t=Iw(e);if(!t.wt)if("F"===t.limitType)t.wt=dI(t.path,t.collectionGroup,BI(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Yn(BI(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new AI(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new NI(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new NI(t.startAt.position,t.startAt.inclusive):null;t.wt=dI(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function qI(e,t,n){return new PI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function KI(e,t){return vI(zI(e),zI(t))&&e.limitType===t.limitType}function WI(e){return"".concat(pI(zI(e)),"|lt:").concat(e.limitType)}function HI(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Yx(t.value));var t})).join(", "),"]")),Ux(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Yx(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Yx(e)})).join(",")),"Target(".concat(t,")")}(zI(e)),"; limitType=").concat(e.limitType,")")}function GI(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Hw.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Yn(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Yn(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=OI(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,BI(e),t))&&!(e.endAt&&!function(e,t,n){var r=OI(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,BI(e),t))}(e,t)}function QI(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function YI(e){return function(t,n){var r,i=!1,a=Yn(BI(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=$I(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function $I(e,t,n){var r=e.field.isKeyField()?Hw.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Gx(r,i):ww()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ww()}}function XI(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vx(t)?"-0":t}}function JI(e){return{integerValue:""+e}}function ZI(e,t){return Bx(t)?JI(t):XI(e,t)}var eE=rt((function e(){tt(this,e),this._=void 0}));function tE(e,t,n){return e instanceof iE?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof aE?oE(e,t):e instanceof uE?sE(e,t):function(e,t){var n=rE(e,t),r=lE(n)+lE(e.yt);return Jx(n)&&Jx(e.yt)?JI(r):XI(e.It,r)}(e,t)}function nE(e,t,n){return e instanceof aE?oE(e,t):e instanceof uE?sE(e,t):n}function rE(e,t){return e instanceof cE?Jx(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var iE=function(e){Wt(n,e);var t=$t(n);function n(){return tt(this,n),t.apply(this,arguments)}return rt(n)}(eE),aE=function(e){Wt(n,e);var t=$t(n);function n(e){var r;return tt(this,n),(r=t.call(this)).elements=e,r}return rt(n)}(eE);function oE(e,t){var n,r=fE(t),i=Yn(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Wx(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var uE=function(e){Wt(n,e);var t=$t(n);function n(e){var r;return tt(this,n),(r=t.call(this)).elements=e,r}return rt(n)}(eE);function sE(e,t){var n,r=fE(t),i=Yn(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Wx(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var cE=function(e){Wt(n,e);var t=$t(n);function n(e,r){var i;return tt(this,n),(i=t.call(this)).It=e,i.yt=r,i}return rt(n)}(eE);function lE(e){return Ox(e.integerValue||e.doubleValue)}function fE(e){return Zx(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var hE=rt((function e(t,n){tt(this,e),this.field=t,this.transform=n}));var dE=rt((function e(t,n){tt(this,e),this.version=t,this.transformResults=n})),pE=function(){function e(t,n){tt(this,e),this.updateTime=t,this.exists=n}return rt(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function vE(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var mE=rt((function e(){tt(this,e)}));function yE(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new NE(e.key,pE.none()):new xE(e.key,e.data,pE.none());var n,r=e.data,i=cI.empty(),a=new _x(Ww.comparator),o=Yn(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new IE(e.key,i,new Cx(a.toArray()),pE.none())}function gE(e,t,n){e instanceof xE?function(e,t,n){var r=e.value.clone(),i=_E(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof IE?function(e,t,n){if(vE(e.precondition,t)){var r=_E(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(EE(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function kE(e,t,n,r){return e instanceof xE?function(e,t,n,r){if(!vE(e.precondition,t))return n;var i=e.value.clone(),a=SE(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof IE?function(e,t,n,r){if(!vE(e.precondition,t))return n;var i=SE(e.fieldTransforms,r,t),a=t.data;return a.setAll(EE(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return vE(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function bE(e,t){var n,r=null,i=Yn(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=rE(a.transform,o||null);null!=u&&(null===r&&(r=cI.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function wE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&jw(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof aE&&t instanceof aE||e instanceof uE&&t instanceof uE?jw(e.elements,t.elements,Wx):e instanceof cE&&t instanceof cE?Wx(e.yt,t.yt):e instanceof iE&&t instanceof iE}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var xE=function(e){Wt(n,e);var t=$t(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return tt(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return rt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(mE),IE=function(e){Wt(n,e);var t=$t(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return tt(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return rt(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(mE);function EE(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function _E(e,t,n){var r=new Map;xw(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,nE(o,u,n[i]))}return r}function SE(e,t,n){var r,i=new Map,a=Yn(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,tE(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var TE,CE,NE=function(e){Wt(n,e);var t=$t(n);function n(e,r){var i;return tt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return rt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(mE),AE=function(e){Wt(n,e);var t=$t(n);function n(e,r){var i;return tt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return rt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(mE),DE=rt((function e(t){tt(this,e),this.count=t}));function OE(e){switch(e){default:return ww();case Ew.CANCELLED:case Ew.UNKNOWN:case Ew.DEADLINE_EXCEEDED:case Ew.RESOURCE_EXHAUSTED:case Ew.INTERNAL:case Ew.UNAVAILABLE:case Ew.UNAUTHENTICATED:return!1;case Ew.INVALID_ARGUMENT:case Ew.NOT_FOUND:case Ew.ALREADY_EXISTS:case Ew.PERMISSION_DENIED:case Ew.FAILED_PRECONDITION:case Ew.ABORTED:case Ew.OUT_OF_RANGE:case Ew.UNIMPLEMENTED:case Ew.DATA_LOSS:return!0}}function RE(e){if(void 0===e)return gw("GRPC error has no .code"),Ew.UNKNOWN;switch(e){case TE.OK:return Ew.OK;case TE.CANCELLED:return Ew.CANCELLED;case TE.UNKNOWN:return Ew.UNKNOWN;case TE.DEADLINE_EXCEEDED:return Ew.DEADLINE_EXCEEDED;case TE.RESOURCE_EXHAUSTED:return Ew.RESOURCE_EXHAUSTED;case TE.INTERNAL:return Ew.INTERNAL;case TE.UNAVAILABLE:return Ew.UNAVAILABLE;case TE.UNAUTHENTICATED:return Ew.UNAUTHENTICATED;case TE.INVALID_ARGUMENT:return Ew.INVALID_ARGUMENT;case TE.NOT_FOUND:return Ew.NOT_FOUND;case TE.ALREADY_EXISTS:return Ew.ALREADY_EXISTS;case TE.PERMISSION_DENIED:return Ew.PERMISSION_DENIED;case TE.FAILED_PRECONDITION:return Ew.FAILED_PRECONDITION;case TE.ABORTED:return Ew.ABORTED;case TE.OUT_OF_RANGE:return Ew.OUT_OF_RANGE;case TE.UNIMPLEMENTED:return Ew.UNIMPLEMENTED;case TE.DATA_LOSS:return Ew.DATA_LOSS;default:return ww()}}(CE=TE||(TE={}))[CE.OK=0]="OK",CE[CE.CANCELLED=1]="CANCELLED",CE[CE.UNKNOWN=2]="UNKNOWN",CE[CE.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",CE[CE.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",CE[CE.NOT_FOUND=5]="NOT_FOUND",CE[CE.ALREADY_EXISTS=6]="ALREADY_EXISTS",CE[CE.PERMISSION_DENIED=7]="PERMISSION_DENIED",CE[CE.UNAUTHENTICATED=16]="UNAUTHENTICATED",CE[CE.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",CE[CE.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",CE[CE.ABORTED=10]="ABORTED",CE[CE.OUT_OF_RANGE=11]="OUT_OF_RANGE",CE[CE.UNIMPLEMENTED=12]="UNIMPLEMENTED",CE[CE.INTERNAL=13]="INTERNAL",CE[CE.UNAVAILABLE=14]="UNAVAILABLE",CE[CE.DATA_LOSS=15]="DATA_LOSS";var PE=function(){function e(t,n){tt(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return rt(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Yn(n);try{for(i.s();!(r=i.n()).done;){var a=Be(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){bx(this.inner,(function(t,n){var r,i=Yn(n);try{for(i.s();!(r=i.n()).done;){var a=Be(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return wx(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),LE=new xx(Hw.comparator);function ME(){return LE}var FE=new xx(Hw.comparator);function jE(){for(var e=FE,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function UE(e){var t=FE;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function VE(){return zE()}function BE(){return zE()}function zE(){return new PE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var qE=new xx(Hw.comparator),KE=new _x(Hw.comparator);function WE(){for(var e=KE,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var HE=new _x(Fw);function GE(){return HE}var QE=function(){function e(t,n,r,i,a){tt(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return rt(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,YE.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Bw.min(),i,GE(),ME(),WE())}}]),e}(),YE=function(){function e(t,n,r,i,a){tt(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return rt(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,WE(),WE(),WE())}}]),e}(),$E=rt((function e(t,n,r,i){tt(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),XE=rt((function e(t,n){tt(this,e),this.targetId=t,this.At=n})),JE=rt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nx.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;tt(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),ZE=function(){function e(){tt(this,e),this.Rt=0,this.bt=n_(),this.Pt=Nx.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return rt(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=WE(),t=WE(),n=WE();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ww()}})),new YE(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=n_()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Ot",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Mt",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),e_=function(){function e(t){tt(this,e),this.Bt=t,this.Lt=new Map,this.Ut=ME(),this.qt=t_(),this.Kt=new _x(Fw)}return rt(e,[{key:"Gt",value:function(e){var t,n=Yn(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=Yn(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:ww()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(mI(i))if(0===n){var a=new Hw(i.path);this.jt(t,a,fI.newNoDocument(a,Bw.min()))}else xw(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&mI(a.target)){var o=new Hw(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,fI.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=WE();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new QE(e,n,this.Kt,this.Ut,r);return this.Ut=ME(),this.qt=t_(),this.Kt=new _x(Fw),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Mt",value:function(e){this.zt(e).Mt()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new ZE,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new _x(Fw),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||yw("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new ZE),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function t_(){return new xx(Hw.comparator)}function n_(){return new xx(Hw.comparator)}var r_={asc:"ASCENDING",desc:"DESCENDING"},i_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},a_=rt((function e(t,n){tt(this,e),this.databaseId=t,this.gt=n}));function o_(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function u_(e,t){return e.gt?t.toBase64():t.toUint8Array()}function s_(e,t){return o_(e,t.toTimestamp())}function c_(e){return xw(!!e),Bw.fromTimestamp(function(e){var t=Dx(e);return new Vw(t.seconds,t.nanos)}(e))}function l_(e,t){return function(e){return new qw(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function f_(e){var t=qw.fromString(e);return xw(P_(t)),t}function h_(e,t){return l_(e.databaseId,t.path)}function d_(e,t){var n=f_(t);if(n.get(1)!==e.databaseId.projectId)throw new _w(Ew.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new _w(Ew.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Hw(y_(n))}function p_(e,t){return l_(e.databaseId,t)}function v_(e){var t=f_(e);return 4===t.length?qw.emptyPath():y_(t)}function m_(e){return new qw(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function y_(e){return xw(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function g_(e,t,n){return{name:h_(e,t),fields:n.value.mapValue.fields}}function k_(e,t,n){var r=d_(e,t.name),i=c_(t.updateTime),a=new cI({mapValue:{fields:t.fields}}),o=fI.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function b_(e,t){return"found"in t?function(e,t){xw(!!t.found),t.found.name,t.found.updateTime;var n=d_(e,t.found.name),r=c_(t.found.updateTime),i=new cI({mapValue:{fields:t.found.fields}});return fI.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){xw(!!t.missing),xw(!!t.readTime);var n=d_(e,t.missing),r=c_(t.readTime);return fI.newNoDocument(n,r)}(e,t):ww()}function w_(e,t){var n;if(t instanceof xE)n={update:g_(e,t.key,t.value)};else if(t instanceof NE)n={delete:h_(e,t.key)};else if(t instanceof IE)n={update:g_(e,t.key,t.data),updateMask:R_(t.fieldMask)};else{if(!(t instanceof AE))return ww();n={verify:h_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof iE)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof aE)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof uE)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof cE)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw ww()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:s_(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ww()}(e,t.precondition)),n}function x_(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?pE.updateTime(c_(e.updateTime)):void 0!==e.exists?pE.exists(e.exists):pE.none()}(t.currentDocument):pE.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)xw("REQUEST_TIME"===t.setToServerValue),n=new iE;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new aE(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new uE(i)}else"increment"in t?n=new cE(e,t.increment):ww();var a=Ww.fromServerFormat(t.fieldPath);return new hE(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=d_(e,t.update.name),a=new cI({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Cx(t.map((function(e){return Ww.fromServerFormat(e)})))}(t.updateMask);return new IE(i,a,o,n,r)}return new xE(i,a,n,r)}if(t.delete){var u=d_(e,t.delete);return new NE(u,n)}if(t.verify){var s=d_(e,t.verify);return new AE(s,n)}return ww()}function I_(e,t){return{documents:[p_(e,t.path)]}}function E_(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=p_(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=p_(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(tI(e.value))return{unaryFilter:{field:N_(e.field),op:"IS_NAN"}};if(eI(e.value))return{unaryFilter:{field:N_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(tI(e.value))return{unaryFilter:{field:N_(e.field),op:"IS_NOT_NAN"}};if(eI(e.value))return{unaryFilter:{field:N_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:N_(e.field),op:C_(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:N_(e.field),direction:T_(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||Ux(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function __(e){var t=v_(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xw(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=S_(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new AI(A_(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Ux(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new NI(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new NI(n,t)}(n.endAt)),LI(t,i,u,o,s,"F",c,l)}function S_(e){return e?void 0!==e.unaryFilter?[O_(e)]:void 0!==e.fieldFilter?[D_(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return S_(e)})).reduce((function(e,t){return e.concat(t)})):ww():[]}function T_(e){return r_[e]}function C_(e){return i_[e]}function N_(e){return{fieldPath:e.canonicalString()}}function A_(e){return Ww.fromServerFormat(e.fieldPath)}function D_(e){return bI.create(A_(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ww()}}(e.fieldFilter.op),e.fieldFilter.value)}function O_(e){switch(e.unaryFilter.op){case"IS_NAN":var t=A_(e.unaryFilter.field);return bI.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=A_(e.unaryFilter.field);return bI.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=A_(e.unaryFilter.field);return bI.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=A_(e.unaryFilter.field);return bI.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ww()}}function R_(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function P_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function L_(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=F_(t)),t=M_(e.get(n),t);return F_(t)}function M_(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function F_(e){return e+"\x01\x01"}function j_(e){var t=e.length;if(xw(t>=2),2===t)return xw("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),qw.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&ww(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:ww()}a=o+2}return new qw(r)}var U_=["userId","batchId"];function V_(e,t){return[e,L_(t)]}function B_(e,t,n){return[e,L_(t),n]}var z_={},q_=["prefixPath","collectionGroup","readTime","documentId"],K_=["prefixPath","collectionGroup","documentId"],W_=["collectionGroup","readTime","prefixPath","documentId"],H_=["canonicalId","targetId"],G_=["targetId","path"],Q_=["path","targetId"],Y_=["collectionId","parent"],$_=["indexId","uid"],X_=["uid","sequenceNumber"],J_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Z_=["indexId","uid","orderedDocumentKey"],eS=["userId","collectionPath","documentId"],tS=["userId","collectionPath","largestBatchId"],nS=["userId","collectionGroup","largestBatchId"],rS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),iS=[].concat(et(rS),["documentOverlays"]),aS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],oS=aS,uS=[].concat(oS,["indexConfiguration","indexState","indexEntries"]),sS=function(e){Wt(n,e);var t=$t(n);function n(e,r){var i;return tt(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return rt(n)}(rx);function cS(e,t){var n=Iw(e);return sx.M(n.ie,t)}var lS=function(){function e(t,n,r,i){tt(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return rt(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&gE(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Yn(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=kE(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Yn(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=kE(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=BE();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=yE(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Bw.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),WE())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&jw(this.mutations,e.mutations,(function(e,t){return wE(e,t)}))&&jw(this.baseMutations,e.baseMutations,(function(e,t){return wE(e,t)}))}}]),e}(),fS=function(){function e(t,n,r,i){tt(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return rt(e,null,[{key:"from",value:function(t,n,r){xw(t.mutations.length===r.length);for(var i=qE,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),hS=function(){function e(t,n){tt(this,e),this.largestBatchId=t,this.mutation=n}return rt(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),dS=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Bw.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Bw.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Nx.EMPTY_BYTE_STRING;tt(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return rt(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),pS=rt((function e(t){tt(this,e),this.re=t}));function vS(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:mS(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:h_(e,t.key),fields:t.data.value.mapValue.fields,updateTime:o_(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:yS(t.version)};else{if(!t.isUnknownDocument())return ww();r.unknownDocument={path:n.path.toArray(),version:yS(t.version)}}return r}function mS(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function yS(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function gS(e){var t=new Vw(e.seconds,e.nanoseconds);return Bw.fromTimestamp(t)}function kS(e,t){for(var n=(t.baseMutations||[]).map((function(t){return x_(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return x_(e.re,t)})),u=Vw.fromMillis(t.localWriteTimeMs);return new lS(t.batchId,u,n,o)}function bS(e){var t,n,r=gS(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?gS(e.lastLimboFreeSnapshotVersion):Bw.min();return void 0!==e.query.documents?(xw(1===(n=e.query).documents.length),t=zI(MI(v_(n.documents[0])))):t=function(e){return zI(__(e))}(e.query),new dS(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Nx.fromBase64String(e.resumeToken))}function wS(e,t){var n,r=yS(t.snapshotVersion),i=yS(t.lastLimboFreeSnapshotVersion);n=mI(t.target)?I_(e.re,t.target):E_(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:pI(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function xS(e){var t=__({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?qI(t,t.limit,"L"):t}function IS(e,t){return new hS(t.largestBatchId,x_(e.re,t.overlayMutation))}function ES(e,t){var n=t.path.lastSegment();return[e,L_(t.path.popLast()),n]}function _S(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:yS(r.readTime),documentKey:L_(r.documentKey.path),largestBatchId:r.largestBatchId}}var SS=function(){function e(){tt(this,e)}return rt(e,[{key:"getBundleMetadata",value:function(e,t){return TS(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:gS(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return TS(e).put({bundleId:(n=t).id,createTime:yS(c_(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return CS(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:xS(t.bundledQuery),readTime:gS(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return CS(e).put(function(e){return{name:e.name,readTime:yS(c_(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function TS(e){return cS(e,"bundles")}function CS(e){return cS(e,"namedQueries")}var NS=function(){function e(t,n){tt(this,e),this.It=t,this.userId=n}return rt(e,[{key:"getOverlay",value:function(e,t){var n=this;return AS(e).get(ES(this.userId,t)).next((function(e){return e?IS(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=VE();return ox.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new hS(t,a);i.push(r.ue(e,o))})),ox.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(L_(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(AS(e).Y("collectionPathOverlayIndex",i))})),ox.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=VE(),a=L_(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return AS(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=Yn(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=IS(r.It,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=VE(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return AS(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=IS(a.It,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return AS(e).put(function(e,t,n){var r=Be(ES(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:w_(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function AS(e){return cS(e,"documentOverlays")}var DS=function(){function e(){tt(this,e)}return rt(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Ox(e.integerValue));else if("doubleValue"in e){var n=Ox(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),Vx(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Rx(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?iI(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):ww()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=Yn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),Hw.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function OS(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function RS(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=OS(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}DS.Te=new DS;var PS=function(){function e(){tt(this,e),this.buffer=new Uint8Array(1024),this.position=0}return rt(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=Yn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=Yn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=RS(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=RS(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Oe(255),this.Oe(255)}},{key:"Me",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Oe(0),this.Oe(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Oe",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),LS=function(){function e(t){tt(this,e),this.Be=t}return rt(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),MS=function(){function e(t){tt(this,e),this.Be=t}return rt(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Me()}}]),e}(),FS=function(){function e(){tt(this,e),this.Be=new PS,this.Le=new LS(this.Be),this.Ue=new MS(this.Be)}return rt(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),jS=function(){function e(t,n,r,i){tt(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return rt(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function US(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=VS(e.arrayValue,t.arrayValue))?n:0!==(n=VS(e.directionalValue,t.directionalValue))?n:Hw.comparator(e.documentKey,t.documentKey)}function VS(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var BS=function(){function e(t){tt(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=Yn(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return rt(e,[{key:"We",value:function(e){var t=Qw(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=Yw(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=Yn(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),zS=function(){function e(){tt(this,e),this.Ye=new qS}return rt(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),ox.resolve()}},{key:"getCollectionParents",value:function(e,t){return ox.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ox.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ox.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ox.resolve(null)}},{key:"getIndexType",value:function(e,t){return ox.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return ox.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ox.resolve(null)}},{key:"getMinOffset",value:function(e,t){return ox.resolve(ex.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return ox.resolve(ex.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return ox.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ox.resolve()}}]),e}(),qS=function(){function e(){tt(this,e),this.index={}}return rt(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new _x(qw.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new _x(qw.comparator)).toArray()}}]),e}(),KS=new Uint8Array(0),WS=function(){function e(t,n){tt(this,e),this.user=t,this.databaseId=n,this.Xe=new qS,this.Ze=new PE((function(e){return pI(e)}),(function(e,t){return vI(e,t)})),this.uid=t.uid||""}return rt(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:L_(i)};return HS(e).put(a)}return ox.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Uw(t),""],!1,!0);return HS(e).W(r).next((function(e){var r,i=Yn(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(j_(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=QS(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=YS(e);return a.next((function(e){o.put(_S(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=QS(e),r=YS(e),i=GS(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=GS(e),i=!0,a=new Map;return ox.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=WE(),o=[];return ox.forEach(a,(function(i,a){var u;yw("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(pI(t)));var s=function(e,t){var n=Qw(t);if(void 0===n)return null;var r,i=Yn(yI(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Yn(Yw(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Yn(yI(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Yn(Yw(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?gI(e,o.fieldPath,e.startAt):kI(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new NI(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Yn(Yw(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?kI(e,o.fieldPath,e.endAt):gI(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new NI(r,i)}(a,i),h=n.nn(i,a,l),d=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return ox.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Hw.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return ox.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.on(t[s/c]):KS,h=u.un(e,f,n[s%c],r),d=u.cn(e,f,i[s%c],a),p=o.map((function(t){return u.un(e,f,t,!0)}));l.push.apply(l,et(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"un",value:function(e,t,n,r){var i=new jS(e,Hw.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new jS(e,Hw.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new BS(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Yn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return ox.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new _x(Ww.comparator),r=!1,i=Yn(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=Yn(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new FS,i=Yn(Yw(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);DS.Te.ce(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new FS;return DS.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new FS;return DS.Te.ce(Xx(this.databaseId,t),n.qe(function(e){var t=Yw(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new FS);var i,a=0,o=Yn(Yw(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Yn(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.ln(t,s.fieldPath)&&Zx(c))r=this.fn(r,s,c);else{var h=f.qe(s.kind);DS.Te.ce(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=et(e),a=[],o=Yn(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Yn(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new FS;f.seed(l.$e()),DS.Te.ce(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof bI&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=QS(e),i=YS(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return ox.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Xw(t.sequenceNumber,new ex(gS(t.readTime),new Hw(j_(t.documentKey)),t.largestBatchId)):Xw.empty(),r=e.fields.map((function(e){var t=Be(e,2),n=t[0],r=t[1];return new $w(Ww.fromServerFormat(n),r)}));return new Gw(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Fw(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=QS(e),a=YS(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return ox.forEach(t,(function(t){return a.put(_S(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return ox.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?ox.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),ox.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?ox.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return GS(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return GS(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=GS(e),i=new _x(US);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new jS(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new _x(US),r=this.an(t,e);if(null==r)return n;var i=Qw(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Zx(a)){var o,u=Yn(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new jS(t.indexId,e.key,this.on(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new jS(t.indexId,e.key,KS,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;yw("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Tx(a),s=Tx(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Tx(o)):l?(i(u),u=Tx(a)):(u=Tx(a),s=Tx(o))}}(r,i,US,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),ox.waitFor(o)}},{key:"_n",value:function(e){var t=1;return YS(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return US(e,t)})).filter((function(e,t,n){return!t||0!==US(e,n[t-1])}));var r=[];r.push(e);var i,a=Yn(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=US(o,e),s=US(o,t);if(0===u)r[0]=e.Ke();else if(u>0&&s<0)r.push(o),r.push(o.Ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,KS,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,KS,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next($S)}},{key:"getMinOffset",value:function(e,t){var n=this;return ox.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||ww()}))})).next($S)}}]),e}();function HS(e){return cS(e,"collectionParents")}function GS(e){return cS(e,"indexEntries")}function QS(e){return cS(e,"indexConfiguration")}function YS(e){return cS(e,"indexState")}function $S(e){xw(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;tx(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ex(t.readTime,t.documentKey,n)}var XS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JS=function(){function e(t,n,r){tt(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return rt(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function ZS(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){xw(1===u)})));var c,l=[],f=Yn(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=B_(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return ox.waitFor(a).next((function(){return l}))}function eT(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ww();t=e.noDocument}return JSON.stringify(t).length}JS.DEFAULT_COLLECTION_PERCENTILE=10,JS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,JS.DEFAULT=new JS(41943040,JS.DEFAULT_COLLECTION_PERCENTILE,JS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),JS.DISABLED=new JS(-1,0,0);var tT=function(){function e(t,n,r,i){tt(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return rt(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rT(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=iT(e),o=rT(e);return o.add({}).next((function(u){xw("number"==typeof u);var s,c=new lS(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return w_(e.re,t)})),i=n.mutations.map((function(t){return w_(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],h=new _x((function(e,t){return Fw(e.canonicalString(),t.canonicalString())})),d=Yn(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=B_(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,z_))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),ox.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return rT(e).get(t).next((function(e){return e?(xw(e.userId===n.userId),kS(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?ox.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return rT(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(xw(t.batchId>=r),a=kS(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return rT(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rT(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return kS(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=V_(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return iT(e).Z({range:i},(function(r,i,o){var u=Be(r,3),s=u[0],c=u[1],l=u[2],f=j_(c);if(s===n.userId&&t.path.isEqual(f))return rT(e).get(l).next((function(e){if(!e)throw ww();xw(e.userId===n.userId),a.push(kS(n.It,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new _x(Fw),i=[];return t.forEach((function(t){var a=V_(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=iT(e).Z({range:o},(function(e,i,a){var o=Be(e,3),u=o[0],s=o[1],c=o[2],l=j_(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),ox.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=V_(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new _x(Fw);return iT(e).Z({range:o},(function(e,t,a){var o=Be(e,3),s=o[0],c=o[1],l=o[2],f=j_(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(rT(e).get(t).next((function(e){if(null===e)throw ww();xw(e.userId===n.userId),r.push(kS(n.It,e))})))})),ox.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return ZS(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),ox.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ox.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return iT(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=j_(e[1]);i.push(a)}else r.done()})).next((function(){xw(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return nT(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return aT(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return xw(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function nT(e,t,n){var r=V_(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return iT(e).Z({range:a,X:!0},(function(e,n,r){var a=Be(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function rT(e){return cS(e,"mutations")}function iT(e){return cS(e,"documentMutations")}function aT(e){return cS(e,"mutationQueues")}var oT=function(){function e(t){tt(this,e),this.bn=t}return rt(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),uT=function(){function e(t,n){tt(this,e),this.referenceDelegate=t,this.It=n}return rt(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new oT(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return Bw.fromTimestamp(new Vw(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return sT(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return xw(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return sT(e).Z((function(o,u){var s=bS(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return ox.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return sT(e).Z((function(e,n){var r=bS(n);t(r)}))}},{key:"Vn",value:function(e){return cT(e).get("targetGlobalKey").next((function(e){return xw(null!==e),e}))}},{key:"Sn",value:function(e,t){return cT(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return sT(e).put(wS(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=pI(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return sT(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=bS(n);vI(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=lT(e);return t.forEach((function(t){var o=L_(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),ox.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=lT(e);return ox.forEach(t,(function(t){var a=L_(t.path);return ox.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=lT(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=lT(e),i=WE();return r.Z({range:n,X:!0},(function(e,t,n){var r=j_(e[1]),a=new Hw(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=L_(t.path),r=IDBKeyRange.bound([n],[Uw(n)],!1,!0),i=0;return lT(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=Be(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return sT(e).get(t).next((function(e){return e?bS(e):null}))}}]),e}();function sT(e){return cS(e,"targets")}function cT(e){return cS(e,"targetGlobal")}function lT(e){return cS(e,"targetDocuments")}function fT(e,t){var n=Be(e,2),r=n[0],i=n[1],a=Be(t,2),o=a[0],u=a[1],s=Fw(r,o);return 0===s?Fw(i,u):s}var hT=function(){function e(t){tt(this,e),this.xn=t,this.buffer=new _x(fT),this.Nn=0}return rt(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();fT(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),dT=function(){function e(t,n,r){tt(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return rt(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;yw("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!fx(e.t0)){e.next=12;break}yw("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,ix(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),pT=function(){function e(t,n){tt(this,e),this.$n=t,this.params=n}return rt(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ox.resolve(gx.at);var r=new hT(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(yw("LruGarbageCollector","Garbage collection skipped; disabled"),ox.resolve(XS)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(yw("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),XS):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(yw("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),mw()<=Ns.DEBUG&&yw("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),ox.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),vT=function(){function e(t,n){tt(this,e),this.db=t,this.garbageCollector=function(e,t){return new pT(e,t)}(this,n)}return rt(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return mT(e,n)}},{key:"removeReference",value:function(e,t,n){return mT(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return mT(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return aT(e).tt((function(r){return nT(e,r,t).next((function(e){return e&&(n=!0),ox.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Bw.min()),lT(e).delete([0,L_(o.path)])}))}));i.push(s)}})).next((function(){return ox.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return mT(e,t)}},{key:"Kn",value:function(e,t){var n,r=lT(e),i=gx.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=Be(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==gx.at&&t(new Hw(j_(n)),i),i=s,n=u):i=gx.at})).next((function(){i!==gx.at&&t(new Hw(j_(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function mT(e,t){return lT(e).put(function(e,t){return{targetId:0,path:L_(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var yT=function(){function e(){tt(this,e),this.changes=new PE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return rt(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,fI.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ox.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),gT=function(){function e(t){tt(this,e),this.It=t}return rt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return xT(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return xT(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],mS(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=fI.newInvalidDocument(t);return xT(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(IT(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:fI.newInvalidDocument(t)};return xT(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(IT(t))},(function(e,i){r={document:n.jn(t,i),size:eT(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=ME();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=ME(),i=new xx(Hw.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,eT(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return ox.resolve();var r=new _x(_T);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(IT(r.first()),IT(r.last())),a=r.getIterator(),o=a.getNext();return xT(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Hw.fromSegments([].concat(et(t.prefixPath),[t.collectionGroup,t.documentId]));o&&_T(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(IT(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),mS(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xT(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=ME(),i=Yn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(Hw.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=ME(),o=ET(t,n),u=ET(t,ex.max());return xT(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(Hw.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new bT(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return wT(e).get("remoteDocumentGlobalKey").next((function(e){return xw(!!e),e}))}},{key:"Qn",value:function(e,t){return wT(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=k_(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Hw.fromSegments(t.noDocument.path),i=gS(t.noDocument.readTime);n=fI.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ww();var a=Hw.fromSegments(t.unknownDocument.path),o=gS(t.unknownDocument.version);n=fI.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Vw(e[0],e[1]);return Bw.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(Bw.min()))return n}return fI.newInvalidDocument(e)}}]),e}();function kT(e){return new gT(e)}var bT=function(e){Wt(n,e);var t=$t(n);function n(e,r){var i;return tt(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new PE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return rt(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new _x((function(e,t){return Fw(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=vS(t.Yn.It,o);i=i.add(a.path.popLast());var c=eT(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=vS(t.Yn.It,o.convertToNoDocument(Bw.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),ox.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(yT);function wT(e){return cS(e,"remoteDocumentGlobal")}function xT(e){return cS(e,"remoteDocumentsV14")}function IT(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ET(e,t){var n=t.documentKey.path.toArray();return[e,mS(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function _T(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Fw(n[a],r[a]))return i;return(i=Fw(n.length,r.length))||((i=Fw(n[n.length-2],r[r.length-2]))||Fw(n[n.length-1],r[r.length-1]))}var ST=rt((function e(t,n){tt(this,e),this.overlayedDocument=t,this.mutatedFields=n})),TT=function(){function e(t,n,r,i){tt(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return rt(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&kE(r.mutation,e,Cx.empty(),Vw.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,WE()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:WE(),i=VE();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=jE();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=VE();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,WE())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=ME(),a=zE(),o=zE();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof IE)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),kE(o.mutation,t,o.mutation.getFieldMask(),Vw.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new ST(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=zE(),i=new xx((function(e,t){return e-t})),a=WE();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Yn(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Cx.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||WE()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=BE();c.forEach((function(e){if(!a.has(e)){var n=yE(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return ox.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Hw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):VI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):ox.resolve(VE()),u=-1,s=a;return o.next((function(t){return ox.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?ox.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,WE())})).next((function(e){return{batchId:u,changes:UE(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Hw(t)).next((function(e){var t=jE();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=jE();return this.indexManager.getCollectionParents(e,i).next((function(o){return ox.forEach(o,(function(o){var u=function(e,t){return new PI(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,fI.newInvalidDocument(n)))}));var n=jE();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&kE(a.mutation,i,Cx.empty(),Vw.now()),GI(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):ox.resolve(fI.newInvalidDocument(t))}}]),e}(),CT=function(){function e(t){tt(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return rt(e,[{key:"getBundleMetadata",value:function(e,t){return ox.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:c_(n.createTime)}),ox.resolve()}},{key:"getNamedQuery",value:function(e,t){return ox.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:xS(e.bundledQuery),readTime:c_(e.readTime)}}(t)),ox.resolve()}}]),e}(),NT=function(){function e(){tt(this,e),this.overlays=new xx(Hw.comparator),this.es=new Map}return rt(e,[{key:"getOverlay",value:function(e,t){return ox.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=VE();return ox.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),ox.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),ox.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=VE(),i=t.length+1,a=new Hw(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return ox.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new xx((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=VE(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=VE(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return ox.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new hS(t,n));var a=this.es.get(t);void 0===a&&(a=WE(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),AT=function(){function e(){tt(this,e),this.ns=new _x(DT.ss),this.rs=new _x(DT.os)}return rt(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new DT(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new DT(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Hw(new qw([])),r=new DT(n,e),i=new DT(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Hw(new qw([])),n=new DT(t,e),r=new DT(t,e+1),i=WE();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new DT(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),DT=function(){function e(t,n){tt(this,e),this.key=t,this._s=n}return rt(e,null,[{key:"ss",value:function(e,t){return Hw.comparator(e.key,t.key)||Fw(e._s,t._s)}},{key:"os",value:function(e,t){return Fw(e._s,t._s)||Hw.comparator(e.key,t.key)}}]),e}(),OT=function(){function e(t,n){tt(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new _x(DT.ss)}return rt(e,[{key:"checkEmpty",value:function(e){return ox.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new lS(i,t,n,r);this.mutationQueue.push(a);var o,u=Yn(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new DT(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return ox.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ox.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return ox.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ox.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return ox.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new DT(t,0),i=new DT(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),ox.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new _x(Fw);return t.forEach((function(e){var t=new DT(e,0),i=new DT(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),ox.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Hw.isDocumentKey(i)||(i=i.child(""));var a=new DT(new Hw(i),0),o=new _x(Fw);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),ox.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;xw(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return ox.forEach(t.mutations,(function(i){var a=new DT(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new DT(t,0),r=this.gs.firstAfterOrEqual(n);return ox.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,ox.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),RT=function(){function e(t){tt(this,e),this.Es=t,this.docs=new xx(Hw.comparator),this.size=0}return rt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ox.resolve(n?n.document.mutableCopy():fI.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=ME();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():fI.newInvalidDocument(e))})),ox.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=ME(),i=new Hw(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||tx(Zw(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return ox.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){ww()}},{key:"As",value:function(e,t){return ox.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new PT(this)}},{key:"getSize",value:function(e){return ox.resolve(this.size)}}]),e}(),PT=function(e){Wt(n,e);var t=$t(n);function n(e){var r;return tt(this,n),(r=t.call(this)).Yn=e,r}return rt(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),ox.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(yT),LT=function(){function e(t){tt(this,e),this.persistence=t,this.Rs=new PE((function(e){return pI(e)}),vI),this.lastRemoteSnapshotVersion=Bw.min(),this.highestTargetId=0,this.bs=0,this.Ps=new AT,this.targetCount=0,this.vs=oT.Pn()}return rt(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),ox.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ox.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ox.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),ox.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),ox.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new oT(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,ox.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),ox.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ox.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ox.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ox.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return ox.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),ox.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ox.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),ox.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return ox.resolve(n)}},{key:"containsKey",value:function(e,t){return ox.resolve(this.Ps.containsKey(t))}}]),e}(),MT=function(){function e(t,n){var r=this;tt(this,e),this.Vs={},this.overlays={},this.Ss=new gx(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new LT(this),this.indexManager=new zS,this.remoteDocumentCache=new RT((function(e){return r.referenceDelegate.xs(e)})),this.It=new pS(n),this.Ns=new CT(this.It)}return rt(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new NT,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new OT(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;yw("MemoryPersistence","Starting transaction:",e);var i=new FT(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return ox.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),FT=function(e){Wt(n,e);var t=$t(n);function n(e){var r;return tt(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return rt(n)}(rx),jT=function(){function e(t){tt(this,e),this.persistence=t,this.Fs=new AT,this.$s=null}return rt(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw ww()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),ox.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),ox.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),ox.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ox.forEach(this.Ls,(function(r){var i=Hw.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,Bw.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return ox.or([function(){return ox.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),UT=function(){function e(t){tt(this,e),this.It=t}return rt(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new ux("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",U_,{unique:!0}),e.createObjectStore("documentMutations")}(e),VT(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=ox.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),VT(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bw.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",U_,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return ox.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:eS});t.createIndex("collectionPathOverlayIndex",tS,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",nS,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:q_});t.createIndex("documentKeyIndex",K_),t.createIndex("collectionGroupIndex",W_)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:$_}).createIndex("sequenceNumberIndex",X_,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:J_}).createIndex("documentKeyIndex",Z_,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=eT(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return ox.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return ox.forEach(r,(function(r){xw(r.userId===n.userId);var i=kS(t.It,r);return ZS(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new qw(n),o=function(e){return[0,L_(e)]}(a);r.push(t.get(o).next((function(n){return n?ox.resolve():function(n){return t.put({targetId:0,path:L_(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return ox.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Y_});var n=t.store("collectionParents"),r=new qS,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:L_(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new qw(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=Be(e,3),r=(n[0],n[1]),a=(n[2],j_(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=bS(r),a=wS(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Hw(qw.fromString(i.document.name).popFirst(5)):i.noDocument?Hw.fromSegments(i.noDocument.path):i.unknownDocument?Hw.fromSegments(i.unknownDocument.path):ww()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return ox.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=kT(this.It),a=new MT(jT.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:WE();kS(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),ox.forEach(r,(function(e,r){var o=new dw(r),u=NS.oe(n.It,o),s=a.getIndexManager(o),c=tT.oe(o,n.It,s,a.referenceDelegate);return new TT(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new sS(t,gx.at),e).next()}))}))}}]),e}();function VT(e){e.createObjectStore("targetDocuments",{keyPath:G_}).createIndex("documentTargetsIndex",Q_,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",H_,{unique:!0}),e.createObjectStore("targetGlobal")}var BT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",zT=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(tt(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new _w(Ew.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vT(this,i),this.ii=n+"main",this.It=new pS(s),this.ri=new sx(this.ii,this.Xs,new UT(this.It)),this.Cs=new uT(this.referenceDelegate,this.It),this.remoteDocumentCache=kT(this.It),this.Ns=new SS,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&gw("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return rt(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new _w(Ew.FAILED_PRECONDITION,BT);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new gx(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=Es(xs().mark((function n(r){return xs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=Es(xs().mark((function t(n){return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return KT(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(fx(t))return yw("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return yw("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return qT(e).get("owner").next((function(e){return ox.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return KT(e).delete(this.clientId)}},{key:"yi",value:function(){var e=Es(xs().mark((function e(){var t,n,r,i,a=this;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=cS(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ox.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=Yn(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?ox.resolve(!0):qT(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new _w(Ew.FAILED_PRECONDITION,BT);return!1}}return!(!t.networkEnabled||!t.inForeground)||KT(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&yw("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Es(xs().mark((function e(){var t=this;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new sS(e,gx.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return KT(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return tT.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new WS(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return NS.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;yw("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?uS:14===i?oS:13===i?aS:12===i?iS:11===i?rS:void ww();return this.ri.runTransaction(e,o,u,(function(i){return a=new sS(i,r.Ss?r.Ss.next():gx.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw gw("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new _w(Ew.FAILED_PRECONDITION,nx);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return qT(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new _w(Ew.FAILED_PRECONDITION,BT)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qT(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=qT(e);return n.get("owner").next((function(e){return t.mi(e)?(yw("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ox.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(gw("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!Ju()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return yw("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return gw("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(xy){gw("Failed to set zombie client id.",xy)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(xy){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return sx.C()}}]),e}();function qT(e){return cS(e,"owner")}function KT(e){return cS(e,"clientMetadata")}function WT(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var HT=function(){function e(t,n,r,i){tt(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return rt(e,null,[{key:"Ci",value:function(t,n){var r,i=WE(),a=WE(),o=Yn(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),GT=function(){function e(){tt(this,e),this.xi=!1}return rt(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(FI(t))return ox.resolve(null);var r=zI(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=qI(t,null,"F"),r=zI(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=WE.apply(void 0,et(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,qI(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return FI(t)||r.isEqual(Bw.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(mw()<=Ns.DEBUG&&yw("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),HI(t)),i.Bi(e,o,t,Jw(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new _x(YI(e));return t.forEach((function(t,r){GI(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return mw()<=Ns.DEBUG&&yw("QueryEngine","Using full collection scan to execute query:",HI(t)),this.Ni.getDocumentsMatchingQuery(e,t,ex.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),QT=function(){function e(t,n,r,i){tt(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new xx(Fw),this.qi=new PE((function(e){return pI(e)}),vI),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return rt(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TT(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function YT(e,t,n,r){return new QT(e,t,n,r)}function $T(e,t){return XT.apply(this,arguments)}function XT(){return XT=Es(xs().mark((function e(t,n){var r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Iw(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=WE(),s=Yn(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Yn(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Yn(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Yn(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),XT.apply(this,arguments)}function JT(e,t){var n=Iw(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ox.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);xw(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=WE(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function ZT(e){var t=Iw(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function eC(e,t){var n=Iw(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Nx.EMPTY_BYTE_STRING,Bw.min()).withLastLimboFreeSnapshotVersion(Bw.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=ME(),s=WE();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(tC(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(Bw.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return ox.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function tC(e,t,n){var r=WE(),i=WE();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=ME();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Bw.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):yw("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function nC(e,t){var n=Iw(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function rC(e,t){var n=Iw(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,ox.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new dS(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function iC(e,t,n){return aC.apply(this,arguments)}function aC(){return aC=Es(xs().mark((function e(t,n,r){var i,a,o;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Iw(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),fx(e.t1)){e.next=12;break}throw e.t1;case 12:yw("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),aC.apply(this,arguments)}function oC(e,t,n){var r=Iw(e),i=Bw.min(),a=WE();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Iw(e),i=r.qi.get(n);return void 0!==i?ox.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,zI(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Bw.min(),n?a:WE())})).next((function(e){return cC(r,QI(t),e),{documents:e,Hi:a}}))}))}function uC(e,t){var n=Iw(e),r=Iw(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function sC(e,t){var n=Iw(e),r=n.Ki.get(t)||Bw.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,Jw(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return cC(n,t,e),e}))}function cC(e,t,n){var r=e.Ki.get(t)||Bw.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function lC(e,t,n,r){return fC.apply(this,arguments)}function fC(){return fC=Es(xs().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Iw(t),o=WE(),u=ME(),s=Yn(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,rC(a,function(e){return zI(MI(qw.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return tC(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),fC.apply(this,arguments)}function hC(e,t){return dC.apply(this,arguments)}function dC(){return dC=Es(xs().mark((function e(t,n){var r,i,a,o=arguments;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:WE(),e.next=3,rC(t,zI(xS(n.bundledQuery)));case 3:return i=e.sent,a=Iw(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=c_(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(Nx.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),dC.apply(this,arguments)}function pC(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function vC(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function mC(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var yC=function(){function e(t,n,r,i){tt(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return rt(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new _w(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(gw("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),gC=function(){function e(t,n,r){tt(this,e),this.targetId=t,this.state=n,this.error=r}return rt(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new _w(i.error.code,i.error.message))),a?new e(t,i.state,r):(gw("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),kC=function(){function e(t,n){tt(this,e),this.clientId=t,this.activeTargetIds=n}return rt(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=GE(),o=0;i&&o<r.activeTargetIds.length;++o)i=Bx(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(gw("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),bC=function(){function e(t,n){tt(this,e),this.clientId=t,this.onlineState=n}return rt(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(gw("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),wC=function(){function e(){tt(this,e),this.activeTargetIds=GE()}return rt(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),xC=function(){function e(t,n,r,i,a){tt(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new xx(Fw),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=pC(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new wC),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return rt(e,[{key:"start",value:function(){var e=Es(xs().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=Yn(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(pC(this.persistenceKey,i)))&&(o=kC.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=Yn(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(mC(this.persistenceKey,e));if(n){var r=gC.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(mC(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return yw("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){yw("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){yw("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(yw("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void gw("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(Es(xs().mark((function e(){var r,i,a,o,u,s,c;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=gx.at;if(null!=e)try{var n=JSON.parse(e);xw("number"==typeof n),t=n}catch(e){gw("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==gx.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new yC(this.currentUser,e,t,n),i=vC(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=vC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=mC(this.persistenceKey,e),i=new gC(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return kC.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return yC.Zi(new dw(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return gC.Zi(r,t)}},{key:"yr",value:function(e){return bC.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:yw("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=GE();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),IC=function(){function e(){tt(this,e),this.Lr=new wC,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return rt(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new wC,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),EC=function(){function e(){tt(this,e)}return rt(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),_C=function(){function e(){var t=this;tt(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return rt(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){yw("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Yn(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){yw("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Yn(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),SC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},TC=function(){function e(t){tt(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return rt(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),CC=function(e){Wt(n,e);var t=$t(n);function n(e){var r;return tt(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return rt(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new fw;o.setWithCredentials(!0),o.listenOnce(ow.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case aw.NO_ERROR:var t=o.getResponseJson();yw("Connection","XHR received:",JSON.stringify(t)),i(t);break;case aw.TIMEOUT:yw("Connection",'RPC "'+e+'" timed out'),a(new _w(Ew.DEADLINE_EXCEEDED,"Request time out"));break;case aw.HTTP_ERROR:var n=o.getStatus();if(yw("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ew).indexOf(t)>=0?t:Ew.UNKNOWN}(r.status);a(new _w(u,r.message))}else a(new _w(Ew.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new _w(Ew.UNAVAILABLE,"Connection failed."));break;default:ww()}}finally{yw("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=rw(),a=iw(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new cw({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");yw("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new TC({Hr:function(e){l?yw("Connection","Not sending because WebChannel is closed:",e):(c||(yw("Connection","Opening WebChannel transport."),s.open(),c=!0),yw("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,lw.EventType.OPEN,(function(){l||yw("Connection","WebChannel transport opened.")})),h(s,lw.EventType.CLOSE,(function(){l||(l=!0,yw("Connection","WebChannel transport closed"),f.io())})),h(s,lw.EventType.ERROR,(function(e){l||(l=!0,kw("Connection","WebChannel transport errored:",e),f.io(new _w(Ew.UNAVAILABLE,"The operation could not be completed")))})),h(s,lw.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];xw(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){yw("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=TE[e];if(void 0!==t)return RE(t)}(a),u=i.message;void 0===o&&(o=Ew.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new _w(o,u)),s.close()}else yw("Connection","WebChannel received:",n),f.ro(n)}})),h(a,uw.STAT_EVENT,(function(e){e.stat===sw.PROXY?yw("Connection","Detected buffering proxy"):e.stat===sw.NOPROXY&&yw("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){tt(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return rt(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);yw("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return yw("RestConnection","Received: ",e),e}),(function(t){throw kw("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+pw,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=SC[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function NC(){return"undefined"!=typeof window?window:null}function AC(){return"undefined"!=typeof document?document:null}function DC(e){return new a_(e,!0)}var OC=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;tt(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return rt(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&yw("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),RC=function(){function e(t,n,r,i,a,o,u,s){tt(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new OC(t,n)}return rt(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Ew.RESOURCE_EXHAUSTED?(gw(n.toString()),gw("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===Ew.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Be(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new _w(Ew.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(Es(xs().mark((function t(){return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return yw("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(yw("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),PC=function(e){Wt(n,e);var t=$t(n);function n(e,r,i,a,o,u){var s;return tt(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return rt(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ww()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(xw(void 0===t||"string"==typeof t),Nx.fromBase64String(t||"")):(xw(void 0===t||t instanceof Uint8Array),Nx.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Ew.UNKNOWN:RE(e.code);return new _w(t,e.message||"")}(o);n=new JE(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=d_(e,s.document.name),l=c_(s.document.updateTime),f=new cI({mapValue:{fields:s.document.fields}}),h=fI.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new $E(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=d_(e,v.document),y=v.readTime?c_(v.readTime):Bw.min(),g=fI.newNoDocument(m,y),k=v.removedTargetIds||[];n=new $E([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=d_(e,b.document),x=b.removedTargetIds||[];n=new $E([],x,w,null)}else{if(!("filter"in t))return ww();t.filter;var I=t.filter;I.targetId;var E=I.count||0,_=new DE(E),S=I.targetId;n=new XE(S,_)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return Bw.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Bw.min():t.readTime?c_(t.readTime):Bw.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=m_(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=mI(r)?{documents:I_(e,r)}:{query:E_(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=u_(e,t.resumeToken):t.snapshotVersion.compareTo(Bw.min())>0&&(n.readTime=o_(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ww()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=m_(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(RC),LC=function(e){Wt(n,e);var t=$t(n);function n(e,r,i,a,o,u){var s;return tt(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Jo=!1,s}return rt(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Kt(zt(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(xw(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(xw(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?c_(e.updateTime):c_(t);return n.isEqual(Bw.min())&&(n=c_(t)),new dE(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=c_(e.commitTime);return this.listener.Zo(n,t)}return xw(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=m_(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return w_(t.It,e)}))};this.Bo(n)}}]),n}(RC),MC=function(e){Wt(n,e);var t=$t(n);function n(e,r,i,a){var o;return tt(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.It=a,o.nu=!1,o}return rt(n,[{key:"su",value:function(){if(this.nu)throw new _w(Ew.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Be(i,2),o=a[0],u=a[1];return r.connection.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ew.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new _w(Ew.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=Be(a,2),u=o[0],s=o[1];return i.connection._o(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ew.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new _w(Ew.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return rt((function e(){tt(this,e)}))}());var FC=function(){function e(t,n){tt(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return rt(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(gw(t),this.ou=!1):yw("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),jC=rt((function e(t,n,r,i,a){var o=this;tt(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=YC(o),!e.t0){e.next=5;break}return yw("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Es(xs().mark((function e(t){var n;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Iw(t))._u.add(4),e.next=4,BC(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,UC(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new FC(r,i)}));function UC(e){return VC.apply(this,arguments)}function VC(){return VC=Es(xs().mark((function e(t){var n,r,i;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!YC(t)){e.next=18;break}n=Yn(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),VC.apply(this,arguments)}function BC(e){return zC.apply(this,arguments)}function zC(){return zC=Es(xs().mark((function e(t){var n,r,i;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Yn(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),zC.apply(this,arguments)}function qC(e,t){var n=Iw(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),QC(n)?GC(n):EN(n).ko()&&WC(n,t))}function KC(e,t){var n=Iw(e),r=EN(n);n.du.delete(t),r.ko()&&HC(n,t),0===n.du.size&&(r.ko()?r.Fo():YC(n)&&n.gu.set("Unknown"))}function WC(e,t){e.yu.Mt(t.targetId),EN(e).zo(t)}function HC(e,t){e.yu.Mt(t),EN(e).Ho(t)}function GC(e){e.yu=new e_({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),EN(e).start(),e.gu.uu()}function QC(e){return YC(e)&&!EN(e).No()&&e.du.size>0}function YC(e){return 0===Iw(e)._u.size}function $C(e){e.yu=void 0}function XC(e){return JC.apply(this,arguments)}function JC(){return JC=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){WC(t,e)}));case 1:case"end":return e.stop()}}),e)}))),JC.apply(this,arguments)}function ZC(e,t){return eN.apply(this,arguments)}function eN(){return eN=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$C(t),QC(t)?(t.gu.hu(n),GC(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),eN.apply(this,arguments)}function tN(e,t,n){return nN.apply(this,arguments)}function nN(){return nN=Es(xs().mark((function e(t,n,r){var i;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof JE&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Es(xs().mark((function e(t,n){var r,i,a,o;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Yn(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),yw("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,rN(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof $E?t.yu.Gt(n):n instanceof XE?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(Bw.min())){e.next=29;break}return e.prev=14,e.next=17,ZT(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Nx.EMPTY_BYTE_STRING,n.snapshotVersion)),HC(e,t);var r=new dS(n.target,t,1,n.sequenceNumber);WC(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),yw("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,rN(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),nN.apply(this,arguments)}function rN(e,t,n){return iN.apply(this,arguments)}function iN(){return iN=Es(xs().mark((function e(t,n,r){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fx(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,BC(t);case 5:t.gu.set("Offline"),r||(r=function(){return ZT(t.localStore)}),t.asyncQueue.enqueueRetryable(Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yw("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,UC(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),iN.apply(this,arguments)}function aN(e,t){return t().catch((function(n){return rN(e,n,t)}))}function oN(e){return uN.apply(this,arguments)}function uN(){return uN=Es(xs().mark((function e(t){var n,r,i,a;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Iw(t),r=_N(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!sN(n)){e.next=19;break}return e.prev=3,e.next=6,nC(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,cN(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,rN(n,e.t0);case 17:e.next=2;break;case 19:lN(n)&&fN(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),uN.apply(this,arguments)}function sN(e){return YC(e)&&e.fu.length<10}function cN(e,t){e.fu.push(t);var n=_N(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function lN(e){return YC(e)&&!_N(e).No()&&e.fu.length>0}function fN(e){_N(e).start()}function hN(e){return dN.apply(this,arguments)}function dN(){return dN=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_N(t).eu();case 1:case"end":return e.stop()}}),e)}))),dN.apply(this,arguments)}function pN(e){return vN.apply(this,arguments)}function vN(){return vN=Es(xs().mark((function e(t){var n,r,i,a;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=_N(t),r=Yn(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),vN.apply(this,arguments)}function mN(e,t,n){return yN.apply(this,arguments)}function yN(){return yN=Es(xs().mark((function e(t,n,r){var i,a;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=fS.from(i,n,r),e.next=3,aN(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,oN(t);case 5:case"end":return e.stop()}}),e)}))),yN.apply(this,arguments)}function gN(e,t){return kN.apply(this,arguments)}function kN(){return kN=Es(xs().mark((function e(t,n){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&_N(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Es(xs().mark((function e(t,n){var r,i;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!OE(i=n.code)||i===Ew.ABORTED){e.next=7;break}return r=t.fu.shift(),_N(t).Mo(),e.next=5,aN(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,oN(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:lN(t)&&fN(t);case 5:case"end":return e.stop()}}),e)}))),kN.apply(this,arguments)}function bN(e,t){return wN.apply(this,arguments)}function wN(){return wN=Es(xs().mark((function e(t,n){var r,i;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Iw(t)).asyncQueue.verifyOperationInProgress(),yw("RemoteStore","RemoteStore received new credentials"),i=YC(r),r._u.add(3),e.next=6,BC(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,UC(r);case 12:case"end":return e.stop()}}),e)}))),wN.apply(this,arguments)}function xN(e,t){return IN.apply(this,arguments)}function IN(){return IN=Es(xs().mark((function e(t,n){var r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Iw(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,UC(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,BC(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),IN.apply(this,arguments)}function EN(e){return e.pu||(e.pu=function(e,t,n){var r=Iw(e);return r.su(),new PC(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:XC.bind(null,e),Zr:ZC.bind(null,e),Wo:tN.bind(null,e)}),e.wu.push(function(){var t=Es(xs().mark((function t(n){return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),QC(e)?GC(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:$C(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function _N(e){return e.Iu||(e.Iu=function(e,t,n){var r=Iw(e);return r.su(),new LC(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:hN.bind(null,e),Zr:gN.bind(null,e),tu:pN.bind(null,e),Zo:mN.bind(null,e)}),e.wu.push(function(){var t=Es(xs().mark((function t(n){return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,oN(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(yw("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var SN=function(){function e(t,n,r,i,a){tt(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Sw,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return rt(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _w(Ew.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function TN(e,t){if(gw("AsyncQueue","".concat(t,": ").concat(e)),fx(e))return new _w(Ew.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var CN=function(){function e(t){tt(this,e),this.comparator=t?function(e,n){return t(e,n)||Hw.comparator(e.key,n.key)}:function(e,t){return Hw.comparator(e.key,t.key)},this.keyedMap=jE(),this.sortedSet=new xx(this.comparator)}return rt(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),NN=function(){function e(){tt(this,e),this.Tu=new xx(Hw.comparator)}return rt(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):ww():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),AN=function(){function e(t,n,r,i,a,o,u,s,c){tt(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return rt(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&KI(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,CN.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),DN=rt((function e(){tt(this,e),this.Au=void 0,this.listeners=[]})),ON=rt((function e(){tt(this,e),this.queries=new PE((function(e){return WI(e)}),KI),this.onlineState="Unknown",this.Ru=new Set}));function RN(e,t){return PN.apply(this,arguments)}function PN(){return PN=Es(xs().mark((function e(t,n){var r,i,a,o,u;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Iw(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new DN),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=TN(e.t0,"Initialization of query '".concat(HI(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&UN(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),PN.apply(this,arguments)}function LN(e,t){return MN.apply(this,arguments)}function MN(){return MN=Es(xs().mark((function e(t,n){var r,i,a,o,u;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Iw(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),MN.apply(this,arguments)}function FN(e,t){var n,r=Iw(e),i=!1,a=Yn(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Yn(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&UN(r)}function jN(e,t,n){var r=Iw(e),i=r.queries.get(t);if(i){var a,o=Yn(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function UN(e){e.Ru.forEach((function(e){e.next()}))}var VN=function(){function e(t,n,r){tt(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return rt(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Yn(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new AN(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=AN.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),BN=function(){function e(t,n){tt(this,e),this.ku=t,this.byteLength=n}return rt(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),zN=function(){function e(t){tt(this,e),this.It=t}return rt(e,[{key:"Ji",value:function(e){return d_(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?k_(this.It,e.document,!1):fI.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return c_(e)}}]),e}(),qN=function(){function e(t,n,r){tt(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=KN(t)}return rt(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=qw.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new zN(this.It),i=Yn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=Yn(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||WE()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Es(xs().mark((function e(){var t,n,r,i,a;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lC(this.localStore,new zN(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=Yn(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,hC(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function KN(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var WN=rt((function e(t){tt(this,e),this.key=t})),HN=rt((function e(t){tt(this,e),this.key=t})),GN=function(){function e(t,n){tt(this,e),this.query=t,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=WE(),this.mutatedKeys=WE(),this.Gu=YI(t),this.Qu=new CN(this.Gu)}return rt(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new NN,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=GI(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ww()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new AN(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new NN,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=WE(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new HN(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new WN(e))})),n}},{key:"tc",value:function(e){this.Uu=e.Hi,this.Ku=WE();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return AN.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),QN=rt((function e(t,n,r){tt(this,e),this.query=t,this.targetId=n,this.view=r})),YN=rt((function e(t){tt(this,e),this.key=t,this.nc=!1})),$N=function(){function e(t,n,r,i,a,o){tt(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new PE((function(e){return WI(e)}),KI),this.rc=new Map,this.oc=new Set,this.uc=new xx(Hw.comparator),this.cc=new Map,this.ac=new AT,this.hc={},this.lc=new Map,this.fc=oT.vn(),this.onlineState="Unknown",this.dc=void 0}return rt(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function XN(e,t){return JN.apply(this,arguments)}function JN(){return JN=Es(xs().mark((function e(t,n){var r,i,a,o,u,s;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=KA(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,rC(r.localStore,zI(n));case 8:return u=e.sent,r.isPrimaryClient&&qC(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,ZN(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),JN.apply(this,arguments)}function ZN(e,t,n,r,i){return eA.apply(this,arguments)}function eA(){return eA=Es(xs().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=Es(xs().mark((function e(t,n,r,i){var a,o,u;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,oC(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(bA(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,oC(t.localStore,n,!0);case 3:return o=e.sent,u=new GN(n,o.Hi),s=u.Wu(o.documents),c=YE.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),bA(t,r,l.Xu),f=new QN(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),eA.apply(this,arguments)}function tA(e,t){return nA.apply(this,arguments)}function nA(){return nA=Es(xs().mark((function e(t,n){var r,i,a;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Iw(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!KI(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,iC(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),KC(r.remoteStore,i.targetId),gA(r,i.targetId)})).catch(ix);case 9:e.next=14;break;case 11:return gA(r,i.targetId),e.next=14,iC(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),nA.apply(this,arguments)}function rA(e,t,n){return iA.apply(this,arguments)}function iA(){return iA=Es(xs().mark((function e(t,n,r){var i,a,o;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=WA(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Iw(e),a=Vw.now(),o=t.reduce((function(e,t){return e.add(t.key)}),WE());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=ME(),s=WE();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Yn(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=bE(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new IE(c.key,l,lI(l.value.mapValue),pE.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:UE(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new xx(Fw)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,IA(i,a.changes);case 9:return e.next=11,oN(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=TN(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),iA.apply(this,arguments)}function aA(e,t){return oA.apply(this,arguments)}function oA(){return oA=Es(xs().mark((function e(t,n){var r,i;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Iw(t),e.prev=1,e.next=4,eC(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(xw(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?xw(n.nc):e.removedDocuments.size>0&&(xw(n.nc),n.nc=!1))})),e.next=8,IA(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,ix(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),oA.apply(this,arguments)}function uA(e,t,n){var r=Iw(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Iw(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Yn(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&UN(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function sA(e,t,n){return cA.apply(this,arguments)}function cA(){return cA=Es(xs().mark((function e(t,n,r){var i,a,o,u,s,c;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Iw(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new xx(Hw.comparator)).insert(o,fI.newNoDocument(o,Bw.min())),s=WE().add(o),c=new QE(Bw.min(),new Map,new _x(Fw),u,s),e.next=9,aA(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),xA(i),e.next=16;break;case 14:return e.next=16,iC(i.localStore,n,!1).then((function(){return gA(i,n,r)})).catch(ix);case 16:case"end":return e.stop()}}),e)}))),cA.apply(this,arguments)}function lA(e,t){return fA.apply(this,arguments)}function fA(){return fA=Es(xs().mark((function e(t,n){var r,i,a;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Iw(t),i=n.batch.batchId,e.prev=1,e.next=4,JT(r.localStore,n);case 4:return a=e.sent,yA(r,i,null),mA(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,IA(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ix(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),fA.apply(this,arguments)}function hA(e,t,n){return dA.apply(this,arguments)}function dA(){return dA=Es(xs().mark((function e(t,n,r){var i,a;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Iw(t),e.prev=1,e.next=4,function(e,t){var n=Iw(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return xw(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,yA(i,n,r),mA(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,IA(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ix(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),dA.apply(this,arguments)}function pA(e,t){return vA.apply(this,arguments)}function vA(){return vA=Es(xs().mark((function e(t,n){var r,i,a,o;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return YC((r=Iw(t)).remoteStore)||yw("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Iw(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=TN(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),vA.apply(this,arguments)}function mA(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function yA(e,t,n){var r=Iw(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function gA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Yn(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||kA(e,t)}))}function kA(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(KC(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),xA(e))}function bA(e,t,n){var r,i=Yn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof WN?(e.ac.addReference(a.key,t),wA(e,a)):a instanceof HN?(yw("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||kA(e,a.key)):ww()}}catch(o){i.e(o)}finally{i.f()}}function wA(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(yw("SyncEngine","New document in limbo: "+n),e.oc.add(r),xA(e))}function xA(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new Hw(qw.fromString(t)),r=e.fc.next();e.cc.set(r,new YN(n)),e.uc=e.uc.insert(n,r),qC(e.remoteStore,new dS(zI(MI(n.path)),r,2,gx.at))}}function IA(e,t,n){return EA.apply(this,arguments)}function EA(){return EA=Es(xs().mark((function e(t,n,r){var i,a,o,u;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Iw(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=HT.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.Wo(a),e.next=9,function(){var e=Es(xs().mark((function e(t,n){var r,i,a,o,u,s,c,l;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Iw(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ox.forEach(n,(function(t){return ox.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ox.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),fx(e.t0)){e.next=10;break}throw e.t0;case 10:yw("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Yn(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),EA.apply(this,arguments)}function _A(e,t){return SA.apply(this,arguments)}function SA(){return SA=Es(xs().mark((function e(t,n){var r,i;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Iw(t)).currentUser.isEqual(n)){e.next=11;break}return yw("SyncEngine","User change. New user:",n.toKey()),e.next=5,$T(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new _w(Ew.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,IA(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),SA.apply(this,arguments)}function TA(e,t){var n=Iw(e),r=n.cc.get(t);if(r&&r.nc)return WE().add(r.key);var i=WE(),a=n.rc.get(t);if(!a)return i;var o,u=Yn(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function CA(e,t){return NA.apply(this,arguments)}function NA(){return NA=Es(xs().mark((function e(t,n){var r,i,a;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Iw(t),e.next=3,oC(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&bA(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),NA.apply(this,arguments)}function AA(e,t){return DA.apply(this,arguments)}function DA(){return DA=Es(xs().mark((function e(t,n){var r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Iw(t),e.abrupt("return",sC(r.localStore,n).then((function(e){return IA(r,e)})));case 2:case"end":return e.stop()}}),e)}))),DA.apply(this,arguments)}function OA(e,t,n,r){return RA.apply(this,arguments)}function RA(){return RA=Es(xs().mark((function e(t,n,r,i){var a,o;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Iw(t),e.next=3,function(e,t){var n=Iw(e),r=Iw(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):ox.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,oN(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(yA(a,n,i||null),mA(a,n),function(e,t){Iw(Iw(e).mutationQueue).An(t)}(a.localStore,n)):ww();case 11:return e.next=13,IA(a,o);case 13:e.next=16;break;case 15:yw("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),RA.apply(this,arguments)}function PA(e,t){return LA.apply(this,arguments)}function LA(){return LA=Es(xs().mark((function e(t,n){var r,i,a,o,u,s,c,l;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(KA(r=Iw(t)),WA(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,MA(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,xN(r.remoteStore,!0);case 9:o=Yn(a);try{for(o.s();!(u=o.n()).done;)s=u.value,qC(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return gA(r,t),iC(r.localStore,t,!0)})),KC(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,MA(r,c);case 21:return function(e){var t=Iw(e);t.cc.forEach((function(e,n){KC(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new xx(Hw.comparator)}(r),r.dc=!1,e.next=25,xN(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),LA.apply(this,arguments)}function MA(e,t,n){return FA.apply(this,arguments)}function FA(){return FA=Es(xs().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Iw(t),a=[],o=[],u=Yn(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,rC(i.localStore,zI(f[0]));case 11:l=e.sent,h=Yn(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,CA(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,uC(i.localStore,c);case 36:return y=e.sent,e.next=39,rC(i.localStore,y);case 39:return l=e.sent,e.next=42,ZN(i,jA(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),FA.apply(this,arguments)}function jA(e){return LI(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function UA(e){var t=Iw(e);return Iw(Iw(t.localStore).persistence).vi()}function VA(e,t,n,r){return BA.apply(this,arguments)}function BA(){return BA=Es(xs().mark((function e(t,n,r,i){var a,o,u,s;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Iw(t)).dc){e.next=3;break}return e.abrupt("return",void yw("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,sC(a.localStore,QI(o[0]));case 10:return u=e.sent,s=QE.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Nx.EMPTY_BYTE_STRING),e.next=14,IA(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,iC(a.localStore,n,!0);case 17:return gA(a,n,i),e.abrupt("break",20);case 19:ww();case 20:case"end":return e.stop()}}),e)}))),BA.apply(this,arguments)}function zA(e,t,n){return qA.apply(this,arguments)}function qA(){return qA=Es(xs().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=KA(t)).dc){e.next=45;break}a=Yn(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return yw("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,uC(i.localStore,u);case 12:return s=e.sent,e.next=15,rC(i.localStore,s);case 15:return c=e.sent,e.next=18,ZN(i,jA(s),c.targetId,!1,c.resumeToken);case 18:qC(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Yn(r),e.prev=30,h=xs().mark((function e(){var t;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,iC(i.localStore,t,!1).then((function(){KC(i.remoteStore,t),gA(i,t)})).catch(ix);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),qA.apply(this,arguments)}function KA(e){var t=Iw(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=aA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=TA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sA.bind(null,t),t.sc.Wo=FN.bind(null,t.eventManager),t.sc.wc=jN.bind(null,t.eventManager),t}function WA(e){var t=Iw(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lA.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hA.bind(null,t),t}function HA(e,t,n){var r=Iw(e);(function(){var e=Es(xs().mark((function e(t,n,r){var i,a,o,u,s;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Iw(e),r=c_(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(KN(i)),a=new qN(i,t.localStore,n.It),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,IA(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=Iw(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(kw("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var GA=function(){function e(){tt(this,e),this.synchronizeTabs=!1}return rt(e,[{key:"initialize",value:function(){var e=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=DC(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return YT(this.persistence,new GT,e.initialUser,this.It)}},{key:"yc",value:function(e){return new MT(jT.Bs,this.It)}},{key:"gc",value:function(e){return new IC}},{key:"terminate",value:function(){var e=Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),QA=function(e){Wt(n,e);var t=$t(n);function n(e,r,i){var a;return tt(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return rt(n,[{key:"initialize",value:function(){var e=Es(xs().mark((function e(t){var r=this;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt(zt(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,WA(this.Ac.syncEngine);case 6:return e.next=8,oN(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return YT(this.persistence,new GT,e.initialUser,this.It)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new dT(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new yx(t,this.persistence);return new mx(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=WT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?JS.withCacheSize(this.cacheSizeBytes):JS.DEFAULT;return new zT(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,NC(),AC(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new IC}}]),n}(GA),YA=function(e){Wt(n,e);var t=$t(n);function n(e,r){var i;return tt(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return rt(n,[{key:"initialize",value:function(){var e=Es(xs().mark((function e(t){var r,i=this;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt(zt(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof xC,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:OA.bind(null,r),$r:VA.bind(null,r),Br:zA.bind(null,r),vi:UA.bind(null,r),Mr:AA.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PA(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=NC();if(!xC.C(t))throw new _w(Ew.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=WT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new xC(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(QA),$A=function(){function e(){tt(this,e)}return rt(e,[{key:"initialize",value:function(){var e=Es(xs().mark((function e(t,n){var r=this;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return uA(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=_A.bind(null,this.syncEngine),e.next=12,xN(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new ON}},{key:"createDatastore",value:function(e){var t,n=DC(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new CC(t));return function(e,t,n,r){return new MC(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return uA(o.syncEngine,e,0)},a=_C.C()?new _C:new EC,new jC(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new $N(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Es(xs().mark((function e(t){var n;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Iw(t),yw("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,BC(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function XA(e,t,n){if(!n)throw new _w(Ew.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function JA(e,t,n,r){if(!0===t&&!0===r)throw new _w(Ew.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function ZA(e){if(!Hw.isDocumentKey(e))throw new _w(Ew.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function eD(e){if(Hw.isDocumentKey(e))throw new _w(Ew.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function tD(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ww()}function nD(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new _w(Ew.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=tD(e);throw new _w(Ew.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function rD(e,t){if(t<=0)throw new _w(Ew.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var iD=new Map,aD=function(){function e(t){var n;if(tt(this,e),void 0===t.host){if(void 0!==t.ssl)throw new _w(Ew.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new _w(Ew.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,JA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return rt(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),oD=function(){function e(t,n,r,i){tt(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aD({}),this._settingsFrozen=!1}return rt(e,[{key:"app",get:function(){if(!this._app)throw new _w(Ew.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new _w(Ew.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aD(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Cw;switch(e.type){case"gapi":var t=e.client;return new Ow(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new _w(Ew.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=iD.get(e);t&&(yw("ComponentProvider","Removing Datastore"),iD.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function uD(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=nD(e,oD))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&kw("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=dw.MOCK_USER;else{o=us(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new _w(Ew.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new dw(s)}e._authCredentials=new Nw(new Tw(o,u))}}var sD=function(){function e(t,n,r){tt(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return rt(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new lD(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),cD=function(){function e(t,n,r){tt(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return rt(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),lD=function(e){Wt(n,e);var t=$t(n);function n(e,r,i){var a;return tt(this,n),(a=t.call(this,e,r,MI(i)))._path=i,a.type="collection",a}return rt(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new sD(this.firestore,null,new Hw(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(cD);function fD(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ws(e),XA("collection","path",t),e instanceof oD){var a=qw.fromString.apply(qw,[t].concat(r));return eD(a),new lD(e,null,a)}if(!(e instanceof sD||e instanceof lD))throw new _w(Ew.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(qw.fromString.apply(qw,[t].concat(r)));return eD(o),new lD(e.firestore,null,o)}function hD(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ws(e),1===arguments.length&&(t=Mw.R()),XA("doc","path",t),e instanceof oD){var a=qw.fromString.apply(qw,[t].concat(r));return ZA(a),new sD(e,null,new Hw(a))}if(!(e instanceof sD||e instanceof lD))throw new _w(Ew.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(qw.fromString.apply(qw,[t].concat(r)));return ZA(o),new sD(e.firestore,e instanceof lD?e.converter:null,new Hw(o))}function dD(e,t){return e=ws(e),t=ws(t),(e instanceof sD||e instanceof lD)&&(t instanceof sD||t instanceof lD)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function pD(e,t){return e=ws(e),t=ws(t),e instanceof cD&&t instanceof cD&&e.firestore===t.firestore&&KI(e._query,t._query)&&e.converter===t.converter}function vD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Es(xs().mark((function r(){var i;return xs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var mD=function(){function e(t){tt(this,e),this.observer=t,this.muted=!1}return rt(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):gw("Uncaught Error in snapshot listener:",e)}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),yD=function(){function e(t,n){var r=this;tt(this,e),this.Pc=t,this.It=n,this.metadata=new Sw,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return rt(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=Es(xs().mark((function e(){var t,n,r,i;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new BN(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=Es(xs().mark((function e(){var t,n;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=Es(xs().mark((function e(t){var n;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=Es(xs().mark((function e(){var t,n;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),gD=function(){function e(t){tt(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return rt(e,[{key:"lookup",value:function(){var e=Es(xs().mark((function e(t){var n,r=this;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new _w(Ew.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Es(xs().mark((function e(t,n){var r,i,a,o,u,s;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Iw(t),i=m_(r.It)+"/documents",a={documents:n.map((function(e){return h_(r.It,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=b_(r.It,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());xw(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new NE(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Es(xs().mark((function e(){var t,n=this;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Hw.fromPath(t);n.mutations.push(new AE(r,n.precondition(r)))})),e.next=7,function(){var e=Es(xs().mark((function e(t,n){var r,i,a;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Iw(t),i=m_(r.It)+"/documents",a={writes:n.map((function(e){return w_(r.It,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ww();t=Bw.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new _w(Ew.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Bw.min())?pE.exists(!1):pE.updateTime(t):pE.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Bw.min()))throw new _w(Ew.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pE.updateTime(t)}return pE.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),kD=function(){function e(t,n,r,i,a){tt(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new OC(this.asyncQueue,"transaction_retry")}return rt(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(Es(xs().mark((function t(){var n,r;return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new gD(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!Ux(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!OE(t)}return!1}}]),e}(),bD=function(){function e(t,n,r,i){var a=this;tt(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dw.UNAUTHENTICATED,this.clientId=Mw.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yw("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return yw("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return rt(e,[{key:"getConfiguration",value:function(){var e=Es(xs().mark((function e(){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new _w(Ew.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Sw;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Es(xs().mark((function n(){var r;return xs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=TN(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function wD(e,t){return xD.apply(this,arguments)}function xD(){return xD=Es(xs().mark((function e(t,n){var r,i;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),yw("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,$T(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),xD.apply(this,arguments)}function ID(e,t){return ED.apply(this,arguments)}function ED(){return ED=Es(xs().mark((function e(t,n){var r,i;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,_D(t);case 3:return r=e.sent,yw("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return bN(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return bN(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),ED.apply(this,arguments)}function _D(e){return SD.apply(this,arguments)}function SD(){return SD=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return yw("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,wD(t,new GA);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),SD.apply(this,arguments)}function TD(e){return CD.apply(this,arguments)}function CD(){return CD=Es(xs().mark((function e(t){return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return yw("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,ID(t,new $A);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),CD.apply(this,arguments)}function ND(e){return _D(e).then((function(e){return e.persistence}))}function AD(e){return _D(e).then((function(e){return e.localStore}))}function DD(e){return TD(e).then((function(e){return e.remoteStore}))}function OD(e){return TD(e).then((function(e){return e.syncEngine}))}function RD(e){return TD(e).then((function(e){return e.datastore}))}function PD(e){return LD.apply(this,arguments)}function LD(){return LD=Es(xs().mark((function e(t){var n,r;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,TD(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=XN.bind(null,n.syncEngine),r.onUnlisten=tA.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),LD.apply(this,arguments)}function MD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Sw;return e.asyncQueue.enqueueAndForget(Es(xs().mark((function i(){return xs().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new mD({next:function(a){t.enqueueAndForget((function(){return LN(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new _w(Ew.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new _w(Ew.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new VN(MI(n.path),a,{includeMetadataChanges:!0,Nu:!0});return RN(e,o)},i.next=3,PD(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function FD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Sw;return e.asyncQueue.enqueueAndForget(Es(xs().mark((function i(){return xs().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new mD({next:function(n){t.enqueueAndForget((function(){return LN(e,o)})),n.fromCache&&"server"===r.source?i.reject(new _w(Ew.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new VN(n,a,{includeMetadataChanges:!0,Nu:!0});return RN(e,o)},i.next=3,PD(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var jD=function(){function e(){var t=this;tt(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new OC(this,"async_queue_retry"),this.Wc=function(){var e=AC();e&&yw("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=AC();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return rt(e,[{key:"isShuttingDown",get:function(){return this.Uc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;var t=AC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.Uc)return new Promise((function(){}));var n=new Sw;return this.Hc((function(){return t.Uc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=Es(xs().mark((function e(){var t=this;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),fx(e.t0)){e.next=12;break}throw e.t0;case 12:yw("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw gw("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=SN.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.qc.push(i),i}},{key:"zc",value:function(){this.Kc&&ww()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=Es(xs().mark((function e(){var t;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=Yn(this.qc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.qc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Yn(t.qc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.qc.indexOf(e);this.qc.splice(t,1)}}]),e}();function UD(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Yn(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var VD=function(){function e(){tt(this,e),this._progressObserver={},this._taskCompletionResolver=new Sw,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return rt(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),BD=function(e){Wt(n,e);var t=$t(n);function n(e,r,i,a){var o;return tt(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new jD,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return rt(n,[{key:"_terminate",value:function(){return this._firestoreClient||qD(this),this._firestoreClient.terminate()}}]),n}(oD);function zD(e){return e._firestoreClient||qD(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function qD(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Fx(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new bD(e._authCredentials,e._appCheckCredentials,e._queue,r)}function KD(e,t,n){var r=new Sw;return e.asyncQueue.enqueue(Es(xs().mark((function i(){var a;return xs().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,wD(e,n);case 3:return i.next=5,ID(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Ew.FAILED_PRECONDITION||e.code===Ew.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:kw("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function WD(e){return function(e){return e.asyncQueue.enqueue(Es(xs().mark((function t(){var n,r;return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ND(e);case 2:return n=t.sent,t.next=5,DD(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Iw(e);return t._u.delete(0),UC(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(zD(e=nD(e,BD)))}function HD(e){return function(e){return e.asyncQueue.enqueue(Es(xs().mark((function t(){var n,r;return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ND(e);case 2:return n=t.sent,t.next=5,DD(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Es(xs().mark((function e(t){var n;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Iw(t))._u.add(0),e.next=4,BC(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(zD(e=nD(e,BD)))}function GD(e,t){var n=zD(e=nD(e,BD)),r=new VD;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new yD(e,t)}(function(e,t){if(e instanceof Uint8Array)return vD(e,t);if(e instanceof ArrayBuffer)return vD(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,DC(t));e.asyncQueue.enqueueAndForget(Es(xs().mark((function t(){return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=HA,t.next=3,OD(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function QD(e,t){return function(e,t){return e.asyncQueue.enqueue(Es(xs().mark((function n(){return xs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Iw(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,AD(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(zD(e=nD(e,BD)),t).then((function(t){return t?new cD(e,null,t.query):null}))}function YD(e){if(e._initialized||e._terminated)throw new _w(Ew.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var $D=function(){function e(t){tt(this,e),this._byteString=t}return rt(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Nx.fromBase64String(t))}catch(t){throw new _w(Ew.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Nx.fromUint8Array(t))}}]),e}(),XD=function(){function e(){tt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new _w(Ew.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ww(n)}return rt(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var JD=rt((function e(t){tt(this,e),this._methodName=t})),ZD=function(){function e(t,n){if(tt(this,e),!isFinite(t)||t<-90||t>90)throw new _w(Ew.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new _w(Ew.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return rt(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Fw(this._lat,e._lat)||Fw(this._long,e._long)}}]),e}(),eO=/^__.*__$/,tO=function(){function e(t,n,r){tt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return rt(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new IE(e,this.data,this.fieldMask,t,this.fieldTransforms):new xE(e,this.data,t,this.fieldTransforms)}}]),e}(),nO=function(){function e(t,n,r){tt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return rt(e,[{key:"toMutation",value:function(e,t){return new IE(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function rO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ww()}}var iO=function(){function e(t,n,r,i,a,o){tt(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return rt(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return EO(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(rO(this.sa)&&eO.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),aO=function(){function e(t,n,r){tt(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||DC(t)}return rt(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new iO({sa:e,methodName:t,fa:n,path:Ww.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function oO(e){var t=e._freezeSettings(),n=DC(e._databaseId);return new aO(e._databaseId,!!t.ignoreUndefinedProperties,n)}function uO(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);bO("Data must be an object, but it was:",o,r);var u,s,c=gO(r,o);if(a.merge)u=new Cx(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Yn(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=wO(t,d,n);if(!o.contains(p))throw new _w(Ew.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));_O(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Cx(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new tO(new cI(c),u,s)}var sO=function(e){Wt(n,e);var t=$t(n);function n(){return tt(this,n),t.apply(this,arguments)}return rt(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(JD);function cO(e,t,n){return new iO({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var lO=function(e){Wt(n,e);var t=$t(n);function n(){return tt(this,n),t.apply(this,arguments)}return rt(n,[{key:"_toFieldTransform",value:function(e){return new hE(e.path,new iE)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(JD),fO=function(e){Wt(n,e);var t=$t(n);function n(e,r){var i;return tt(this,n),(i=t.call(this,e))._a=r,i}return rt(n,[{key:"_toFieldTransform",value:function(e){var t=cO(this,e,!0),n=this._a.map((function(e){return yO(e,t)})),r=new aE(n);return new hE(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(JD),hO=function(e){Wt(n,e);var t=$t(n);function n(e,r){var i;return tt(this,n),(i=t.call(this,e))._a=r,i}return rt(n,[{key:"_toFieldTransform",value:function(e){var t=cO(this,e,!0),n=this._a.map((function(e){return yO(e,t)})),r=new uE(n);return new hE(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(JD),dO=function(e){Wt(n,e);var t=$t(n);function n(e,r){var i;return tt(this,n),(i=t.call(this,e)).wa=r,i}return rt(n,[{key:"_toFieldTransform",value:function(e){var t=new cE(e.It,ZI(e.It,this.wa));return new hE(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(JD);function pO(e,t,n,r){var i=e.da(1,t,n);bO("Data must be an object, but it was:",i,r);var a=[],o=cI.empty();bx(r,(function(e,r){var u=IO(t,e,n);r=ws(r);var s=i.ca(u);if(r instanceof sO)a.push(u);else{var c=yO(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Cx(a);return new nO(o,u,i.fieldTransforms)}function vO(e,t,n,r,i,a){var o=e.da(1,t,n),u=[wO(t,r,n)],s=[i];if(a.length%2!=0)throw new _w(Ew.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(wO(t,a[c])),s.push(a[c+1]);for(var l=[],f=cI.empty(),h=u.length-1;h>=0;--h)if(!_O(l,u[h])){var d=u[h],p=s[h];p=ws(p);var v=o.ca(d);if(p instanceof sO)l.push(d);else{var m=yO(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Cx(l);return new nO(f,y,o.fieldTransforms)}function mO(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return yO(n,e.da(r?4:3,t))}function yO(e,t){if(kO(e=ws(e)))return bO("Unsupported field value:",t,e),gO(e,t);if(e instanceof JD)return function(e,t){if(!rO(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Yn(e);try{for(a.s();!(n=a.n()).done;){var o=yO(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ws(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ZI(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Vw.fromDate(e);return{timestampValue:o_(t.It,n)}}if(e instanceof Vw){var r=new Vw(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:o_(t.It,r)}}if(e instanceof ZD)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof $D)return{bytesValue:u_(t.It,e._byteString)};if(e instanceof sD){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:l_(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(tD(e)))}(e,t)}function gO(e,t){var n={};return wx(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):bx(e,(function(e,r){var i=yO(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function kO(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Vw||e instanceof ZD||e instanceof $D||e instanceof sD||e instanceof JD)}function bO(e,t,n){if(!kO(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=tD(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function wO(e,t,n){if((t=ws(t))instanceof XD)return t._internalPath;if("string"==typeof t)return IO(e,t);throw EO("Field path arguments must be of type string or ",e,!1,void 0,n)}var xO=new RegExp("[~\\*/\\[\\]]");function IO(e,t,n){if(t.search(xO)>=0)throw EO("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Ta(XD,et(t.split(".")))._internalPath}catch(r){throw EO("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function EO(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new _w(Ew.INVALID_ARGUMENT,u+e+s)}function _O(e,t){return e.some((function(e){return e.isEqual(t)}))}var SO=function(){function e(t,n,r,i,a){tt(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return rt(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new sD(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new TO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(CO("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),TO=function(e){Wt(n,e);var t=$t(n);function n(){return tt(this,n),t.apply(this,arguments)}return rt(n,[{key:"data",value:function(){return Kt(zt(n.prototype),"data",this).call(this)}}]),n}(SO);function CO(e,t){return"string"==typeof t?IO(e,t):t instanceof XD?t._internalPath:t._delegate._internalPath}function NO(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new _w(Ew.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var AO=rt((function e(){tt(this,e)}));function DO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var OO=function(e){Wt(n,e);var t=$t(n);function n(e,r,i){var a;return tt(this,n),(a=t.call(this)).ma=e,a.ga=r,a.ya=i,a.type="where",a}return rt(n,[{key:"_apply",value:function(e){var t=oO(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new _w(Ew.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){qO(o,a);var s,c=[],l=Yn(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(zO(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=zO(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||qO(o,a),u=mO(n,"where",o,"in"===a||"not-in"===a);var h=bI.create(i,a,u);return function(e,t){if(t.dt()){var n=UI(e);if(null!==n&&!n.isEqual(t.field))throw new _w(Ew.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=jI(e);null!==r&&KO(e,t.field,r)}var i=function(e,t){var n,r=Yn(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new _w(Ew.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new _w(Ew.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new cD(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new PI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(AO);var RO=function(e){Wt(n,e);var t=$t(n);function n(e,r){var i;return tt(this,n),(i=t.call(this)).ma=e,i.pa=r,i.type="orderBy",i}return rt(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new _w(Ew.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new _w(Ew.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new AI(t,n);return function(e,t){if(null===jI(e)){var n=UI(e);null!==n&&KO(e,n,t.field)}}(e,r),r}(e._query,this.ma,this.pa);return new cD(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new PI(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(AO);var PO=function(e){Wt(n,e);var t=$t(n);function n(e,r,i){var a;return tt(this,n),(a=t.call(this)).type=e,a.Ia=r,a.Ta=i,a}return rt(n,[{key:"_apply",value:function(e){return new cD(e.firestore,e.converter,qI(e._query,this.Ia,this.Ta))}}]),n}(AO);var LO=function(e){Wt(n,e);var t=$t(n);function n(e,r,i){var a;return tt(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return rt(n,[{key:"_apply",value:function(e){var t=BO(e,this.type,this.Ea,this.Aa);return new cD(e.firestore,e.converter,function(e,t){return new PI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(AO);function MO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new LO("startAt",t,!0)}function FO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new LO("startAfter",t,!1)}var jO=function(e){Wt(n,e);var t=$t(n);function n(e,r,i){var a;return tt(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return rt(n,[{key:"_apply",value:function(e){var t=BO(e,this.type,this.Ea,this.Aa);return new cD(e.firestore,e.converter,function(e,t){return new PI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(AO);function UO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jO("endBefore",t,!1)}function VO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jO("endAt",t,!0)}function BO(e,t,n,r){if(n[0]=ws(n[0]),n[0]instanceof SO)return function(e,t,n,r,i){if(!r)throw new _w(Ew.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Yn(BI(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Xx(t,r.key));else{var c=r.data.field(s.field);if(Px(c))throw new _w(Ew.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new _w(Ew.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new NI(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=oO(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new _w(Ew.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new _w(Ew.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!VI(e)&&-1!==c.indexOf("/"))throw new _w(Ew.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(qw.fromString(c));if(!Hw.isDocumentKey(l))throw new _w(Ew.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Hw(l);u.push(Xx(t,f))}else{var h=mO(n,r,c);u.push(h)}}return new NI(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function zO(e,t,n){if("string"==typeof(n=ws(n))){if(""===n)throw new _w(Ew.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VI(t)&&-1!==n.indexOf("/"))throw new _w(Ew.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(qw.fromString(n));if(!Hw.isDocumentKey(r))throw new _w(Ew.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Xx(e,new Hw(r))}if(n instanceof sD)return Xx(e,n._key);throw new _w(Ew.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(tD(n),"."))}function qO(e,t){if(!Array.isArray(e)||0===e.length)throw new _w(Ew.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new _w(Ew.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function KO(e,t,n){if(!n.isEqual(t))throw new _w(Ew.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var WO=function(){function e(){tt(this,e)}return rt(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Kx(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ox(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rx(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ww()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return bx(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new ZD(Ox(e.latitude),Ox(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Lx(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Mx(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Dx(e);return new Vw(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=qw.fromString(e);xw(P_(n));var r=new jx(n.get(1),n.get(3)),i=new Hw(n.popFirst(5));return r.isEqual(t)||gw("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function HO(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var GO=function(e){Wt(n,e);var t=$t(n);function n(e){var r;return tt(this,n),(r=t.call(this)).firestore=e,r}return rt(n,[{key:"convertBytes",value:function(e){return new $D(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new sD(this.firestore,null,t)}}]),n}(WO),QO=function(){function e(t,n){tt(this,e),this.hasPendingWrites=t,this.fromCache=n}return rt(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),YO=function(e){Wt(n,e);var t=$t(n);function n(e,r,i,a,o,u){var s;return tt(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return rt(n,[{key:"exists",value:function(){return Kt(zt(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new $O(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(CO("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(SO),$O=function(e){Wt(n,e);var t=$t(n);function n(){return tt(this,n),t.apply(this,arguments)}return rt(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Kt(zt(n.prototype),"data",this).call(this,e)}}]),n}(YO),XO=function(){function e(t,n,r,i){tt(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new QO(i.hasPendingWrites,i.fromCache),this.query=r}return rt(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new $O(n._firestore,n._userDataWriter,r.key,r,new QO(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _w(Ew.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new $O(e._firestore,e._userDataWriter,t.doc.key,t.doc,new QO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new $O(e._firestore,e._userDataWriter,t.doc.key,t.doc,new QO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:JO(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function JO(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ww()}}function ZO(e,t){return e instanceof YO&&t instanceof YO?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof XO&&t instanceof XO&&e._firestore===t._firestore&&pD(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var eR=function(e){Wt(n,e);var t=$t(n);function n(e){var r;return tt(this,n),(r=t.call(this)).firestore=e,r}return rt(n,[{key:"convertBytes",value:function(e){return new $D(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new sD(this.firestore,null,t)}}]),n}(WO);function tR(e){e=nD(e,sD);var t=nD(e.firestore,BD),n=zD(t),r=new eR(t);return function(e,t){var n=new Sw;return e.asyncQueue.enqueueAndForget(Es(xs().mark((function r(){return xs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Es(xs().mark((function e(t,n,r){var i,a;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Iw(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new _w(Ew.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=TN(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,AD(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new YO(t,r,e._key,n,new QO(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function nR(e){e=nD(e,cD);var t=nD(e.firestore,BD),n=zD(t),r=new eR(t);return function(e,t){var n=new Sw;return e.asyncQueue.enqueueAndForget(Es(xs().mark((function r(){return xs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Es(xs().mark((function e(t,n,r){var i,a,o,u,s;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oC(t,n,!0);case 3:i=e.sent,a=new GN(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=TN(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,AD(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new XO(t,r,e,n)}))}function rR(e,t,n){e=nD(e,sD);var r=nD(e.firestore,BD),i=HO(e.converter,t,n);return uR(r,[uO(oO(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,pE.none())])}function iR(e,t,n){e=nD(e,sD);for(var r=nD(e.firestore,BD),i=oO(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return uR(r,[("string"==typeof(t=ws(t))||t instanceof XD?vO(i,"updateDoc",e._key,t,n,o):pO(i,"updateDoc",e._key,t)).toMutation(e._key,pE.exists(!0))])}function aR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ws(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||UD(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(UD(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof sD)l=nD(e.firestore,BD),f=MI(e._key.path),c={next:function(t){n[s]&&n[s](sR(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=nD(e,cD);l=nD(p.firestore,BD),f=p._query;var v=new eR(l);c={next:function(e){n[s]&&n[s](new XO(l,v,p,e))},error:n[s+1],complete:n[s+2]},NO(e._query)}return function(e,t,n,r){var i=new mD(r),a=new VN(t,i,n);return e.asyncQueue.enqueueAndForget(Es(xs().mark((function t(){return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=RN,t.next=3,PD(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(Es(xs().mark((function t(){return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=LN,t.next=3,PD(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(zD(l),f,h,c)}function oR(e,t){return function(e,t){var n=new mD(t);return e.asyncQueue.enqueueAndForget(Es(xs().mark((function t(){return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Iw(e).Ru.add(t),t.next()},t.next=3,PD(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(Es(xs().mark((function t(){return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Iw(e).Ru.delete(t)},t.next=3,PD(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(zD(e=nD(e,BD)),UD(t)?t:{next:t})}function uR(e,t){return function(e,t){var n=new Sw;return e.asyncQueue.enqueueAndForget(Es(xs().mark((function r(){return xs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=rA,r.next=3,OD(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(zD(e),t)}function sR(e,t,n){var r=n.docs.get(t._key),i=new eR(e);return new YO(e,i,t._key,r,new QO(n.hasPendingWrites,n.fromCache),t.converter)}var cR={maxAttempts:5},lR=function(){function e(t,n){tt(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=oO(t)}return rt(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=fR(e,this._firestore),i=HO(r.converter,t,n),a=uO(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,pE.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=fR(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ws(t))||t instanceof XD?vO(this._dataReader,"WriteBatch.update",i._key,t,n,o):pO(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,pE.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=fR(e,this._firestore);return this._mutations=this._mutations.concat(new NE(t._key,pE.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new _w(Ew.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function fR(e,t){if((e=ws(e)).firestore!==t)throw new _w(Ew.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var hR=function(e){Wt(n,e);var t=$t(n);function n(e,r){var i;return tt(this,n),(i=t.call(this,e,r))._firestore=e,i}return rt(n,[{key:"get",value:function(e){var t=this,r=fR(e,this._firestore),i=new eR(this._firestore);return Kt(zt(n.prototype),"get",this).call(this,e).then((function(e){return new YO(t._firestore,i,r._key,e._document,new QO(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){tt(this,e),this._firestore=t,this._transaction=n,this._dataReader=oO(t)}return rt(e,[{key:"get",value:function(e){var t=this,n=fR(e,this._firestore),r=new GO(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ww();var i=e[0];if(i.isFoundDocument())return new SO(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new SO(t._firestore,r,n._key,null,n.converter);throw ww()}))}},{key:"set",value:function(e,t,n){var r=fR(e,this._firestore),i=HO(r.converter,t,n),a=uO(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=fR(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ws(t))||t instanceof XD?vO(this._dataReader,"Transaction.update",i._key,t,n,o):pO(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=fR(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function dR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new fO("arrayUnion",t)}function pR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new hO("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){pw=e}(gc),fc(new _s("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new BD(new Aw(e.getProvider("auth-internal")),new Pw(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new _w(Ew.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jx(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ec(hw,"3.7.2",e),Ec(hw,"3.7.2","esm2017")}();function vR(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new _w("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function mR(){if("undefined"===typeof Uint8Array)throw new _w("unimplemented","Uint8Arrays are not available in this environment.")}function yR(){if("undefined"==typeof atob)throw new _w("unimplemented","Blobs are unavailable in Firestore in this environment.")}var gR=function(){function e(t){tt(this,e),this._delegate=t}return rt(e,[{key:"toBase64",value:function(){return yR(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return mR(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return yR(),new e($D.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return mR(),new e($D.fromUint8Array(t))}}]),e}();function kR(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Yn(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var bR=function(){function e(){tt(this,e)}return rt(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){YD(e=nD(e,BD));var n=zD(e),r=e._freezeSettings(),i=new $A;return KD(n,i,new QA(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){YD(e=nD(e,BD));var t=zD(e),n=e._freezeSettings(),r=new $A;return KD(t,r,new YA(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new _w(Ew.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Sw;return e._queue.enqueueAndForgetEvenWhileRestricted(Es(xs().mark((function n(){return xs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Es(xs().mark((function e(t){var n;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sx.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,sx.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(WT(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),wR=function(){function e(t,n,r){var i=this;tt(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof jx||(this._appCompat=t)}return rt(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||kw("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};uD(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return WD(this._delegate)}},{key:"disableNetwork",value:function(){return HD(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&JA("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Sw;return e.asyncQueue.enqueueAndForget(Es(xs().mark((function n(){return xs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=pA,n.next=3,OD(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(zD(e=nD(e,BD)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return oR(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new _w("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new LR(this,fD(this._delegate,e))}catch(lP){throw TR(lP,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new SR(this,hD(this._delegate,e))}catch(lP){throw TR(lP,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new OR(this,function(e,t){if(e=nD(e,oD),XA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new _w(Ew.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new cD(e,null,function(e){return new PI(qw.emptyPath(),e)}(t))}(this._delegate,e))}catch(lP){throw TR(lP,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=nD(e,BD);var r=Object.assign(Object.assign({},cR),n);return function(e){if(e.maxAttempts<1)throw new _w(Ew.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Sw;return e.asyncQueue.enqueueAndForget(Es(xs().mark((function i(){var a;return xs().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,RD(e);case 2:a=i.sent,new kD(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(zD(e),(function(n){return t(new hR(e,n))}),r)}(this._delegate,(function(n){return e(new IR(t,n))}))}},{key:"batch",value:function(){var e=this;return zD(this._delegate),new ER(new lR(this._delegate,(function(t){return uR(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return GD(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return QD(this._delegate,e).then((function(e){return e?new OR(t,e):null}))}}]),e}(),xR=function(e){Wt(n,e);var t=$t(n);function n(e){var r;return tt(this,n),(r=t.call(this)).firestore=e,r}return rt(n,[{key:"convertBytes",value:function(e){return new gR(new $D(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return SR.forKey(t,this.firestore,null)}}]),n}(WO);var IR=function(){function e(t,n){tt(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new xR(t)}return rt(e,[{key:"get",value:function(e){var t=this,n=MR(e);return this._delegate.get(n).then((function(e){return new AR(t._firestore,new YO(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=MR(e);return n?(vR("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=MR(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=MR(e);return this._delegate.delete(t),this}}]),e}(),ER=function(){function e(t){tt(this,e),this._delegate=t}return rt(e,[{key:"set",value:function(e,t,n){var r=MR(e);return n?(vR("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=MR(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=MR(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),_R=function(){function e(t,n,r){tt(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return rt(e,[{key:"fromFirestore",value:function(e,t){var n=new $O(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new DR(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new xR(t),n),i.set(n,a)),a}}]),e}();_R.INSTANCES=new WeakMap;var SR=function(){function e(t,n){tt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new xR(t)}return rt(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new LR(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new LR(this.firestore,fD(this._delegate,e))}catch(lP){throw TR(lP,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ws(e))instanceof sD&&dD(this._delegate,e)}},{key:"set",value:function(e,t){t=vR("DocumentReference.set",t);try{return t?rR(this._delegate,e,t):rR(this._delegate,e)}catch(lP){throw TR(lP,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?iR(this._delegate,e):iR.apply(void 0,[this._delegate,e,t].concat(r))}catch(lP){throw TR(lP,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return uR(nD(e.firestore,BD),[new NE(e._key,pE.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=CR(n),a=NR(n,(function(t){return new AR(e.firestore,new YO(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return aR(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?tR(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=nD(e,sD);var t=nD(e.firestore,BD);return MD(zD(t),e._key,{source:"server"}).then((function(n){return sR(t,e,n)}))}(this._delegate):function(e){e=nD(e,sD);var t=nD(e.firestore,BD);return MD(zD(t),e._key).then((function(n){return sR(t,e,n)}))}(this._delegate),t.then((function(e){return new AR(n.firestore,new YO(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(_R.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new _w("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new sD(n._delegate,r,new Hw(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new sD(n._delegate,r,t))}}]),e}();function TR(e,t,n){return e.message=e.message.replace(t,n),e}function CR(e){var t,n=Yn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!kR(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function NR(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=kR(e[0])?e[0]:kR(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var AR=function(){function e(t,n){tt(this,e),this._firestore=t,this._delegate=n}return rt(e,[{key:"ref",get:function(){return new SR(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return ZO(this._delegate,e._delegate)}}]),e}(),DR=function(e){Wt(n,e);var t=$t(n);function n(){return tt(this,n),t.apply(this,arguments)}return rt(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||ww()}(void 0!==t),t}}]),n}(AR),OR=function(){function e(t,n){tt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new xR(t)}return rt(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,DO(this._delegate,function(e,t,n){var r=t,i=CO("where",e);return new OO(i,r,n)}(t,n,r)))}catch(lP){throw TR(lP,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,DO(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=CO("orderBy",e);return new RO(n,t)}(t,n)))}catch(lP){throw TR(lP,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,DO(this._delegate,function(e){return rD("limit",e),new PO("limit",e,"F")}(t)))}catch(lP){throw TR(lP,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,DO(this._delegate,function(e){return rD("limitToLast",e),new PO("limitToLast",e,"L")}(t)))}catch(lP){throw TR(lP,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,DO(this._delegate,MO.apply(void 0,arguments)))}catch(lP){throw TR(lP,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,DO(this._delegate,FO.apply(void 0,arguments)))}catch(lP){throw TR(lP,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,DO(this._delegate,UO.apply(void 0,arguments)))}catch(lP){throw TR(lP,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,DO(this._delegate,VO.apply(void 0,arguments)))}catch(lP){throw TR(lP,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return pD(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?nR(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=nD(e,cD);var t=nD(e.firestore,BD),n=zD(t),r=new eR(t);return FD(n,e._query,{source:"server"}).then((function(n){return new XO(t,r,e,n)}))}(this._delegate):function(e){e=nD(e,cD);var t=nD(e.firestore,BD),n=zD(t),r=new eR(t);return NO(e._query),FD(n,e._query).then((function(n){return new XO(t,r,e,n)}))}(this._delegate),t.then((function(e){return new PR(n.firestore,new XO(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=CR(n),a=NR(n,(function(t){return new PR(e.firestore,new XO(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return aR(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(_R.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),RR=function(){function e(t,n){tt(this,e),this._firestore=t,this._delegate=n}return rt(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new DR(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),PR=function(){function e(t,n){tt(this,e),this._firestore=t,this._delegate=n}return rt(e,[{key:"query",get:function(){return new OR(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new DR(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new RR(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new DR(n._firestore,r))}))}},{key:"isEqual",value:function(e){return ZO(this._delegate,e._delegate)}}]),e}(),LR=function(e){Wt(n,e);var t=$t(n);function n(e,r){var i;return tt(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return rt(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new SR(this.firestore,e):null}},{key:"doc",value:function(e){try{return new SR(this.firestore,void 0===e?hD(this._delegate):hD(this._delegate,e))}catch(lP){throw TR(lP,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=nD(e.firestore,BD),r=hD(e),i=HO(e.converter,t);return uR(n,[uO(oO(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,pE.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new SR(t.firestore,e)}))}},{key:"isEqual",value:function(e){return dD(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(_R.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(OR);function MR(e){return nD(e,sD)}var FR=function(){function e(){tt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Ta(XD,n)}return rt(e,[{key:"isEqual",value:function(e){return(e=ws(e))instanceof XD&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Ww.keyField().canonicalString())}}]),e}(),jR=function(){function e(t){tt(this,e),this._delegate=t}return rt(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new lO("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new sO("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=dR.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=pR.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new dO("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),UR={Firestore:wR,GeoPoint:ZD,Timestamp:Vw,Blob:gR,Transaction:IR,WriteBatch:ER,DocumentReference:SR,DocumentSnapshot:AR,Query:OR,QueryDocumentSnapshot:DR,QuerySnapshot:PR,CollectionReference:LR,FieldPath:FR,FieldValue:jR,setLogLevel:function(e){!function(e){vw.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new _s("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},UR)))}(e,(function(e,t){return new wR(e,t,new bR)})),e.registerVersion("@firebase/firestore-compat","0.2.2")}(Qc);var VR=Qc.initializeApp({apiKey:"AIzaSyCXEywxrkxjEIAe7LmGkVy4zXiT8gocNns",authDomain:"reactcoderhouse-16925.firebaseapp.com",projectId:"reactcoderhouse-16925",storageBucket:"reactcoderhouse-16925.appspot.com",messagingSenderId:"790852771040",appId:"1:790852771040:web:825709e3f97c03a7ef0485"}),BR=Qc.firestore(VR),zR=function(){var e=Be((0,t.useState)([]),2),n=e[0],r=e[1],i=_o().categoria;return(0,t.useEffect)((function(){var e=BR.collection("productos");(i?e.where("categoria","==",i).get():e.get()).then((function(e){var t=e.docs,n=[];t.forEach((function(e){var t=e,r=u(u({},t.data()),{},{id:t.id});n.push(r)})),r(n)}))}),[i]),0===n.length?(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(Pu,{children:(0,I.jsx)(Fu,{className:"spinner",children:(0,I.jsx)(Wu,{animation:"border",variant:"success"})})})}):(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(zu,{productos:n},n.id)})},qR=function(e){var n=e.stock,r=e.initial,i=e.onAdd,a=Be((0,t.useState)(r),2),o=a[0],u=a[1];return(0,t.useEffect)((function(){}),[]),(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(Pu,{fluid:!0,children:(0,I.jsxs)(Fu,{className:"contadorItem mt-4",children:[(0,I.jsx)(Bu,{xs:4,children:(0,I.jsxs)(Fu,{children:[(0,I.jsx)(Bu,{children:(0,I.jsxs)(ha,{className:"botonMasMenos",onClick:function(){o>1&&u(o-1)},children:[" ","-"," "]})}),(0,I.jsx)(Bu,{children:(0,I.jsx)("p",{className:"counterText",children:o})}),(0,I.jsx)(Bu,{children:(0,I.jsxs)(ha,{className:"botonMasMenos",onClick:function(){o<n&&u(o+1)},children:[" ","+"," "]})})]})}),(0,I.jsx)(Bu,{children:(0,I.jsx)(ha,{className:"botonAgregarCarrito",variant:"primary",onClick:function(){n>0&&i(o)},children:"Agregar al Carrito"})})]})})})},KR=function(e){var n=e.productoDetalle,r=function(){return(0,I.jsx)(ha,{as:Ko,to:"/cart",children:"Ir al carrito"})},i=Be((0,t.useState)("botonItemCount"),2),a=i[0],o=i[1],s=(0,t.useContext)(Go).addProduct;return(0,I.jsx)(Pu,{children:(0,I.jsxs)(Fu,{children:[(0,I.jsx)(Bu,{md:"6",children:(0,I.jsx)("img",{className:"imgDetail",src:n.img,alt:n.nombre})}),(0,I.jsxs)(Bu,{md:"6",children:[(0,I.jsxs)("div",{className:"pt-5",children:[(0,I.jsx)("h1",{children:n.nombre}),(0,I.jsx)("p",{children:n.descripcion}),(0,I.jsxs)("h2",{children:["$",n.precio]})]}),(0,I.jsx)("div",{children:"botonItemCount"===a?(0,I.jsx)(qR,{stock:n.stock,initial:1,onAdd:function(e){var t=u(u({},n),{},{cantidad:e});s(t),o("botonIrCarrito")}}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(r,{}),(0,I.jsx)(ha,{className:"botonSeguir",as:Ko,to:"/",children:"Seguir Comprando"})]})})]})]})})},WR=function(){var e=Be((0,t.useState)([]),2),n=e[0],r=e[1],i=_o().id;return(0,t.useEffect)((function(){var e=BR.collection("productos").doc(i);(e=e.get()).then((function(e){var t=[],n=u(u({},e.data()),{},{id:e.id});t.push(n),r.apply(void 0,t)}))}),[i]),0===n.length?(0,I.jsx)(Pu,{children:(0,I.jsx)(Fu,{className:"spinner",children:(0,I.jsx)(Wu,{animation:"border",variant:"success"})})}):(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(KR,{productoDetalle:n})})},HR=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],GR=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.striped,a=e.bordered,o=e.borderless,s=e.hover,l=e.size,h=e.variant,d=e.responsive,p=c(e,HR),v=S(n,"table"),m=f()(r,v,h&&"".concat(v,"-").concat(h),l&&"".concat(v,"-").concat(l),i&&"".concat(v,"-").concat("string"===typeof i?"striped-".concat(i):"striped"),a&&"".concat(v,"-bordered"),o&&"".concat(v,"-borderless"),s&&"".concat(v,"-hover")),y=(0,I.jsx)("table",u(u({},p),{},{className:m,ref:t}));if(d){var g="".concat(v,"-responsive");return"string"===typeof d&&(g="".concat(g,"-").concat(d)),(0,I.jsx)("div",{className:g,children:y})}return y})),QR=GR,YR=function(){var e=(0,t.useContext)(Go).carrito,n=(0,t.useContext)(Go).removeProduct,r=e.map((function(e){return e.precio})).reduce((function(e,t){return e+t}),0);return 0===e.length?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("h1",{children:"carrito vacio"}),(0,I.jsx)(ha,{as:Ko,to:"/",children:"Ir al listado de productos"})]}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("h1",{children:"Carrito"}),(0,I.jsxs)(Pu,{children:[(0,I.jsx)(Fu,{children:(0,I.jsxs)(QR,{children:[(0,I.jsx)("thead",{children:(0,I.jsxs)("tr",{children:[(0,I.jsx)("th",{children:"\xcdtem"}),(0,I.jsx)("th",{children:"Cantidad"}),(0,I.jsx)("th",{children:"Precio"}),(0,I.jsx)("th",{})]})}),(0,I.jsx)("tbody",{children:e.map((function(e){return(0,I.jsxs)("tr",{children:[(0,I.jsx)("td",{children:e.nombre}),(0,I.jsx)("td",{children:e.cantidad}),(0,I.jsxs)("td",{children:["$",e.precio]}),(0,I.jsx)("td",{children:(0,I.jsx)(ha,{onClick:function(){return function(e){n(e)}(e.id)},variant:"danger",children:"X"})})]},e.id)}))})]})}),(0,I.jsx)(Fu,{children:(0,I.jsxs)("h1",{children:["Total: $",r]})}),(0,I.jsx)(Fu,{children:(0,I.jsx)(ha,{as:Ko,to:"/user",children:"COMPRAR"})})]})]})},$R=["as","className","type","tooltip"],XR={type:Nt().string,tooltip:Nt().bool,as:Nt().elementType},JR=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,s=e.tooltip,l=void 0!==s&&s,h=c(e,$R);return(0,I.jsx)(r,u(u({},h),{},{ref:t,className:f()(i,"".concat(o,"-").concat(l?"tooltip":"feedback"))}))}));JR.displayName="Feedback",JR.propTypes=XR;var ZR=JR,eP=t.createContext({}),tP=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],nP=t.forwardRef((function(e,n){var r,i,o=e.bsPrefix,s=e.type,l=e.size,h=e.htmlSize,d=e.id,p=e.className,v=e.isValid,m=void 0!==v&&v,y=e.isInvalid,g=void 0!==y&&y,k=e.plaintext,b=e.readOnly,w=e.as,x=void 0===w?"input":w,E=c(e,tP),_=(0,t.useContext)(eP).controlId;(o=S(o,"form-control"),k)?r=a({},"".concat(o,"-plaintext"),!0):(a(i={},o,!0),a(i,"".concat(o,"-").concat(l),l),r=i);return(0,I.jsx)(x,u(u({},E),{},{type:s,size:h,ref:n,readOnly:b,id:d||_,className:f()(p,r,m&&"is-valid",g&&"is-invalid","color"===s&&"".concat(o,"-color"))}))}));nP.displayName="FormControl";var rP=Object.assign(nP,{Feedback:ZR}),iP=function(){var e=(0,t.useContext)(Go).carrito,n=Be((0,t.useState)([]),2),r=n[0],i=n[1],a=Be((0,t.useState)([]),2),o=a[0],u=a[1],s=Be((0,t.useState)([]),2),c=s[0],l=s[1];return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(Pu,{id:"formularioUsuario",children:[(0,I.jsx)(rP,{className:"input",onChange:function(e){i(e.target.value)},placeholder:"Nombre"}),(0,I.jsx)(rP,{className:"input",onChange:function(e){u(e.target.value)},placeholder:"Apellido"}),(0,I.jsx)(rP,{className:"input",onChange:function(e){l(e.target.value)},placeholder:"e-mail"}),(0,I.jsx)(ha,{as:Ko,to:"/gracias",onClick:function(){var t=BR.collection("ordenes"),n={compra:{carrito:e},usuario:{nombre:r,apellido:o,email:c}};t.add(n)},className:"botonFormulario",children:"TERMINAR COMPRA"})]})})},aP=function(){return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("h1",{children:"Gracias por su compra, te hemos env\xedado un mail con los datos de tu compra"}),(0,I.jsx)(ha,{as:Ko,to:"/",children:"Seguir Comprando"})]})},oP=n.p+"static/media/nosotros.1b4ff38e9fa1ec7b0ebf.jpg",uP=function(){return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(Pu,{children:(0,I.jsxs)(Fu,{id:"nosotros",children:[(0,I.jsx)(Bu,{children:(0,I.jsx)("img",{className:"nosotrosImg",src:oP,alt:"Nosotros"})}),(0,I.jsx)(Bu,{children:(0,I.jsx)("p",{children:"Somos un emprendimiento que nace del amor y del fanatismo que tenemos por las plantas. Somos dos amigos que disfrutamos mucho de ellas y que de tanto compartir tips, fotos, experiencias, recomendaciones y alg\xfan que otro intercambio de plantas, nos dimos cuenta que ten\xedamos entre manos un hermoso proyecto que decidimos encarar con pasi\xf3n. Para nosotros, una planta es un ser vivio que nos acompa\xf1a y agasaja con su belleza en la intimidad de nuestro hogar. Es una compa\xf1\xeda que nos alegra todos los d\xedas con sus colores, texturas y formas. Es un ser que requiere atenci\xf3n y cuidado, que se comunica y crece. Una casa es un hogar cuando hay plantas. Ese es nuestro lema y por eso nuestro objetivo es ayudarte a convertir tu casa en un hogar. Sabemos que no todos conocen c\xf3mo cuidarlas y por eso no se animan a tener una, o piensan que requiere mucha atenci\xf3n y tiempo. Es por eso que una parte fundamental es el asesoramiento y el seguimiento de nuestros clientes y sus plantitas. Prometemos tomarnos todo el tiempo que sea necesario para acompa\xf1arte en tu proceso de busqueda de una planta."})})]})})})},sP=function(){return(0,I.jsx)(qo,{children:(0,I.jsxs)(Yo,{children:[(0,I.jsx)($o,{}),(0,I.jsx)(hu,{}),(0,I.jsxs)(Fo,{children:[(0,I.jsx)(Lo,{path:"/",element:(0,I.jsx)(zR,{})}),(0,I.jsx)(Lo,{path:"/categoria/:categoria",element:(0,I.jsx)(zR,{})}),(0,I.jsx)(Lo,{path:"/productos/detalles/:id",element:(0,I.jsx)(WR,{})}),(0,I.jsx)(Lo,{path:"/cart",element:(0,I.jsx)(YR,{})}),(0,I.jsx)(Lo,{path:"/user",element:(0,I.jsx)(iP,{})}),(0,I.jsx)(Lo,{path:"/gracias",element:(0,I.jsx)(aP,{})}),(0,I.jsx)(Lo,{path:"/nosotros",element:(0,I.jsx)(uP,{})})]})]})})},cP=document.getElementById("root");i.createRoot(cP).render((0,I.jsx)(sP,{}))}()}();
//# sourceMappingURL=main.029c6ee1.js.map